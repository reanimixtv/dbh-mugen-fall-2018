
[StateDef 1000]
type    = S
movetype= A
physics = S
velset = 0,0
poweradd= 60
anim = 1000
ctrl = 0
sprpriority = 2

[State 1010,sound]
type = Playsnd
trigger1 = AnimElem = 2
value = 15,2
channel = 0

[State 2500, dust]
type = Explod
trigger1 = Time = 0
anim = 8333
supermove = 1
ontop = 1
removeongethit = 1

[State 5356, Batarang]
type = Helper
trigger1 = AnimElem = 5
helpertype = normal
name = "jbomb"
ID = 5355
pos = 60,0
postype = p1
stateno = 5355
ownpal = 1



[State 1015, Spark]
type = Explod
trigger1 = ProjContact1015 = 1
trigger1 = !AnimExist(7696)
anim = 8570
pos = -50, 0
postype = p2
sprpriority = 3
bindtime = -1
ownpal = 1
ontop = 1
persistent = 0

[State 5356, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

; Fire Batarang Helper
[Statedef 5355]
type    = S
movetype = A
physics = N
anim = 1001
velset = 4

[state 5355, 1]
type = hitoverride
trigger1 = 1
time = -1
attr= SCA,AA,AP,AT
stateno = 7219
ignorehitpause = 1

[State 5355,sound]
type = Playsnd
trigger1 = AnimElem = 5
value = 60,0
channel = 0



[State 2510, 0]
type = VelAdd
trigger1 = (Time >= 4) && (Pos Y <= 0)
x = .15

[State 5355, HitDef]
type = HitDef
trigger1 = Time = 0
attr = S, SP
projID = 1000
projanim = 1000
damage = 55,1
animtype = heavy
guardflag = MA
hitflag = MAFP
pausetime = 0,10
hitsound   = S9,4
guardsound = S8500,0
guard.sparkno = S2500
sparkno = s9288
sparkxy = 20,-20
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -4
fall = 0
air.animtype = Back
air.velocity = -2.5,-5
air.juggle = 3
air.fall = 1
down.velocity = -5,-6
down.hittime = 30
down.bounce = 0
p2stateno = 7697


[State 5355,4]
type = ChangeState
trigger1 = movehit = 1
trigger2 = movecontact = 1
value = 10266

[State 99]
type = DestroySelf
trigger1 = time = 120

;-------------------------------------------------------------------------
[Statedef 10266]
type = S
movetype = I
physics = S
anim = 8570
sprpriority = 4

[State 99, NoHit]
type = NotHitBy
trigger1 = Time = 0
time = 0
value = SCA

[State 99]
type = DestroySelf
trigger1 = time = 7

[State 1000, fx]
type=explod
trigger1 = time = 0
anim=8570
ID=8570
sprpriority=1
postype=p1
bindtime=-1
removeongethit=0
ownpal=0


; Burned by grenade - custom P2 state
[Statedef 7697]
type    = A
physics = N
movetype = H
ctrl = 0
anim = 5002

[State 7696, 5]
type = VelSet
trigger1 = Time = 0
x = -3
y = -4


[State 2525, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = S300,3
volume = 100
channel = 0

[State 7697, changeAnim]
type = ChangeAnim
trigger1 = AnimExist(7697) && Anim != 7697
value = 7697

;Generated by Fighter Factory PalFX Editor
[State 0, PalFXWiz]
type = PalFX
trigger1 = Time = 0
time = 25
add = 240,50,0
mul = 250,224,120
sinadd = 110,55,85,10
invertall = 0
color = 0

[State 7696, gravity]
type = VelAdd
trigger1 = Time > 2
y = 0.45

[State 7696, 6]
type = SelfState
trigger1 = (Vel Y > 0) && (Pos Y >= 0)
value = 5100


;;---------------------------------------------------------------------------
 /|    |\  /|    |\
( ;Flower-Attack-1 )
 \|      \/      |/
;;---------------------------------------------------------------------------



[Statedef 1550]
type    = S
movetype= A
physics = S
velset = 0,0
poweradd= 80
anim = 1550
ctrl = 0
sprpriority = 2

[State 15501, 2]
type = PlaySnd
trigger1 = AnimElem = 2
value = 60,13
channel = 0

[State 15501, 2]
type = PlaySnd
trigger1 = AnimElem = 1
value = 60,35
channel = 0


[State 1010,]
type = Helper
trigger1 = AnimElem = 3
helpertype = normal
name = "ACID SPIT"
ID = 1551
pos = 60,-79
postype = p1
sprpriority = 3
stateno = 1551
ownpal = 1

[State 1010,sound]
type = Playsnd
trigger1 = time = 0
value = 9,0
channel = 0


[State 1010, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;-----------------------------------------------
;Spit Stream
[Statedef 1551]
type    = S
movetype= A
physics = N
velset = 9,0
anim = 1551
ctrl = 0
sprpriority = 1

[state 5355, 1]
type = hitoverride
trigger1 = 1
time = -1
attr= SCA,AA,AP,AT
stateno = 7219
ignorehitpause = 1

[State 1551,1-1]
type = Hitdef
trigger1 = AnimElem >= 1
attr = S, SA
damage = 95,1
priority = 6
getpower = 80,2
hitflag = MAF
guardflag = MA
pausetime = 0,0
hitsound = S60,14
guardsound = S8500,0
sparkno = -1
sparkxy = -10,-60
;guardsound = S4000,15
guard.ctrltime = 30
p2stateno = 11139
fall.recover = 0
fall.recovertime = 50
air.fall.recovertime = 50
p2facing = 1
p1stateno = 1553
fall = 0
palfx.add  = 40,248,10
palfx.sinadd = 70,70,70,15
palfx.time = 60
color = 0

[State 1551,1-2]
type = Hitdef
trigger1 = AnimElem >= 1
trigger1 = root,Var(7) >= 2
attr = S, SA
damage = 95,1
getpower = 80,2
priority = 6
hitflag = MAF
guardflag = MA
pausetime = 0,0
hitsound = S60,14
guardsound = S8500,0
sparkno = -1
sparkxy = -10,-60
;guardsound = S4000,15
guard.ctrltime = 30
palfx.add  = 40,248,10
palfx.sinadd = 70,70,70,15
palfx.time = 60
color = 0

[State 1551, 3]
Type = Changestate
trigger1 = MoveGuarded = 1
trigger2 = Movetype = H
trigger3 = MoveContact = 1
trigger3 = root,Var(7) >= 2
value = 1552

[State 1551, 4]
type = Destroyself
trigger1 = time = 100

;-----------------------------------------------
;Acid Droplets
[Statedef 1554]
type    = S
movetype= A
physics = N
velset = 0,0
anim = 1553
ctrl = 0
sprpriority = 4

[state 5355, 1]
type = hitoverride
trigger1 = 1
time = -1
attr= SCA,AA,AP,AT
stateno = 7219
ignorehitpause = 1

[State 1554, 1]
type = VelSet
trigger1 = anim = 1554
X = 0
Y = 0

[State 1554, 2-1]
type = VelSet
trigger1 = anim = 1553
trigger1 = time = 0
X = -6
Y = -3

[State 1554, 2-2]
type = VelSet
trigger1 = anim = 1553
trigger1 = time >= 3
trigger1 = time <= 5
X = -4
Y = -2

[State 1554, 2-3]
type = VelSet
trigger1 = anim = 1553
trigger1 = time >= 6
trigger1 = time <= 8
X = -2
Y = -1

[State 1554, 2-4]
type = VelSet
trigger1 = anim = 1553
trigger1 = time >= 9
trigger1 = time <= 11
X = 0
Y = 2

[State 1554, 2-5]
type = VelSet
trigger1 = anim = 1553
trigger1 = time >= 12
X = 0
Y = 4

[State 1554, CHANGING TO MAKE IT GO AWAY]
type = Changeanim
trigger1 = Pos Y > 3
trigger1 = anim = 1553
value = 1554

[State 1554, GO BYE BYE]
type = DestroySelf
trigger1 = anim = 1554
trigger1 = animtime = 0

;-----------------------------------------------
;Bye Acid Spit (Blocked)
[Statedef 1552]
type    = S
movetype= A
physics = N
velset = 0,0
anim = 1552
ctrl = 0
sprpriority = 4

[State 1552, Drop1]
type = helper
trigger1 = time = 0
stateno = 1554
name = "Acid Droplet1"
id = 1554
pos = 20,15
postype = p1
sprpriority = 4
ontop = 1

[State 1552, Drop2]
type = helper
trigger1 = time = 0
stateno = 1554
name = "Acid Droplet2"
id = 1554
pos = 1,0
postype = p1
sprpriority = 4
ontop = 1

[State 1552, Drop3]
type = helper
trigger1 = time = 0
stateno = 1554
name = "Acid Droplet3"
id = 1554
pos = 9,30
postype = p1
sprpriority = 4
ontop = 1

[State 1552, Drop4]
type = helper
trigger1 = time = 0
stateno = 1554
name = "Acid Droplet4"
id = 1554
pos = 25,-5
postype = p1
sprpriority = 4
ontop = 1

[State 1552, Drop5]
type = helper
trigger1 = time = 0
stateno = 1554
name = "Acid Droplet5"
id = 1554
pos = 24,35
postype = p1
sprpriority = 4
ontop = 1

[State 1552, Drop6]
type = helper
trigger1 = time = 0
stateno = 1554
name = "Acid Droplet6"
id = 1554
pos = 2,42
postype = p1
sprpriority = 4
ontop = 1

[State 1552, Drop7]
type = helper
trigger1 = time = 0
stateno = 1554
name = "Acid Droplet7"
id = 1554
pos = 26,51
postype = p1
sprpriority = 4
ontop = 1

[State 1552, 1]
type = VelSet
trigger1 = time = 3
X = 0

[State 1552, CHANGING TO MAKE IT GO AWAY]
type = Changeanim
trigger1 = time = 0
value = 1552

[State 1552, GO BYE BYE]
type = DestroySelf
trigger1 = animtime = 0

;-----------------------------------------------
;Acid Spit Hit
[Statedef 1553]
type    = S
movetype= A
physics = S
velset = 0,0
anim = 1552
ctrl = 0
sprpriority = 4

[State 1553, Drop1]
type = helper
trigger1 = time = 0
stateno = 1554
name = "Acid Droplet1"
id = 1554
pos = 30,15
postype = p1
sprpriority = 4
ontop = 1

[State 1553, Drop2]
type = helper
trigger1 = time = 0
stateno = 1554
name = "Acid Droplet2"
id = 1554
pos = 1,0
postype = p1
sprpriority = 4
ontop = 1

[State 1553, Drop3]
type = helper
trigger1 = time = 0
stateno = 1554
name = "Acid Droplet3"
id = 1554
pos = 9,30
postype = p1
sprpriority = 4
ontop = 1

[State 1553, Drop4]
type = helper
trigger1 = time = 0
stateno = 1554
name = "Acid Droplet4"
id = 1554
pos = 25,-5
postype = p1
sprpriority = 4
ontop = 1

[State 1553, Drop5]
type = helper
trigger1 = time = 0
stateno = 1554
name = "Acid Droplet5"
id = 1554
pos = 24,35
postype = p1
sprpriority = 4
ontop = 1

[State 1553, Drop6]
type = helper
trigger1 = time = 0
stateno = 1554
name = "Acid Droplet6"
id = 1554
pos = 2,42
postype = p1
sprpriority = 4
ontop = 1

[State 1553, Drop7]
type = helper
trigger1 = time = 0
stateno = 1554
name = "Acid Droplet7"
id = 1554
pos = 16,51
postype = p1
sprpriority = 4
ontop = 1

[State 1553, GO BYE BYE]
type = DestroySelf
trigger1 = animtime = 0


;;---------------------------------------------------------------------------
 ;/|    |\  /|    |\
;( ;Flower-Attack-2 )
; \|      \/      |/
 ;;---------------------------------------------------------------------------
[Statedef 1556]
type    = S
movetype= A
physics = S
juggle  = 4
velset = 0,0
poweradd= 80
anim = 1550
ctrl = 0
sprpriority = 2

[State 1610, 2]
type = PlaySnd
trigger1 = AnimElem = 2
value = 60,13
channel = 0

[State 15501, 2]
type = PlaySnd
trigger1 = AnimElem = 1
value = 60,35
channel = 0

[state 1610,2-1]
type = varrandom
trigger1 = time % 2 = 0
persistent = 1
v = 35
range = 28,45

[state 1610,2-2]
type = varrandom
trigger1 = time % 2 = 0
persistent = 1
v = 36
range = -80,-85

[State 1610,3-1]
type = Projectile
trigger1 = time = [15, 35]
trigger1 = time % 7 = 0
offset = var(35), var(36)
projid = 1610
projanim = 1553
projhitanim = 1554
projcancelanim = 1554
getpower = 6,1
velocity = 7,-1
projheightbound = -480, 0
projedgebound = 2000
projscreenbound = 2000
accel = 0, 0.15
attr = S, SP
animtype = Hard
damage = 16,1
hitflag = MAF
guardflag = MA
pausetime = 0,0
hitsound = S60,14
guard.sparkno = -1
guardsound = S8500,0
sparkno = -1
;sparkxy = 0,0
;guardsound = S5,0
ground.type = Low
ground.slidetime = 20
;guard.sparkno = S449
ground.hittime = 20
ground.velocity = -2, -3
guard.velocity = -3
air.velocity = -2, -3
airguard.velocity = -5,1
p2stateno = 11139
fall.recover = 0
fall.recovertime = 50
air.fall.recovertime = 50
fall = 1
palfx.add  = 40,248,10
palfx.sinadd = 70,70,70,15
palfx.time = 60
color = 0


[State 1610,3-2]
type = Projectile
trigger1 = time = [15, 35]
trigger1 = time % 7 = 3
offset = var(35), var(36)
projid = 1610
projanim = 1553
projhitanim = 1554
projcancelanim = 1554
velocity = 7,-2.25
projheightbound = -480, 0
projedgebound = 2000
projscreenbound = 2000
accel = 0, 0.15
attr = S, SP
animtype = Hard
getpower = 6,1
damage = 16,1
hitflag = MAF
guardflag = MA
pausetime = 0,0
hitsound = S60,14
guard.sparkno = -1
guardsound = S8500,0
sparkno = -1
;sparkxy = 0,0
;guardsound = S5,0
ground.type = Low
ground.slidetime = 20
ground.hittime = 20
;guard.sparkno = S449
ground.velocity = -2, -3
guard.velocity = -3
air.velocity = -2, -2
airguard.velocity = -5,1
p2stateno = 11139
fall.recover = 0
fall.recovertime = 50
air.fall.recovertime = 50
fall = 1
palfx.add  = 40,248,10
palfx.sinadd = 70,70,70,15
palfx.time = 60
color = 0

[State 1610,3-3]
type = Projectile
trigger1 = time = [15, 35]
trigger1 = time % 7 = 5
offset = var(35), var(36)
projid = 1610
projanim = 1553
projhitanim = 1554
projcancelanim = 1554
velocity = 7,-3.5
projheightbound = -480, 0
projedgebound = 2000
projscreenbound = 2000
accel = 0, 0.15
attr = S, SP
animtype = Hard
damage = 10,1
getpower = 6,1
hitflag = MAF
guardflag = MA
pausetime = 0,0
hitsound = S60,14
guard.sparkno = -1
guardsound = S8500,0
sparkno = -1
;sparkxy = 0,0
;guardsound = S5,0
ground.type = Low
;guard.sparkno = S449
ground.slidetime = 20
ground.hittime = 20
ground.velocity = -2, -3
guard.velocity = -3
air.velocity = -2, -1.5
airguard.velocity = -5,1
p2stateno = 11139
fall.recover = 0
fall.recovertime = 50
air.fall.recovertime = 50
fall = 1
palfx.add  = 40,248,10
palfx.sinadd = 70,70,70,15
palfx.time = 60
color = 0

[State 1610, 4]
type = AssertSpecial
flag = Invisible
trigger1 = Var(41) = 1
trigger1 = AnimTime = 0

[State 1610,5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[Statedef 1555]
type    = S
movetype= A
physics = S
velset = 0,0
poweradd= 80
anim = 1550
ctrl = 0
sprpriority = 2

[State 15501, 2]
type = PlaySnd
trigger1 = AnimElem = 1
value = 60,35
channel = 0

[State 15577, 2]
type = PlaySnd
trigger1 = AnimElem = 2
value = 60,13
channel = 0

[state 15577, 2]
type = helper
trigger1 = AnimElem = 2
helpertype = normal
name = "Flower-Attack-1"
ID = 15578
pos = 35,-38
postype = p1
stateno = 15578
ownpal = 1


[State 15577, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Gas States
[Statedef 15578]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 1555
sprpriority = 4

[state 15578, 1]
type = hitoverride
trigger1 = 1
time = -1
attr= SCA,NP,SP,HP
stateno = 7219
ignorehitpause = 1

[State 15578, 2]
type = hitby
trigger1 = 1
time = -1
value = SCA,NP,SP,HP
ignorehitpause = 1

[State 15578, 3]
type = playsnd
trigger1 = time = 0
value = s1004,1
channel = 0

[State 15578, 4]
type = VelSet
trigger1 = time = 0
x = ifelse (root, var(6) = 0, 5.5, 7)

[State 15578, 8]
type = HitDef
trigger1 = time = 0
attr = S,SP
animtype = Hard
damage = 95,1
getpower = 80,2
guardflag = MA
hitflag = MAF
pausetime = 2,4
sparkxy = 0,0
sparkno = s1555
guard.sparkno = S8001
hitsound = s54,17
guardsound = S8500,0
ground.type = Low
ground.slidetime = 15
ground.hittime  = 14
ground.velocity = -10
air.type = High
air.velocity = -13,10
air.fall = 1
air.hittime = 25
fall.recover = 0
fall.recovertime = 50
air.fall.recovertime = 50
p2stateno = 11139
palfx.add  = 40,248,10
palfx.sinadd = 70,70,70,15
palfx.time = 125
color = 0

[state 15578, 10]
type = ScreenBound
trigger1 = 1
value = 0
MoveCamera = 0, 0



[state 15578, 12]
type = destroyself
trigger1 = Movecontact
trigger2 = Frontedgedist<-80 || Backedgedist<0




; P2 States
;---------------------------------------------------------------------------
; HIT BY SMOKE
;----------------
[Statedef 11139]
type    = A
physics = N
movetype = H
ctrl = 0
anim = 5300

[State 0, ]
type = VelSet
trigger1 = Time = 0
x = 0
y = 0


[State 7696, 6]
type = SelfState
trigger1 = Time = 35
ctrl = 1
value = 5070

[Statedef 7219]
type    = A
movetype= A
physics = N
velset = 0,0
ctrl = 0
sprpriority = 0



[state 10366, 2]
type = destroyself
trigger1 = animtime = 0


;;---------------------------------------------------------------------------
; Card Throw A
;;---------------------------------------------------------------------------
[Statedef 1050]
type    = S
movetype= A
physics = S
poweradd= 70
velset = 0,0
anim = 2004
ctrl = 0
sprpriority = 2

[State 1000, card]
type = Helper
trigger1 = AnimElem = 5
helpertype = normal
name = "razorcard"
ID = 1051
pos = 0,-7
postype = p1
stateno = 1051
priority = 4
ownpal = 1

[State 1000, dust]
type = Explod
triggerall = !NumExplod(918)
trigger1 = Time = 0
anim = F918
supermove = 1
ontop = 1
removeongethit = 1

[State 1000,sound]
type = Playsnd
trigger1 = AnimElem = 5
value = 60,24
channel = 0

[State 1000, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
; Card Helper
;---------------------------------------------------------------------------
[Statedef 1051]
type    = S
movetype = A
physics = N
anim = 1055
velset = 9

[State 1005,sound]
type = Playsnd
trigger1 = time = 1
value = 8400,2
channel = 0

[State 1001, AfterImage]
type = null;AfterImage
trigger1 = Time = 0
time = 100
palcolor = 256
palbright = 256,256,256
palcontrast = 0,0,220
palpostbright = 0,0,256
paladd = 220,220,256
palmul = .65,.65,.8
timegap = 1
framegap = 1
trans = add

[State 1001, HitDef]
type = HitDef
trigger1 = Time = 0
attr = S, SP
damage   = 63,4
animtype = heavy
guardflag = MA
hitflag = MAFP
pausetime = 0,10
hitsound = S8000,1
guardsound = S8500,0
sparkno = -1
sparkxy = -35,-95
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -4
fall = 0
air.animtype = Back
air.velocity = -2.5,-5
air.juggle = 3
air.fall = 1
down.velocity = -5,-6
down.hittime = 30
down.bounce = 0

[State 1001, med1]
type = Explod
triggerall = !NumExplod(1056)
trigger1 = movehit = 1
anim = 1056
velocity = 0, 0
pos = 60, 0
postype = p2
sprpriority = 6
ontop = 1
facing=-1
bindtime =-1
removetime = 30
ownpal = 1

[State 1001, med1]
type = Explod
triggerall = !NumExplod(910)
trigger1 = movehit = 1
anim = 910
velocity = 0, 0
pos = 0, -87

postype = p2
sprpriority = 6
ontop = 1
bindtime =-1
removetime = 12
ownpal = 1

[state 5355, 1]
type = hitoverride
trigger1 = 1
time = -1
attr= SCA,AA,AP,AT
stateno = 7212
ignorehitpause = 1


[State 1002, ]
type = DestroySelf
trigger1 = time = 100

[State 1001, ChangeState]
type = Destroyself
trigger1 = Movecontact

[Statedef 7212]
type    = A
movetype= I
physics = N
ctrl = 0
velset = 0,0
anim = 1054
sprpriority = 2


[State 7212]
type = DestroySelf
trigger1 = time = 5
;---------------------------------------------------------------------------
;call PENGUIN
[Statedef 8999]
type    = S
movetype= I
physics = N
anim = 8989
ctrl = 0

[State 8999, s1]
type = PlaySnd
trigger1 = AnimElem = 7
value = 60,18
channel = 0


[State 8999, 1]
type = velset
trigger1 = time >= 0
x = 0
y = 0



[State 8999, 1]
type = Helper
trigger1 = Time = 0
trigger1 = facing = 1
trigger1 = numhelper(8999) = 0
helpertype = normal
name = "PENGUIN"
id = 8999
postype = left
facing = 1
pos = 0,0
stateno = 8998
keyctrl = 0
ownpal = 1


[State 99204, 3]
type = playsnd
trigger1 = animelem = 1
value = 60,28
channel = 0

[State 8999, 1]
type = Helper
trigger1 = Time = 0
trigger1 = facing = -1
trigger1 = numhelper(8999) = 0
helpertype = normal
name = "PENGUIN"
id = 8999
postype = right
facing = -1
pos = 0,0
stateno = 8998
keyctrl = 0
ownpal = 1

[State 8999, End1]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 8999, End2]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = P2BodyDist X <= 100
value = 0
ctrl = 1

[State 8999, End3]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = P2BodyDist X > 100
value = 1

;---------------------------------------------------------------------------
;enters
[Statedef 8998]
type = S
anim = 8998
velset = 2,0
movetype = A
physics = N
sprpriority = 3

[State 8998, 1]
type = HitOverride
trigger1 = Time = 0
attr = SCA, AA, AP, AT
stateno = 8995
time = -1




[state 8998,2]
type = posset
trigger1 = time = 0
y = 0

[State 8998, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 8997

;---------------------------------------------------------------------------
;Fire the Gatling Gun.
[Statedef 8997]
type    = S
movetype= A
physics = S
velset = 0,0
anim = 8999
ctrl = 0


;shooting spark
[State 0, Explod]
type = Explod
trigger1 = animelem =4
anim = 723
ID = 723
pos = 61,-14
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = -1,0
accel = 0,0
random = 0,0
removetime = 14
supermove =999
pausemove =999
scale = 1,1
sprpriority = 0
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0

;[State 8997, effect]
;type = Explod
;trigger1 = animelem = 7
;anim = 8999
;postype = p1
;pos = 0,0
;scale = .6,.6
;sprpriority = 2
;bindtime = 1
;ownpal = 1



[State 8997,2]
type = PlaySnd
trigger1 = AnimElem = 3
value = 8,2
channel = 0

;the bullets
[State 0, Helper]
type = Helper
trigger1 = animelem = 4
helpertype = normal ;player
name = "Bullet"
ID = 1234
stateno = 1234
pos = 57,-43
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
bindtime = -1



[State 8997, 5]
type = ChangeState
trigger1 = animtime = 0
value = 8996

;--------
;buletts
;--------
[Statedef 1234]
type = S
movetype = A
physics = N
ctrl = 0
anim = 1234
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = Time > 0
x = 15

[State 200, 1]
type = HitDef
triggerall = p2statetype != A
trigger1 = time > 0
attr = S, HP
damage = 60,8
animtype = heavy
guardflag = MA
hitflag = MAFP
sparkno = s910
pausetime = 5,9;9,9
sparkxy = 10,0;-50
hitsound = s8000, 3
guardsound = s8000, 6
ground.type = Low
ground.slidetime = 5
ground.hittime  = 15
ground.velocity = -10
air.velocity = -5,-1;3.2



[State 0, DestroySelf]
type = DestroySelf
trigger1 = FrontEdgeDist < -90
trigger2 = movecontact;guarded



[State 4001, NotHitBy]
type = NotHitBy
trigger1 = Time >= 0
time = 1
value = SCA, NA, SA, HA, NT, ST, HT
ignorehitpause = 1

[State 4001, HitOverride]
type = HitOverride
trigger1 = Time >= 0
slot = 1
time = 1
stateno = 1236
attr = SCA, NP, SP, HP
ignorehitpause = 1

[State 4001, HitBy]
type = HitBy
trigger1 = Time >= 0
value = SCA, NP, SP, HP
time = 1
ignorehitpause = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = moveguarded
value = 1236
ctrl = 0
;anim =
ignorehitpause = 1
;persistent =

;--------
;bullets blocked
;--------
[Statedef 1236]
type    = S
movetype= A
physics = N
anim = 1236
sprpriority = 4

[State 251, AngleSet]
type = AngleAdd
trigger1 = 1
value = 15

[State 251, AngleSet]
type = AngleDraw
trigger1 = 1

[State 251, Velset]
type = Velset
trigger1 = time > 0
x = -4
y = -2

[State 251, Velset]
type = Velset
trigger1 = time > 10
x = -4
y = -.4

[State 251, Velset]
type = Velset
trigger1 = time > 20
x = -4
y = 1

[State 251, Velset]
type = Velset
trigger1 = time > 30
x = -2
y = 5

[State 251, VelSet]
type = VelSet
trigger1 = Pos Y > 0
trigger1 = Vel Y > 0
x = (vel x) / 2
y = (vel y) / -1.1

[state 1245, play snd]
type = playsnd
trigger1 = pos y > 0
value = 1,2
volume = 255
channel = 3

[State 227, ChangeState]
type = DestroySelf
trigger1 = time = 50;100

;---------------------------------------------------------------------------
; exits
[Statedef 8996]
type    = A
movetype= I
physics = N
velset = 0,0
anim = 8995

[State 8996, fly off]
type = PlaySnd
trigger1 = animelem = 3
value = 60,19
volume = 175
channel = 0

[State 8996, 1]
type = VelSet
trigger1 = AnimElem = 1
x = 0
y = 0

[State 8996, 3]
type = DestroySelf
trigger1 = Time = 65



;---------------------------------------------------------------------------
; PENGUIN gets hit
[Statedef 8995]
type    = A
movetype= H
physics = N

[State 4300, 5]
type = playsnd
trigger1 = time = 0
value = 91,4
channel = 0

[State 4300, 1]
type = VelSet
trigger1 = Time >= 0
x = 0
y = 0

[State 4300, PalFX]
type = PalFX
trigger1 = time = 15
time = 15
add = 200,0,0
mul = 200,0,0
;sinadd = 0,0,0,10
invertall = 0
color = 256
;ignorehitpause =
;persistent =


[State 4300, 2]
type = ChangeAnim
trigger1 = Time >= 0
value = 8995

[State 4300, 3]
type = ChangeState
trigger1 = Time = 4
trigger2 = HitShakeOver = 1
value = 8994

;---------------------------------------------------------------------------
; PENGUIN falls
[Statedef 8994]
type    = A
movetype= H
physics = N
velset = 0,0

[State 4301, 1]
type = VelAdd
trigger1 = Time >= 0
y = .35

[State 4301, 2]
type = ChangeState
trigger1 = Vel y > 0
trigger1 = Pos y >= 0
value = 8993

;---------------------------------------------------------------------------
; PENGUIN hit bounce
[Statedef 8993]
type    = L
movetype= H
physics = N
anim = 8994

[State 4302, 1]
type = PosSet
trigger1 = Time = 0
y = 0

[State 4302, 2]
type = VelSet
trigger1 = Time = 0
y = 0

[State 4302, 3]
type = VelMul
trigger1 = Time = 0
x = 0.75

[State 4302, 4]
type = GameMakeAnim
trigger1 = Time = 1
value = 61
pos = 0, 0
under = 1

[State 4302, 5]
type = HitFallDamage
trigger1 = Time = 3

[State 4302, 6]
type = PosFreeze
trigger1 = Time >= 0

[State 4302, 7]
type = ChangeState
trigger1 = Time = 3
value = 8992

[State 4302, 8]
type = ForceFeedback
trigger1 = Time = 0
waveform = sinesquare
ampl = 128,-3,-.2,.005
time = 20

;---------------------------------------------------------------------------
[Statedef 8992]
type    = L
movetype= H
physics = N

[State 4303, 0]
type = HitFallVel
trigger1 = Time = 0

[State 4303, 1]
type = PosSet
trigger1 = Time = 0
y = 20

[State 4303, 3]
type = VelAdd
trigger1 = Time >= 0
y = .4

[State 4303, 4]
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
type = ChangeState
value = 8991

;---------------------------------------------------------------------------
;  lie down
[Statedef 8991]
type    = L
movetype= H
physics = N
anim = 8994
velset = 0,0

[State 4303, 4]
trigger1 = animtime = 0
type = ChangeState
value = 8990

;---------------------------------------------------------------------------
;  getup
[Statedef 8990]
type    = L
movetype= H
physics = N
anim = 8990
velset = 0,0

[State 8990, 1]
trigger1 = animtime = 0
type = ChangeState
value = 8996

;-------------------------------------------------
; Smokes
[Statedef 8989]
type = S
anim = 8990
velset = 0,0
ctrl = 0

[State 8989, effect]
type = Explod
trigger1 = animelem = 4
anim = F2
postype = p1
pos = 0,0
scale = .6,.6
sprpriority = 2
bindtime = 1
ownpal = 1

[State 8989, effect]
type = Explod
trigger1 = animelem = 7
anim = F2
postype = p1
pos = 0,0
scale = .6,.6
sprpriority = 2
bindtime = 1
ownpal = 1

;---------------------------------------------------------------------------
; Throws
;---------------------------------------------------------------------------
[Statedef 800]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 800
sprpriority = 2

; Notes: The '-' symbol in the hitflag field means that it only affects
;   players who are not in a hit state. This prevents KFM from combo-ing
;   into the throw. The priority should be set to a low number, such as
;   1 or 2, so that the throw does not take precedence over normal attacks.
;   The type of priority must always be set to "Miss" or "Dodge" for throws,
;   otherwise strange behavior can result.
[State 800, 1]
type = HitDef
Trigger1 = Time = 0
attr = S, NT          ;Attributes: Standing, Normal Throw
hitflag = M-          ;Affect only ground people who are not being hit
priority = 1, Miss    ;Throw has low priority, must be miss or dodge type.
sparkno = -1         ;No spark
p1sprpriority = 1     ;Draw p1's sprite in front of p2
                      ;p2's sprite priority is set to 0 by default
hitsound = S8600,0    ;grab sounds
p1facing = 1
p2facing = 1          ;Force p2 to face KFM
p1stateno = 810       ;On success, KFM changes to state 810
p2stateno = 820       ;If hit, p2 changes to state 820 in KFM's cns
guard.dist = 0        ;This prevents p2 from going into a guard state if close
fall = 1              ;Force p2 into falling down

[State 800, 2]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Kung Fu Throw - Throwing the opponent
; Description: In this state, KFM throws the opponent by binding him to
;     various offsets based on his current frame of animation. For
;     example, [State 810, Bind 1] binds the opponent to an offset of
;     28 pixels in front of KFM. That puts him around where KFM's hand
;     is at. Is is important to keep the opponent bound using a
;     TargetBind controller at all times, until you let him go. This
;     is especially important if your player has a Clsn2 box that
;     allows him to get hit while throwing someone. Each time a player
;     gets hit, all his bound targets will be set to a fall state. If
;     the opponent is not bound, then he may get stuck in his thrown
;     state when his attacker is knocked out of the throw halfway.
; Notes: There is a TargetLifeAdd controller to decrease the opponent's
;     life, and a TargetState controller to change his state to a
;     falling state when KFM lets go of him.
[Statedef 810]
type    = S
movetype= A
physics = N
anim = 810
poweradd = 60





; Here a variable, var(2), is used to remember whether or not the
; player was holding forward at the start of the state. This variable
; is checked later on to turn KFM around if necessary.






[State 810, Grab Sound]
type = PlaySnd
trigger1 = AnimElem = 4
value = 300,7
channel = 0

[State 220, HitDef]
type = HitDef
trigger1 = time = 0
attr = S, NA
animtype  = Hard
damage    = 20
priority = 4, Hit
hitflag = MAF
guardflag = MA
pausetime = 0,0
sparkno = -1
sparkxy = -15,-79
guard.sparkno = s8001
hitsound = s300,7
guardsound = S8500,0
ground.type = low
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -3,-7
guard.velocity = -10
air.velocity = -1,-4
fall.envshake.time = 7
fall.envshake.ampl = -4
envshake.time = 30
envshake.freq = 100
envshake.ampl = -10
envshake.phase = 10
ground.cornerpush.veloff = -25
air.cornerpush.veloff = -25
down.cornerpush.veloff = -25
guard.cornerpush.veloff = -25
airguard.cornerpush.veloff = -25
fall = 1
fall.recover = 1
fall.recovertime = 25
;hitcountpersist = 1


[State 810, State End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;P2 Custom Statedef
[Statedef 820]
type    = S
movetype= H
physics = S
velset = 0,0
ctrl = 0

[State 10210, 1]
type = Changeanim
trigger1 = animexist(5300)
trigger1 = anim != 5300
trigger1 = Vel Y = 0
trigger1 = statetype != A
value = 5002

[State 10210, 2]
type = Changeanim2
trigger1 = !animexist(5300)
trigger1 = anim != 9010
trigger1 = Vel Y = 0
trigger1 = statetype != A
value = 9010


[State 9010, 034.1]
type = PosSet
trigger1 = p2stateno =[0,9999]
Y = 0

[State 9010, 034.12]
type = VELSet
trigger1 = p2stateno =[0,9999]
Y = 0


[State 10210, 3]
type = Selfstate
trigger1 = time = 150
value = 5070
ctrl = 1

[State 821, 4] ;Hit ground
type = SelfState
trigger1 = roundstate = 3
trigger1 = time = 150
value = 5050
ctrl = 1



; Special 2 - LazerLash
[Statedef 1012]
type    = S
movetype= A
physics = N
juggle  = 4
poweradd= 55
ctrl = 0
velset = 0,0
anim =2000
sprpriority = 1

[State 1010,sound]
type = Playsnd
trigger1 = AnimElem = 1
value = 20,4
channel = 0

[State 99204, 3]
type = playsnd
trigger1 = animelem = 1
value = 60,33
channel = 0

[State 1020, 1]
type = PlaySnd
trigger1 = Time = 3
value = 0, 4

[State 1020, 2]
type = Velset
trigger1 = AnimElem = 1
x = 3.5

[State 1020, 3]
type = HitDef
trigger1 = AnimElem = 2
attr = S, SA
animtype  = Light
damage    = 23,10
guardflag = MA
pausetime = 12,12
sparkno = S8022
sparkxy = -10,-110
guard.sparkno = S8001
hitsound   = s8000,1
guardsound = s8000,6
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -5.5
air.velocity = -2.5,-4

[State 1020, 4]
type = HitDef
trigger1 = AnimElem = 5
attr = S, SA
animtype  = Medium
damage    = 36
guardflag = MA
pausetime = 12,12
sparkno = S8022
sparkxy = -10,-110
guard.sparkno = S8001
hitsound   = s8000,1
guardsound = s8000,6
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -5.5
air.velocity = -2.5,-4

[State 1020, 5]
type = HitDef
trigger1 = AnimElem = 8
attr = S, SA
animtype  = Medium
damage    = 23,10
guardflag = MA
pausetime = 12,12
sparkno = S8022
sparkxy = -10,-110
guard.sparkno = S8001
hitsound   = s8000,1
guardsound = s8000,6
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -5.5
air.velocity = -2.5,-4

[State 1020, 6]
type = HitDef
trigger1 = AnimElem = 11
attr = S, SA
animtype  = Hard
damage    = 23,10
guardflag = MA
pausetime = 12,12
sparkno = S8222
sparkxy = -10,-110
guard.sparkno = S8001
hitsound   = s8000,2
guardsound = s8000,6
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -5.5
air.velocity = -2.5,-4

[State 1020, 7]
type = Velset
trigger1 = AnimElem = 16
x = 0

[State 1020, 8]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


; Special 2 - LazerLash
[Statedef 1013]
type    = S
movetype= A
physics = N
juggle  = 4
poweradd= 63
ctrl = 0
velset = 0,0
anim =2000
sprpriority = 1

[State 1010,sound]
type = Playsnd
trigger1 = AnimElem = 1
value = 20,4
channel = 0


[State 99204, 3]
type = playsnd
trigger1 = animelem = 1
value = 60,33
channel = 0


[State 1020, 1]
type = PlaySnd
trigger1 = Time = 3
value = 0, 4
channel = 0

[State 1020, 2]
type = Velset
trigger1 = AnimElem = 1
x = 1.5

[State 1020, 3]
type = HitDef
trigger1 = AnimElem = 2
attr = S, SA
animtype  = Light
damage    = 23,10
guardflag = MA
pausetime = 12,12
sparkno = S8022
sparkxy = -10,-110
guard.sparkno = S8001
hitsound   = s8000,1
guardsound = s8000,6
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -5.5
air.velocity = -2.5,-4

[State 1020, 4]
type = HitDef
trigger1 = AnimElem = 5
attr = S, SA
animtype  = Medium
damage    = 36
guardflag = MA
pausetime = 12,12
sparkno = S8022
sparkxy = -10,-110
guard.sparkno = S8001
hitsound   = s8000,1
guardsound = s8000,6
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -5.5
air.velocity = -2.5,-4

[State 1020, 5]
type = HitDef
trigger1 = AnimElem = 8
attr = S, SA
animtype  = Medium
damage    = 23,10
guardflag = MA
pausetime = 12,12
sparkno = S8022
sparkxy = -10,-110
guard.sparkno = S8001
hitsound   = s8000,1
guardsound = s8000,6
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -5.5
air.velocity = -2.5,-4

[State 1020, 6]
type = HitDef
trigger1 = AnimElem = 11
attr = S, SA
animtype  = Hard
damage    = 23,10
guardflag = MA
pausetime = 12,12
sparkno = S8222
sparkxy = -10,-110
guard.sparkno = S8001
hitsound   = s8000,2
guardsound = s8000,6
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -5.5
air.velocity = -2.5,-4

[State 1020, 7]
type = Velset
trigger1 = AnimElem = 16
x = 0

[State 1020, 8]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

; Special 2 - LazerLash
[Statedef 1014]
type    = S
movetype= A
physics = N
juggle  = 4
poweradd= 75
ctrl = 0
velset = 0,0
anim =2000
sprpriority = 1

[State 1010,sound]
type = Playsnd
trigger1 = AnimElem = 1
value = 20,4
channel = 0

[State 99204, 3]
type = playsnd
trigger1 = animelem = 1
value = 60,33
channel = 0

[State 1020, 1]
type = PlaySnd
trigger1 = Time = 3
value = 0, 4
channel = 0

[State 1020, 2]
type = Velset
trigger1 = AnimElem = 1
x = 2.5

[State 1020, 3]
type = HitDef
trigger1 = AnimElem = 2
attr = S, SA
animtype  = Light
damage    = 23,10
guardflag = MA
pausetime = 12,12
sparkno = S8022
sparkxy = -10,-110
guard.sparkno = S8001
hitsound   = s8000,1
guardsound = s8000,6
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -5.5
air.velocity = -2.5,-4

[State 1020, 4]
type = HitDef
trigger1 = AnimElem = 5
attr = S, SA
animtype  = Medium
damage    = 36
guardflag = MA
pausetime = 12,12
sparkno = S8022
sparkxy = -10,-110
guard.sparkno = S8001
hitsound   = s8000,1
guardsound = s8000,6
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -5.5
air.velocity = -2.5,-4

[State 1020, 5]
type = HitDef
trigger1 = AnimElem = 8
attr = S, SA
animtype  = Medium
damage    = 23,10
guardflag = MA
pausetime = 12,12
sparkno = S8022
sparkxy = -10,-110
guard.sparkno = S8001
hitsound   = s8000,1
guardsound = s8000,6
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -5.5
air.velocity = -2.5,-4

[State 1020, 6]
type = HitDef
trigger1 = AnimElem = 11
attr = S, SA
animtype  = Hard
damage    = 23,10
guardflag = MA
pausetime = 12,12
sparkno = S8222
sparkxy = -10,-110
guard.sparkno = S8001
hitsound   = s8000,2
guardsound = s8000,6
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -5.5
air.velocity = -2.5,-4

[State 1020, 7]
type = Velset
trigger1 = AnimElem = 16
x = 0

[State 1020, 8]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Staff Wound z
;---------------------------------------------------------------------------
[Statedef 1112]
type    = S
movetype= A
physics = S
juggle  = 4
ctrl = 0
anim = 1112
poweradd = 80
sprpriority = 2

[State 99204, 3]
type = playsnd
trigger1 = animelem = 1
value = 60,32
channel = 0

[State 0, VelSet]
type = VelSet
trigger1 =  1
x = 3
y = 0

[State 220, 1]
type = PlaySnd
trigger1 = Time = 1
value = s666666, 40
channel = 0

[State 220, 1]
type = PlaySnd
trigger1 = Time = 6
value = s666666, 4
channel = 0

[State 220, HitDef]
type = HitDef
trigger1 = animelem = 3
attr = S,NA
damage = 20,1
animtype = Light
guardflag = MA
hitflag = MAF
priority = 2, Hit
pausetime = 8,10
sparkno = s8002
sparkxy = -15,-79
guard.sparkno = s8001
hitsound = s8000,0
guardsound = S8500,0
ground.type = High
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -6
air.type = Low
air.hittime = 15
air.velocity = -6,-5
envshake.time = 1
envshake.ampl = 1
;Corner Push System support from Statedef -3
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0

[State 220, HitDef]
type = HitDef
trigger1 = animelem = 6
attr = S,NA
damage = 20,1
animtype = Light
guardflag = MA
hitflag = MAF
priority = 2, Hit
pausetime = 8,10
sparkno = s8002
sparkxy = -15,-79
guard.sparkno = s8001
hitsound = s8000,0
guardsound = S8500,0
ground.type = High
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -6
air.type = Low
air.hittime = 15
air.velocity = -6,-5
envshake.time = 1
envshake.ampl = 1
;Corner Push System support from Statedef -3
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0

[State 220, HitDef]
type = HitDef
trigger1 = animelem = 11
attr = S,NA
damage = 20,1
animtype = Light
guardflag = MA
hitflag = MAF
priority = 2, Hit
pausetime = 8,10
sparkno = s8002
sparkxy = -15,-79
guard.sparkno = s8001
hitsound = s8000,0
guardsound = S8500,0
ground.type = High
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -6
air.type = Low
air.hittime = 15
air.velocity = -6,-5
envshake.time = 1
envshake.ampl = 1
;Corner Push System support from Statedef -3
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0

[State 220, HitDef]
type = HitDef
trigger1 = animelem = 14
attr = S,NA
damage = 20,1
animtype = Light
guardflag = MA
hitflag = MAF
priority = 2, Hit
pausetime = 8,10
sparkno = s8002
sparkxy = -15,-79
guard.sparkno = s8001
hitsound = s8000,0
guardsound = S8500,0
ground.type = High
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -6
air.type = Low
air.hittime = 15
air.velocity = -6,-5
envshake.time = 1
envshake.ampl = 1
;Corner Push System support from Statedef -3
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0

[State 220, HitDef]
type = HitDef
trigger1 = animelem = 19
attr = S, NA
animtype  = Hard
damage    = 77
priority = 4, Hit
hitflag = MAF
guardflag = MA
pausetime = 8,10
sparkno = s8002
sparkxy = -15,-79
guard.sparkno = s8001
hitsound = s8000,0
guardsound = S8500,0
ground.type = low
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -3,-7
guard.velocity = -10
air.velocity = -4,-4
fall.envshake.time = 7
fall.envshake.ampl = -4
envshake.time = 12
envshake.freq = 127
envshake.ampl = -6
ground.cornerpush.veloff = -10
air.cornerpush.veloff = -10
down.cornerpush.veloff = -10
guard.cornerpush.veloff = -10
airguard.cornerpush.veloff = -10
fall = 1
fall.recover = 1
fall.recovertime = 25
hitcountpersist = 1

[State 220, 1]
type = StopSnd
trigger1 = animelem = 20
channel = 9

[State 220, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Staff Wound y
;---------------------------------------------------------------------------
[Statedef 1113]
type    = S
movetype= A
physics = S
juggle  = 3
ctrl = 0
anim = 1113
poweradd = 80
sprpriority = 2

[State 99204, 3]
type = playsnd
trigger1 = animelem = 1
value = 60,32
channel = 0

[State 0, VelSet]
type = VelSet
trigger1 =  1
x = 2.5
y = 0

[State 220, 1]
type = PlaySnd
trigger1 = Time = 1
value = s666666, 40
channel = 0

[State 220, 1]
type = PlaySnd
trigger1 = Time = 6
value = s666666, 4
channel = 0

[State 220, HitDef]
type = HitDef
trigger1 = animelem = 4
attr = S,NA
damage = 20,1
animtype = Light
guardflag = MA
hitflag = MAF
priority = 2, Hit
pausetime = 8,10
sparkno = s8002
sparkxy = -15,-79
guard.sparkno = s8001
hitsound = s8000,0
guardsound = S8500,0
ground.type = High
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -6
air.type = Low
air.hittime = 15
air.velocity = -6,-5
envshake.time = 1
envshake.ampl = 1
;Corner Push System support from Statedef -3
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0

[State 220, HitDef]
type = HitDef
trigger1 = animelem = 6
attr = S,NA
damage = 20,1
animtype = Light
guardflag = MA
hitflag = MAF
priority = 2, Hit
pausetime = 8,10
sparkno = s8002
sparkxy = -15,-79
guard.sparkno = s8001
hitsound = s8000,0
guardsound = S8500,0
ground.type = High
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -6
air.type = Low
air.hittime = 15
air.velocity = -6,-5
envshake.time = 1
envshake.ampl = 1
;Corner Push System support from Statedef -3
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0

[State 220, HitDef]
type = HitDef
trigger1 = animelem = 12
attr = S,NA
damage = 20,1
animtype = Light
guardflag = MA
hitflag = MAF
priority = 2, Hit
pausetime = 8,10
sparkno = s8002
sparkxy = -15,-79
guard.sparkno = s8001
hitsound = s8000,0
guardsound = S8500,0
ground.type = High
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -6
air.type = Low
air.hittime = 15
air.velocity = -6,-5
envshake.time = 1
envshake.ampl = 1
;Corner Push System support from Statedef -3
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0

[State 220, HitDef]
type = HitDef
trigger1 = animelem = 15
attr = S,NA
damage = 20,1
animtype = Light
guardflag = MA
hitflag = MAF
priority = 2, Hit
pausetime = 8,10
sparkno = s8002
sparkxy = -15,-79
guard.sparkno = s8001
hitsound = s8000,0
guardsound = S8500,0
ground.type = High
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -6
air.type = Low
air.hittime = 15
air.velocity = -6,-5
envshake.time = 1
envshake.ampl = 1
;Corner Push System support from Statedef -3
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0

[State 220, HitDef]
type = HitDef
trigger1 = animelem = 20
attr = S, NA
animtype  = Hard
damage    = 77
priority = 4, Hit
hitflag = MAF
guardflag = MA
pausetime = 8,10
sparkno = s8002
sparkxy = -15,-79
guard.sparkno = s8001
hitsound = s8000,0
guardsound = S8500,0
ground.type = low
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -3,-7
guard.velocity = -10
air.velocity = -4,-4
fall.envshake.time = 7
fall.envshake.ampl = -4
envshake.time = 12
envshake.freq = 127
envshake.ampl = -6
ground.cornerpush.veloff = -25
air.cornerpush.veloff = -25
down.cornerpush.veloff = -25
guard.cornerpush.veloff = -25
airguard.cornerpush.veloff = -25
fall = 1
fall.recover = 1
fall.recovertime = 25
hitcountpersist = 1

[State 220, 1]
type = StopSnd
trigger1 = animelem = 17
channel = 9


[State 220, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Staff Wound x
;---------------------------------------------------------------------------
[Statedef 1114]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 1114
poweradd = 80
sprpriority = 2

[State 99204, 3]
type = playsnd
trigger1 = animelem = 1
value = 60,32
channel = 0

[State 0, VelSet]
type = VelSet
trigger1 =  1
x = 2
y = 0

[State 220, 1]
type = PlaySnd
trigger1 = Time = 1
value = s666666, 40
channel = 0

[State 220, 1]
type = PlaySnd
trigger1 = Time = 6
value = s666666, 4
channel = 0

[State 220, HitDef]
type = HitDef
trigger1 = animelem = 4
attr = S,NA
damage = 20,1
animtype = Light
guardflag = MA
hitflag = MAF
priority = 2, Hit
pausetime = 8,10
sparkno = s8002
sparkxy = -15,-79
guard.sparkno = s8001
hitsound = s8000,0
guardsound = S8500,0
ground.type = High
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -6
air.type = Low
air.hittime = 15
air.velocity = -6,-5
envshake.time = 1
envshake.ampl = 1
;Corner Push System support from Statedef -3
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0

[State 220, HitDef]
type = HitDef
trigger1 = animelem = 6
attr = S,NA
damage = 20,1
animtype = Light
guardflag = MA
hitflag = MAF
priority = 2, Hit
pausetime = 8,10
sparkno = s8002
sparkxy = -15,-79
guard.sparkno = s8001
hitsound = s8000,0
guardsound = S8500,0
ground.type = High
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -6
air.type = Low
air.hittime = 15
air.velocity = -6,-5
envshake.time = 1
envshake.ampl = 1
;Corner Push System support from Statedef -3
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0

[State 220, HitDef]
type = HitDef
trigger1 = animelem = 12
attr = S,NA
damage = 20,1
animtype = Light
guardflag = MA
hitflag = MAF
priority = 2, Hit
pausetime = 8,10
sparkno = s8002
sparkxy = -15,-79
guard.sparkno = s8001
hitsound = s8000,0
guardsound = S8500,0
ground.type = High
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -6
air.type = Low
air.hittime = 15
air.velocity = -6,-5
envshake.time = 1
envshake.ampl = 1
;Corner Push System support from Statedef -3
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0

[State 220, HitDef]
type = HitDef
trigger1 = animelem = 14
attr = S,NA
damage = 20,1
animtype = Light
guardflag = MA
hitflag = MAF
priority = 2, Hit
pausetime = 8,10
sparkno = s8002
sparkxy = -15,-79
guard.sparkno = s8001
hitsound = s8000,0
guardsound = S8500,0
ground.type = High
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -6
air.type = Low
air.hittime = 15
air.velocity = -6,-5
envshake.time = 1
envshake.ampl = 1
;Corner Push System support from Statedef -3
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0

[State 220, HitDef]
type = HitDef
trigger1 = animelem = 20
attr = S, NA
animtype  = Hard
damage    = 77
priority = 4, Hit
hitflag = MAF
guardflag = MA
pausetime = 8,10
sparkno = s8002
sparkxy = -15,-79
guard.sparkno = s8001
hitsound = s8000,0
guardsound = S8500,0
ground.type = low
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -3,-7
guard.velocity = -10
air.velocity = -4,-4
fall.envshake.time = 7
fall.envshake.ampl = -4
envshake.time = 12
envshake.freq = 127
envshake.ampl = -6
ground.cornerpush.veloff = -25
air.cornerpush.veloff = -25
down.cornerpush.veloff = -25
guard.cornerpush.veloff = -25
airguard.cornerpush.veloff = -25
fall = 1
fall.recover = 1
fall.recovertime = 25
hitcountpersist = 1

[State 220, 1]
type = StopSnd
trigger1 = animelem = 11
channel = 9

[State 220, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;Joker Bazooka

[Statedef 1001]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
poweradd = 80
ctrl = 0
anim = 2002

[State 99204, 3]
type = playsnd
trigger1 = animelem = 4
value = 60,25
channel = 0

[State 99204, 3]
type = playsnd
trigger1 = animelem = 1
value = 60,31
channel = 0

[State 3702, 7]
type = Explod
trigger1 = animelem = 4
pos = -120,-60
postype = p1
bindtime = 1
sprpriority = -2
anim = 4368
removetime = -2

[State 3702, 1]
type = HitDef
trigger1 = !movecontact && time < 25
attr = S, HA
damage = 40,10
animtype = back
getpower = 0,0
givepower = 0,0
guardflag = MA
hitflag = MAF
priority = 6, Hit
pausetime = 7,8
numhits = 1
sparkno = s901
sparkxy = -15,-70
hitsound = s9999,4
ground.type = High
ground.slidetime = 10
ground.hittime  = 6
ground.velocity = -10,-9
guard.slidetime = 1
guard.velocity = -1
air.velocity = -6,-7
airguard.slidetime = 1
airguard.velocity = -1
fall = 1
fall.recover = 0
p2facing=1
ground.cornerpush.veloff = -29
air.cornerpush.veloff = -29
down.cornerpush.veloff = -29
guard.cornerpush.veloff = -29
airguard.cornerpush.veloff = -29



[State 3702 3]
type = Helper
ID = 99204
name = "joker missle"
trigger1 = animelem = 4
postype = P1
pos = 35,-145
sprpriority = 2
stateno = 99204
keyctrl = 0
ownpal = 1

[State 3702, velset]
type = velset
trigger1 = animelem = 5
x = -16
y = 0

[State 3702, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


; Joker Missle
[Statedef 99204]
type    = A
physics = N
movetype= A
anim = 10016
ctrl = 0
sprpriority = 3

[state 99204, 1]
type = hitoverride
trigger1 = 1
time = -1
attr= SCA,NP,SP,HP
stateno = 10356
ignorehitpause = 1

[State 99204, 2]
type = hitby
trigger1 = 1
time = -1
value = SCA,NP,SP,HP
ignorehitpause = 1


[State 99204, 8]
type = explod
trigger1 = (time % 3)=0
pos = -10,0;-20,10
anim = 4369;F120
removetime = -2
ownpal=1

[State 99204, 1]
type = HitDef
trigger1 = time = 0
attr = A, SA
animtype  = Hard
damage    = 70,14
priority  = 6
hitflag = MAF
guardflag = MA
pausetime = 0,0
sparkno = -1
getpower = 0,0
givepower = 0,0
guard.sparkno = s906
sparkxy = 0,-25
hitsound   = s10000,9
guardsound = S120,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -4,-5
air.velocity = -4,-5
fall = 1
fall.recover = 0
air.recover = 0
p2stateno = 7697
palfx.time = 40
palfx.add = 240,50,0
palfx.mul = 250,224,120
palfx.sinadd = 110,55,85,10
Palfx.color = 0
palfx.time = 60
palfx.invertall = 1



[State 99204, 3]
type = playsnd
trigger1 = animelem = 1
value = 10000,8
channel = 0

[State 99204, 4]
type = velset
trigger1 = time = 0
y = -3
x = 8




[State 99204, 6]
type = NotHitBy
trigger1 = time >= 0
value = SCA

[State 2050,4]
type = ChangeState
trigger1 = movehit = 1
trigger2 = movecontact = 1
value = 11124

[State 99204, 7]
type = Destroyself
trigger1 = animtime = 0
trigger2 = movehit
trigger3 = moveguarded

;Batarang Helper Hit
[Statedef 11124]
type    = S
movetype = A
physics = N
anim = 1026

[State 0, VelSet]
type = VelSet
trigger1 = Time = 5
x = 0
y = 0

[State 0, ]
type = VelAdd
trigger1 = 1
y = 0

[State 0, ]
type = DestroySelf
trigger1 = AnimTime = 0




[Statedef 10356]
type    = A
movetype= A
physics = N
velset = 0,0
ctrl = 0
anim = 10121
sprpriority = 0



[state 10356, 2]
type = destroyself
trigger1 = animtime = 0


; Air Card
; CNS difficulty: medium
[Statedef 671]
type    = A
movetype= A
physics = A
juggle  = 4
poweradd= 110
anim = 670
ctrl = 0
sprpriority = 2

[State 0,sound1]
type = Playsnd
trigger1 = time = 1
value = 60,25
channel = 0

[State 0,sound]
type = Playsnd
trigger1 = time = 10
value = 9,1
channel = 0

[State 10011, 2]
type = VarSet
trigger1 = time = 0
fvar(10) = ifelse(command = "z", 20.0, ifelse(command = "y",12.0, 6.0))

[State 671, 3]
type = Projectile
trigger1 = AnimElem = 3
projanim = 671
projhitanim = -1
projid = 671
projremanim = -1
projcancelanim = -1
ignorehitpause = 1
offset = 58, -74
velocity = (2.05 + fvar(10)), (2.0 + (const(movement.yaccel)* time))
;remvelocity = 0, 0
;velmul = 1.01, 1
;accel = 0, 0
; HitDef part of projectile info
attr = S, SP
damage    = 65,9
animtype = Hard
guardflag = MA
pausetime = 0,9
sparkno = s8022
guard.sparkno = s8001
sparkxy = 10, 0
hitsound = s8000,3
guardsound = s8000,6
ground.type = High
ground.slidetime = 14
ground.hittime  = 16
ground.velocity = -8
air.animtype = Back
air.velocity = -2.5,-5
air.juggle = 3


[State 650, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 70

;---------------------------------------------------------------------------
; Bloody Parasol
[Statedef 1010]
type    = A
movetype= A
physics = A
juggle  = 75
velset = 0,0
anim = 1010
ctrl = 0
sprpriority = 2

[State 1010, 1]
type = PlaySnd
trigger1 = Time = 1
value = 11, 0
channel = 0

[State 1010, 2]
type = PosAdd
trigger1 = time = 0
y = -17

[State 1010, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 1011
ctrl = 0

[Statedef 1011]
type    = A
movetype= A
physics = N
juggle  = 5
velset = 4,4
anim = 1011
ctrl = 0
sprpriority = 2

[State 1010, 1]
type = PlaySnd
trigger1 = Time = 1
value = 60, 32
channel = 0


[State 1011, 2]
type = HitDef
triggerall = hitcount < 6
trigger1 = animElem = 1
trigger2 = animelem = 2
trigger3 = animelem = 4
trigger4 = animelem = 5
attr = A, SA
animtype  = Hard
damage    = 25,3
priority  = 6
guardflag = MA
pausetime = 15,15
sparkxy = -10,-70
sparkno = s8022
guard.sparkno = s8001
hitsound   = s8000,1
guardsound = s8000,6
ground.type = Low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -4,-3.5
air.velocity = -4,-3
fall = 1

[State 1011, 4]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 10122
ctrl = 0

[Statedef 10122]
type    = S
movetype= A
physics = S
juggle  = 5
velset = 0,0
anim = 1012
ctrl = 0
sprpriority = 2

[State 1012, 1]
type = Posset
trigger1 = time = 0
y = 0

[State 1012, 2]
type = PlaySnd
trigger1 = animelem = 3
value = 10,0
channel = 0

[State 1012, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1



