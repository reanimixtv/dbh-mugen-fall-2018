; Ironman's constants and state file.
; --------------------------------------------
; Variables
; --------------------------------------------
; var(1) = WinPose/Intro Chooser
; var(2) = WinQuote Chooser
; var(3) = SuperJump Enabled
; var(5) = Fly mode
; var(10) = Flying Counter (-1 = Inactive; >0 = Active)
;
[Data]
life = 1000
attack = 100
defence = 100
fall.defence_up = 50
liedown.time = 30
airjuggle = 39
sparkno = 2
guard.sparkno = 40
KO.echo = 0
volume = 900
IntPersistIndex = 60
FloatPersistIndex = 40

[Size]
xscale = 1.00           ;Horizontal scaling factor.
yscale = 1.00          ;Vertical scaling factor.
ground.back = 30     ;Player width (back, ground)
ground.front = 30    ;Player width (front, ground)
air.back = 30        ;Player width (back, air)
air.front = 30       ;Player width (front, air)
height = 60          ;Height of player (for opponent to jump over)
attack.dist = 160    ;Default attack distance
proj.attack.dist = 90 ;Default attack distance for projectiles
proj.doscale = 0     ;Set to 1 to scale projectiles too
head.pos = -5, -100   ;Approximate position of head
mid.pos = -5, -80    ;Approximate position of midsection
shadowoffset = 0     ;Number of pixels to vertically offset the shadow
draw.offset = 0,0    ;Player drawing offset in pixels (x, y)

[Velocity]
walk.fwd  = 2.4      ;Walk forward
walk.back = -2.2     ;Walk backward
run.fwd  = 6, 0    ;Run forward (x, y)
run.back = -6,0 ;Hop backward (x, y)
jump.neu = 0,-9.4    ;Neutral jumping velocity (x, y)
jump.back = -2.55    ;Jump back Speed (x, y)
jump.fwd = 2.55,      ;Jump forward Speed (x, y)
runjump.back = -2.55,-8.1 ;Running jump speeds (opt)
runjump.fwd = 4,-9.1      ;.
airjump.neu = 0,-9.1      ;.
airjump.back = -2.55      ;Air jump speeds (opt)
airjump.fwd = 2.5         ;.

[Movement]
airjump.num = 1     ;Number of air jumps allowed (opt)
airjump.height = 40  ;Minimum distance from ground before you can air jump (opt)
yaccel = .44         ;Vertical acceleration
stand.friction = .85  ;Friction coefficient when standing
crouch.friction = .82 ;Friction coefficient when crouching
;---------------------------------------------------------------------------
; Override common states (use same number to override)
;---------------------------------------------------------------------------
; Stand
[Statedef 0]
type = S
physics = S
sprpriority = 0

[State 0, 1]
type = ChangeAnim
trigger1 = Anim != 2 && Anim != 5
trigger2 = Anim = 5 && AnimTime = 0 ;Turn anim over
value = 2

[State 0, 2]
type = VelSet
trigger1 = Time = 0
y = 0

[State 0, 3] ;Stop moving if low velocity or 4 ticks pass
type = VelSet
trigger1 = abs(vel x) < 2
trigger2 = Time = 4
x = 0

[State 0, 4] ;Are you dead?
type = ChangeState
trigger1 = !alive
value = 5050

;---------------------------------------------------------------------------
;---------------------------------------------------------------------------

;---------------------------------------------------------------------------
; Jump Start
;---------------------------------------------------------------------------
[Statedef 40]
type    = S
physics = S
anim = 40
ctrl = 0
sprpriority = 1

[State 200, 1]
type = PlaySnd
trigger1 = time = 0
value = 41, 41

[State 40, 1]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0

[State 40, 2]
type = VarSet
trigger1 = command = "holdfwd"
sysvar(1) = 1

[State 40, 3]
type = VarSet
trigger1 = command = "holdback"
sysvar(1) = -1

[State 40, 4]
type = VelSet
trigger1 = AnimTime = 0
x = ifelse(sysvar(1)=0, const(velocity.jump.neu.x), ifelse(sysvar(1)=1, const(velocity.jump.fwd.x), const(velocity.jump.back.x)))
y = const(velocity.jump.y)

[State 40, 5]
type = VelSet
trigger1 = AnimTime = 0
trigger1 = prevstateno = 100 ;RUN_FWD
trigger1 = sysvar(1) = 1
x = const(velocity.runjump.fwd.x)

[State 40, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

;---------------------------------------------------------------------------
; AirJump Start
[Statedef 45]
type    = A
physics = N
ctrl = 0
velset = 0,0

[State 200, 1]
type = PlaySnd
trigger1 = time = 0
value = 41, 41

[State 45, 1]
type = ChangeAnim
trigger1 = SelfAnimExist(44)
value = 44

[State 45, 2]
type = ChangeAnim
trigger1 = !SelfAnimExist(44)
value = 41

[State 45, 3]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0

[State 45, 4]
type = VarSet
trigger1 = command = "holdfwd"
sysvar(1) = 1

[State 45, 5]
type = VarSet
trigger1 = command = "holdback"
sysvar(1) = -1

[State 45, 6]
type = VelSet
trigger1 = Time = 2
x = ifelse(sysvar(1)=0, const(velocity.airjump.neu.x), ifelse(sysvar(1)=1, const(velocity.airjump.fwd.x), const(velocity.airjump.back.x)))
y = const(velocity.airjump.y)

[State 45, 7]
type = ChangeState
trigger1 = Time = 2
value = 50
ctrl = 1

;---------------------------------------------------------------------------
; Jump Up
[Statedef 50]
type    = A
physics = A

[State 50, 1]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0

[State 50, 2]
type = ChangeAnim
trigger1 = Time = 0
value = ifelse((vel x)=0, 41, ifelse((vel x)>0, 42, 43))

[State 50, 3]
type = ChangeAnim
trigger1 = Vel y > -2
trigger1 = SelfAnimExist(anim + 3)
persistent = 0
value = Anim + 3

;---------------------------------------------------------------------------
; Jump Down (empty state for compatibility)
[Statedef 51]
type    = A
physics = A

[State 51, 1]
type = Null
trigger1 = 1

;---------------------------------------------------------------------------
; Jump Land
[Statedef 52]
type    = S
physics = S
ctrl = 0
anim = 47

[State 200, 1]
type = PlaySnd
trigger1 = time = 0
value = 51,51

[State 52, 1]
type = VelSet
trigger1 = Time = 0
y = 0

[State 52, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 52, 3]
type = CtrlSet
trigger1 = Time = 3
value = 1

[State 52, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1



[Statedef 520]
type    = S
physics = S
ctrl = 0
anim = 2301

[State 200, 1]
type = PlaySnd
trigger1 = time = 0
value = 51,51

[State 52, 1]
type = VelSet
trigger1 = Time = 0
y = 0

[State 52, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 52, 3]
type = CtrlSet
trigger1 = Time = 3
value = 1

[State 52, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;------------------------------------------------------------------------------
;Super Jump
[Statedef 11045]
type    = S
physics = S
anim = 40
ctrl = 0
sprpriority = 1

[State 1045, c]
type = removeexplod
trigger1 = !time
id = 102

[State 1045, d]
type = removeexplod
trigger1 = !time
id = 104


[State 1045, 1]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0

[State 2999, a1]
type = Width
trigger1 = 1
player = -25,-25


[State 2999, a8]
type = Turn
trigger1 = P2Dist X < 0


[State 1045, 2]
type = VarSet
trigger1 = command = "holdfwd"
trigger2 = var(42) = -1
sysvar(1) = 1

[State 1045, 3]
type = VarSet
trigger1 = command = "holdback"
sysvar(1) = -1

[State 1045, 4]
type = VelSet
trigger1 = AnimTime = 0
x = ifelse(sysvar(1)=0, const(velocity.jump.neu.x), ifelse(sysvar(1)=1, const(velocity.jump.fwd.x), const(velocity.jump.back.x))) * 1.35
y = 1.65*const(velocity.jump.y)

[State 1045, 5]
type = VelSet
trigger1 = AnimTime = 0
trigger1 = prevstateno = 100
trigger1 = sysvar(1) = 1
x = const(velocity.runjump.fwd.x)


[State 1045, Afterimage]
type = AfterImage
trigger1 = time = 0
length = 30
PalBright   =  0,0,0
PalContrast =  120,120,220
PalAdd      =  0,0,0
PalMul      = 1,1,1
TimeGap  = 1
FrameGap = 5
Trans = Add
time = 20

[State 1045, Super Jump Afterimage]
type = null;AfterImage
trigger1 = time = 0
length = 100
PalBright   =  320, 320, 320
PalContrast =  10, 10, 10
PalAdd      =  80,80,100
PalMul      = .50,.50,.50
TimeGap  = 1
FrameGap = 5
Trans = Add
time = 30


[State 777, hsp]; Superjump FX helper
type = helper
trigger1 = !time
helpertype = normal
stateno = 8715
ID = 2999
name = "superjump"
postype = p1
pos = 0,-10
facing = 1
supermovetime = 999
pausemovetime = 999
ignorehitpause = 1
ownpal = 1


[State 1045, 8]
type = PlaySnd
trigger1 = time = 0
value = 8,0

[State 1045, 9]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1



;---------------------------------------------------------------------------
; Dash Forward
[Statedef 100]
type    = S
physics = S
anim = 100
sprpriority = 1
ctrl = 1


[State 100, 1]
type = VelSet
trigger1 = Time > 5
x = const(velocity.run.fwd.x)

[State 777, es]
type = Explod
trigger1 = !time
sprpriority = 10
anim = 8580
pos = 10, 3
removeongethit = 1
scale = .57,.57
bindtime = 1
supermovetime = 99
pausemovetime = 99

[State 105, DUST]
type = Explod
trigger1 = Time % 8 = 0
anim = 8730
postype = p1
sprpriority = 7
ownpal = 1
pos = -10, 0
scale = .5,.5
supermovetime = 9999
pausemovetime = 9999



[State 100, 4]
type = PlaySnd
trigger1 = StateNo = 100
trigger1 = animelem = 2
value = 30,1

[State 100, propulsor]
type = Explod
triggerall = !NumExplod(102)
trigger1 = StateNo = 100
trigger1 = animelem = 2
anim = 102
id = 102
name = "propulsor"
postype = P1
pos = 0,0
ownpal = 1
sprpriority = -6
facing = 1
supermove = 1
removeongethit = 1
bindtime = -1
removetime = -1

[State 100, 2] ;Prevent run from canceling into walk
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 100, 3] ;Prevent from turning
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 100, 4]
type = ChangeState
trigger1 = Time = 0
trigger1 = command = "holdback"
value = 105

[State 100, 4]
type = ChangeState
trigger1 = time > 10 && command != "holdfwd"
value = 101

[State 100, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 101
;----------------------------
[Statedef 101]
type    = S
physics = S
anim = 101
sprpriority = 1
ctrl = 0

[State 101, c]
type = removeexplod
trigger1 = !time
id = 102

[State 100, 1]
type = VelSet
trigger1 = 1
x = const(velocity.run.fwd.x)

[State 100, 4]
type = VelMul
trigger1 = 1
x = 0.2

[State 100, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;------------------------------------------------------------------------------
; DAsh Alt
;------------------------------------------------------------------------------
[Statedef 102]
type    = S
physics = S
anim = 100
sprpriority = 1
ctrl = 0


[State 100, 1]
type = VelSet
trigger1 = Time > 5
x = const(velocity.run.fwd.x)


[State 777, es]
type = Explod
trigger1 = !time
sprpriority = 10
anim = 8580
pos = 10, 3
removeongethit = 1
scale = .57,.57
bindtime = 1
supermovetime = 99
pausemovetime = 99

[State 105, DUST]
type = Explod
trigger1 = Time % 8 = 0
anim = 8730
postype = p1
sprpriority = 7
ownpal = 1
pos = -10, 0
scale = .5,.5
supermovetime = 9999
pausemovetime = 9999



[State 100, 4]
type = PlaySnd
trigger1 = animelem = 2
value = 30,1

[State 100, propulsor]
type = Explod
triggerall = !NumExplod(102)
trigger1 = StateNo = 100
trigger1 = animelem = 2
anim = 102
id = 102
name = "propulsor"
postype = P1
pos = 0,0
ownpal = 1
sprpriority = -6
facing = 1
supermove = 1
removeongethit = 1
bindtime = -1
removetime = -1


[State 100, 2] ;Prevent run from canceling into walk
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 100, 3] ;Prevent from turning
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 106, 4]
type = CtrlSet
trigger1 = p2bodydist X < 30
value = 1

[State 8, 0]
type = ChangeState
triggerall = var(8)=0
triggerall = var(28) = [0,1]
trigger1 = p2bodydist X < 10
value = 400

[State 8, 0]
type = ChangeState
triggerall = var(8)=0
triggerall = var(28) = [2,3]
trigger1 = p2bodydist X < 10
value = 410

[State 8, 0]
type = ChangeState
triggerall = var(8)!=0
triggerall = var(28) = [0,1]
trigger1 = p2bodydist X < 10
value = 77400

[State 8, 0]
triggerall = var(8)!=0
type = ChangeState
triggerall = var(28) = [2,3]
trigger1 = p2bodydist X < 10
value = 77410

[State 100, 4]
type = ChangeState
trigger1 = Time = 40
value = 101

;--------------------------------------------------------------------------
; Dash Backward
[Statedef 105]
type    = S
physics = S
anim = 105
sprpriority = 1
ctrl = 1

[State 105, 1]
type = VelSet
trigger1 = Time > 5
x = const(velocity.run.back.x)




[State 105, DUST]
type = Explod
trigger1 = Time % 8 = 0
anim = 8730
postype = p1
sprpriority = 7
ownpal = 1
pos = 45, 0
scale = .5,.5
supermovetime = 9999
pausemovetime = 9999

[State 777, es]
type = Explod
trigger1 = !time
sprpriority = 10
anim = 8580
pos = -10, 3
removeongethit = 1
scale = .57,.57
bindtime = 1
supermovetime = 99
pausemovetime = 99
facing=-1

[State 105, 4]
type = PlaySnd
trigger1 = StateNo = 105
trigger1 = animelem = 2
value = 30,1

[State 105, propulsor]
type = Explod
triggerall = !NumExplod(104)
trigger1 = StateNo = 105
trigger1 = animelem = 2
anim = 104
id = 104
name = "propulsor"
postype = P1
pos = 0,0
ownpal = 1
sprpriority = 4
facing = 1
supermove = 1
removeongethit = 1
bindtime = -1
removetime = -1

[State 105, 2] ;Prevent run from canceling into walk
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 105, 3] ;Prevent from turning
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 105, 4]
type = ChangeState
trigger1 = Time = 0
trigger1 = command = "holdfwd"
value = 100

[State 105, 4]
type = ChangeState
trigger1 = time > 10 && command != "holdback"
value = 106

[State 105, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 106

;--------------------------
[Statedef 106]
type    = S
physics = S
anim = 106
sprpriority = 1
ctrl = 0

[State 106, d]
type = removeexplod
trigger1 = !time
id = 104

[State 106, 1]
type = VelSet
trigger1 = 1
x = const(velocity.run.back.x)

[State 106, 4]
type = VelMul
trigger1 = 1
x = 0.2

[State 106, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
 ;Dash Forward (Air)
 [Statedef 107]
 type    = A
 physics = A
 anim = 107
 sprpriority = 1
 ctrl = 1

[State 107, 1]
type = VelSet
trigger1 = 1
x = const(velocity.run.fwd.x)
y = 0




[State 107, 4]
type = PlaySnd
trigger1 = StateNo = 107
trigger1 = animelem = 2
value = 30,1

[State 107, 3] ;Prevent from turning
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 107, 4]
type = ChangeState
trigger1 = Time = 0
trigger1 = command = "holdback"
value = 660

[State 107, 4]
type = ChangeState
trigger1 = Time = 20
value = 660
ctrl = 0

;--------------------------------------------------------------------------
;Dash Backward (Air)
[Statedef 108]
type    = A
physics = A
anim = 108
sprpriority = 1
ctrl = 1

[State 108, 1]
type = VelSet
trigger1 = 1
x = const(velocity.run.back.x)
y = 0




[State 108, 4]
type = PlaySnd
trigger1 = StateNo = 108
trigger1 = animelem = 2
value = 30,1

[State 108, 3] ;Prevent from turning
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 108, 4]
type = ChangeState
trigger1 = Time = 0
trigger1 = command = "holdfwd"
value = 660

[State 107, 4]
type = ChangeState
trigger1 = Time = 20
value = 660
ctrl = 0


;---------------------------------------------------------------------------
; Lose by Time Over
[Statedef 170]
type = S
ctrl = 0
anim = 170
velset = 0,0

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;---------------------------------------------------------------------------
; Win state decider
[Statedef 180]
type = S

[State 180, 1]
type = VarRandom
trigger1 = Time = 0
v = 1
range = 0,100

;[State 180, helper]
;type = Helper
;trigger1 = !NumHelper(6000)
;trigger1 = MatchOver
;stateno = 6200
;postype = p1
;pos = 0,0
;name = "Win Quotes"
;id = 6200

;[State 180, 2]
;type = ChangeState
;triggerall = MatchOver
;trigger1 = enemy,name="Captain America"
;value = 179

[State 180, 2]
type = ChangeState
trigger1 = Var(1) = [0,32]
value = 181

[State 180, 3]
type = ChangeState
trigger1 = Var(1) = [33,65]
value = 182
;
[State 180, 4]
type = ChangeState
trigger1 = Var(1) = [66,100]
value = 171


;---------------------------------------------------------------------------
; Win pose vs Cap
[Statedef 179]
type = S
ctrl = 0
anim = 0
velset = 0,0


[state 183, A3]
type = assertspecial
trigger1 = 1
flag = NoBarDisplay

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1
;----Thanks to Splode------
[State 183, 2]
type = ChangeAnim
triggerall = !var(18)
trigger1 = var(11) < 0
value = 5

[State 183, 2a]
type = Turn
triggerall = !var(18)
trigger1 = (Anim = 5) && (AnimTime = 0)
persistent = 0

[State 183, 3]
type = ChangeAnim
trigger1 = (Anim = 5) && (AnimTime = 0)
trigger2 = var(11) > 0
trigger3 = var(18)
value = 20
persistent = 0

[State 183, 4]
type = VelSet
trigger1 = Anim = 20
x = 2.4
persistent = 0

[State 183, 5]
type = VarSet
trigger1 = time = 0
fv = 0
value = abs(var(11))

[State 183, 6]
type = VarAdd
trigger1 = Anim = 20
fv = 0
value = -1.6

[State 183, 7]
type = ChangeAnim
triggerall = Anim = 20
trigger1 = fvar(0) <=40
value = 187

[State 183, 8]
type = ChangeState
trigger1 = Anim = 187
value = 178
;--------------------------------------
 [Statedef 178]
type = S
movetype = I
physics = N
anim = 188
velset = 0, 0

[state 183, A3]
type = assertspecial
trigger1 = 1
flag = NoBarDisplay

[State 182, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 183, 2]
type = PlaySnd
trigger1= animelem = 12
value = 30,9

[State 183, 2]
type = PlaySnd
trigger1= animelem = 13
value = 20,11
channel =3

[State 105, armor]
type = Explod
triggerall = !NumExplod(189)
trigger1 = StateNo = 178
trigger1 = animelem = 12
anim = 189
id = 189
name = "armor"
postype = P1
pos = 0,0
ownpal = 1
sprpriority = 4
facing = 1
supermove = 1
removeongethit = 1
bindtime = -1
removetime = 60

[State 105, shield]
type = Explod
triggerall = !NumExplod(199)
trigger1 = StateNo = 178
trigger1 = animelem = 5
anim = 190
id = 199
name = "shield"
postype = P1
pos = 0,0
ownpal = 1
ontop=1
sprpriority = 4
facing = 1
supermove = 1
removeongethit = 1
bindtime = -1
removetime = -1

[State 183, 7]
type =Removeexplod
triggerall = Anim = 188
trigger1 = animelem =5
id = 8237

[State 181, AssertSpecial]
type = AssertSpecial
trigger1 = !MatchOver
trigger1 = Time = [0,800]
flag = RoundNotOver

[State 181, AssertSpecial]
type = AssertSpecial
trigger1 = MatchOver
trigger1 = Time = [0,800]
flag = RoundNotOver

;----Captain Dead-------
[Statedef 8236]
type    = A
movetype= H
physics = N
ctrl = 0
;anim=5050
velset = 0, 0

[State 3521, a1]
type = ChangeAnim2
Trigger1 = !Time
value = 3523

[State 3521, a2]
type = PosAdd
Triggerall = Facing = -1
trigger1 = ScreenPos x = [160,320]
x = ifelse(p2stateno=0,3,5)

[State 3521, a2]
type = PosAdd
Triggerall = Facing = 1
trigger1 = ScreenPos x = [0,160]
x = ifelse(p2stateno=0,3,5)


[State 3521, A5]
type = Veladd
trigger1 = time >= 10
y = 1.9

[State 3500, A6]
type = Velset
trigger1 = !time
y = 6
x= -2

[State 3500, A6]
type = Velset
trigger1 = time = 10
y = 2
x= -2

[State 3521, a3];safe
type = SelfState
trigger1 = time = 350 ;!gethitvar(isbound)
value = 5050

[State 777, 0];reset var
type = VarSet
trigger1 = !time
v = 14 ;59
value = 0

[State 777, 0];reset var
type = VarSet
trigger1 = !time
v = 59
value = 0

[State 3521, a3];safe
type = changestate
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 8237

;----Captain Dead 2-------
[Statedef 8237]
type    = A
movetype= H
physics = N
ctrl = 0
velset = 0, 0

[State 3522, a1]
type = ChangeAnim2
Trigger1 = !Time
value = 3521

[State 3522, a11]
type = PosSet
trigger1 = !time
y =0

[State 850, 1]
type = ChangeAnim2
trigger1 = anim = 3521 && animtime = 0
value =  8236

;[State 7696, 6]
;type = selfstate
;trigger1 = Time = 1
;ctrl = 1
;value =  5110

 
 
;---------------------------------------------------------------------------
; Win pose 1
[Statedef 181]
type = S
ctrl = 0
anim = 181
velset = 0,0

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 181, 2]
type = PlaySnd
trigger1 = time = 0
value = 20,3

[State 181, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0

[state 181, A3]
type = assertspecial
trigger1 = 1
flag = NoBarDisplay

[State 181, AssertSpecial]
type = AssertSpecial
trigger1 = !MatchOver
trigger1 = Time = [0,120]
flag = RoundNotOver

[State 181, AssertSpecial]
type = AssertSpecial
trigger1 = MatchOver
trigger1 = Time = [0,400]
flag = RoundNotOver

[State 181, sparksarms]
type = Explod
triggerall = !NumExplod(182)
trigger1 = StateNo = 181
trigger1 = animelem = 3
anim = 182
id = 182
name = "sparksarms"
postype = P1
pos = 0,0
ownpal = 1
sprpriority = 4
facing = 1
time = 400


;---------------------------------------------------------------------------
; Win pose 2
[Statedef 182]
type = S
ctrl = 0
anim = 180
velset = 0,0

[State 182, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 182, 2]
type = PlaySnd
trigger1 = time = 0
value = 20,5

[state 182, A3]
type = assertspecial
trigger1 = 1
flag = NoBarDisplay

[State 182, AssertSpecial]
type = AssertSpecial
trigger1 = !MatchOver
trigger1 = Time = [0,120]
flag = RoundNotOver

[State 182, AssertSpecial]
type = AssertSpecial
trigger1 = MatchOver
trigger1 = Time = [0,400]
flag = RoundNotOver

[State 181, sparksarms2]
type = Explod
triggerall = !NumExplod(183)
trigger1 = StateNo = 182
trigger1 = animelem = 4
anim = 183
id = 183
name = "sparksarms"
postype = P1
pos = 0,0
ownpal = 1
sprpriority = 4
facing = 1
loop = 1
removetime = 1000


;-----------------------------------------------------------------------------
; Win pose 3
[Statedef 171]
type = S
ctrl = 0
anim = 184
velset = 0,0

[State 183, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 183, 2]
type = PlaySnd
trigger1 = time = 0
value = 20,4


[state 183, A3]
type = assertspecial
trigger1 = 1
flag = NoBarDisplay

[State 183, AssertSpecial]
type = AssertSpecial
trigger1 = !MatchOver
trigger1 = Time = [0,120]
flag = RoundNotOver

[State 183, AssertSpecial]
type = AssertSpecial
trigger1 = MatchOver
trigger1 = Time = [0,400]
flag = RoundNotOver

[State 183, StarkHead]
type = Explod
triggerall = !NumExplod(186)
trigger1 = StateNo = 171
trigger1 = animelem = 3
anim = 186
id = 186
name = "starkhead"
postype = P1
pos = 0,0
ownpal = 1
bindtime = -1
sprpriority = -2
facing = 1
time = 1000

[State 183, Jarvis]
type = Explod
triggerall = !NumExplod(185)
trigger1 = StateNo = 183
trigger1 = animelem = 1
anim = 185
id = 185
name = "jarvis"
postype = P1
pos = 0,0
ownpal = 1
sprpriority = -4
facing = 1
animtime = 3000


;---------------------------------------------------------------------------
; INTRO decider
[Statedef 190]
type = S

[State 190, 1]
type = VarRandom
trigger1 = Time = 0
v = 1
range = 0,100

[State 190, 2]
type = ChangeState
trigger1 = Var(1) = [0,32]
value = 191

[State 190, 3]
type = ChangeState
trigger1 = Var(1) = [33,65]
value = 193

[State 190, 4]
type = ChangeState
trigger1 = Var(1) = [66,100]
value = 194

;---------------------------------------------------------------------------
; Introduction
[Statedef 191]
type = S
ctrl = 0
anim = 191
velset = 0,0

[State 191, 1]
type = ChangeAnim
trigger1 = RoundState = 0
value = 191


[state 183, A3]
type = assertspecial
trigger1 = 1
flag = NoBarDisplay

[State 191, 2]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 191, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0

[State 191, 4]
type = PlaySnd
trigger1 = animelem = 43
value = 20,1
channel=2

[state 191, snd]
type = playsnd
trigger1 = animelem  = 7
trigger2 = animelem  = 15
trigger3 = animelem  = 22
trigger4 = animelem  = 29
trigger5 = animelem  = 36
trigger6 = animelem  = 43
trigger7 = animelem  = 50
value = 31,0

[State 181, stark]
type = Explod
;triggerall = !NumExplod(192)
trigger1 = StateNo = 191
trigger1 = animelem = 1
anim = 192
id = 192
name = "stark"
postype = P1
pos = 0,0
ownpal = 1
bindtime=-1
sprpriority = -6
facing = 1
time = 400

[State 181, sparksarms]
type = Explod
triggerall = !NumExplod(182)
trigger1 = StateNo = 191
trigger1 = animelem = 51
anim = 182
id = 182
name = "sparksarms"
postype = P1
pos = 0,0
bintime = -1
ownpal = 1
sprpriority = 4
facing = 1
time = 400


;---------------------------------------------------------------------------
; Other Intro
[Statedef 193]
type = S
ctrl = 0
anim = 181
velset = 0,0

[State 193, 1]
type = ChangeAnim
trigger1 = RoundState = 0
value = 181

[state 183, A3]
type = assertspecial
trigger1 = 1
flag = NoBarDisplay

[State 193, 2]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 193, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0

[State 193, snd]
type = PlaySnd
trigger1 = time = 0
value = 20,0
channel=2

[State 193, sparksarms]
type = Explod
triggerall = !NumExplod(182)
trigger1 = StateNo = 193
trigger1 = animelem = 3
anim = 182
id = 182
name = "sparksarms"
postype = P1
pos = 0,0
ownpal = 1
sprpriority = 4
facing = 1
time = 400
bindtime = -1


;Ultimate Ironman
[State 193, helper]
type = Helper
triggerall = !Numhelper(99300)
trigger1 = StateNo = 193
trigger1 = animelem = 1
ID = 99300
stateno = 99300
name = "ultimateIM"
pos = 0,0
postype = P1
facing = 1
helpertype = normal
sprpriority = -2
keyctrl = 0
ownpal = 1

;First Ironman
[State 193, helper]
type = Helper
triggerall = !Numhelper(99301)
trigger1 = StateNo = 193
trigger1 = animelem = 1
ID = 99301
stateno = 99301
name = "firstIM"
pos = 0,0
postype = P1
facing = 1
helpertype = normal
sprpriority = -4
keyctrl = 0
ownpal = 1

;Magnetic Ironman
[State 193, helper]
type = Helper
triggerall = !Numhelper(99302)
trigger1 = StateNo = 193
trigger1 = animelem = 1
ID = 99302
stateno = 99302
name = "MagneticIM"
pos = 100,0
postype = P1
facing = 1
helpertype = normal
sprpriority = -2
keyctrl = 0
ownpal = 1

;Samurai Ironman
[State 193, helper]
type = Helper
triggerall = !Numhelper(99303)
trigger1 = StateNo = 193
trigger1 = animelem = 1
ID = 99303
stateno = 99303
name = "SamuraiIM"
pos = -40,2
postype = P1
facing = 1
helpertype = normal
sprpriority = -2
keyctrl = 0
ownpal = 1

;Silver Centurion
[State 193, helper]
type = Helper
triggerall = !Numhelper(99304)
trigger1 = StateNo = 193
trigger1 = animelem = 1
ID = 99304
stateno = 99304
name = "SilverCenturion"
pos = -35,4
postype = P1
facing = 1
helpertype = normal
sprpriority = -2
keyctrl = 0
ownpal = 1

;Stealth Ironman
[State 193, helper]
type = Helper
triggerall = !Numhelper(99305)
trigger1 = StateNo = 193
trigger1 = animelem = 1
ID = 99305
stateno = 99305
name = "StealthIM"
pos = 65,4
postype = P1
facing = 1
helpertype = normal
sprpriority = -4
keyctrl = 0
ownpal = 1

;Heroes Reborn Ironman
[State 193, helper]
type = Helper
triggerall = !Numhelper(99306)
trigger1 = StateNo = 193
trigger1 = animelem = 1
ID = 99306
stateno = 99306
name = "RebornIM"
pos = -10,0
postype = P1
facing = 1
helpertype = normal
sprpriority = -6
keyctrl = 0
ownpal = 1

;------------------------------------------------------------------------------
;-------Ultimate Ironman------------
[statedef 99300]
type = A
anim = 99300
ctrl = 0

[state 99300, changestate]
type = changestate
trigger1 = time = 80
value = 99400

[statedef 99400]
type = A
ctrl = 0
anim = 99300
ownpal = 1
velset = 0,-3

[State 99400, bootjets]
type = Explod
triggerall = !NumExplod(99310)
trigger1 = animelem = 1
anim = 99310
id = 99310
sprpriority = -2
facing = 1
bindtime = -1
removetime = 200
pos= 0,-3
flag = noshadow
ownpal = 1

[state 99400, snd]
type = playsnd
trigger1 = time  = 0
value = 30,2

[state 99400, destroy]
type = Destroyself
trigger1 = time = 200

;-------Original Ironman------------
[statedef 99301]
type = A
anim = 99301
ctrl = 0

[state 99301, changestate]
type = changestate
trigger1 = time = 90
value = 99401

[statedef 99401]
type = A
ctrl = 0
anim = 99301
ownpal = 1
velset = 0,-3

[State 99401, bootjets]
type = Explod
triggerall = !NumExplod(99310)
trigger1 = animelem = 1
anim = 99310
id = 99310
sprpriority = 0
facing = 1
bindtime = -1
removetime = 200
pos= 100,0
flag = noshadow
ownpal = 1


[state 99401, snd]
type = playsnd
trigger1 = time  = 0
value = 30,2

[state 99401, destroy]
type = Destroyself
trigger1 = time = 200

;-------Magnetic Ironman------------
[statedef 99302]
type = A
anim = 99302
ctrl = 0

[state 99302, changestate]
type = changestate
trigger1 = time = 120
value = 99402

[statedef 99402]
type = A
ctrl = 0
anim = 99302
ownpal = 1
velset = 0,-3

[State 99402, bootjets]
type = Explod
triggerall = !NumExplod(99310)
trigger1 = animelem = 1
anim = 99310
id = 99310
sprpriority = -6
facing = 1
bindtime = -1
removetime = 200
pos= -75,0
flag = noshadow
ownpal = 1

[state 99402, snd]
type = playsnd
trigger1 = time  = 0
value = 30,2

[state 99402, destroy]
type = Destroyself
trigger1 = time = 200

;-------Samurai Ironman------------
[statedef 99303]
type = A
anim = 99303
ctrl = 0

[state 99303, changestate]
type = changestate
trigger1 = time = 110
value = 99403

[statedef 99403]
type = A
ctrl = 0
anim = 99303
ownpal = 1
velset = 0,-3

[State 99403, bootjets]
type = Explod
triggerall = !NumExplod(99310)
trigger1 = animelem = 1
anim = 99310
id = 99310
sprpriority = -6
facing = 1
bindtime = -1
removetime = 200
pos= 0,0
flag = noshadow
ownpal = 1

[state 99403, snd]
type = playsnd
trigger1 = time  = 0
value = 30,2

[state 99403, destroy]
type = Destroyself
trigger1 = time = 200

;-------Silver Centurion------------
[statedef 99304]
type = A
anim = 99304
ctrl = 0

[state 99304, changestate]
type = changestate
trigger1 = time = 70
value = 99404

[statedef 99404]
type = A
ctrl = 0
anim = 99304
ownpal = 1
velset = 0,-3

[State 99404, bootjets]
type = Explod
triggerall = !NumExplod(99310)
trigger1 = animelem = 1
anim = 99310
id = 99310
sprpriority = -6
facing = 1
bindtime = -1
removetime = 200
pos= 115,-8
flag = noshadow
ownpal = 1

[state 99404, snd]
type = playsnd
trigger1 = time  = 0
value = 30,2

[state 99404, destroy]
type = Destroyself
trigger1 = time = 200

;-------Stealth Ironman------------
[statedef 99305]
type = A
anim = 99305
ctrl = 0

[state 99305, changestate]
type = changestate
trigger1 = time = 65
value = 99405

[statedef 99405]
type = A
ctrl = 0
anim = 99305
ownpal = 1
velset = 0,-3

[State 99405, bootjets]
type = Explod
triggerall = !NumExplod(99310)
trigger1 = animelem = 1
anim = 99310
id = 99310
sprpriority = -6
facing = 1
bindtime = -1
removetime = 200
pos= -30,-8
flag = noshadow
ownpal = 1

[state 99405, snd]
type = playsnd
trigger1 = time  = 0
value = 30,2

[state 99405, destroy]
type = Destroyself
trigger1 = time = 200

;-------Heroes Reborn Ironman------------
[statedef 99306]
type = A
anim = 99306
ctrl = 0

[state 99306, changestate]
type = changestate
trigger1 = time = 135
value = 99406

[statedef 99406]
type = A
ctrl = 0
anim = 99306
ownpal = 1
velset = 0,-3

[State 99406, bootjets]
type = Explod
triggerall = !NumExplod(99310)
trigger1 = animelem = 1
anim = 99310
id = 99310
sprpriority = -6
facing = 1
bindtime = -1
removetime = 200
pos= 135,-4
flag = noshadow
ownpal = 1

[state 99406, snd]
type = playsnd
trigger1 = time  = 0
value = 30,2

[state 99406, destroy]
type = Destroyself
trigger1 = time = 200

;---------------------------------------------------------------------------
; Intro 3
[Statedef 194]
type = S
ctrl = 0
anim = 193
velset = 0,0


[state 183, A3]
type = assertspecial
trigger1 = 1
flag = NoBarDisplay

[State 194, 1]
type = ChangeAnim
trigger1 = RoundState = 0
value = 193

[State 194, 2]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 194, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0

[State 194, 4]
type = PlaySnd
trigger1 = StateNo = 194
trigger1 = animelem = 3
value = 20,2
channel=2

[State 194, snd]
type = PlaySnd
trigger1 = StateNo = 194
trigger1 = animelem = 8
value = 31,0

[State 194, StarkHead]
type = Explod
triggerall = !NumExplod(186)
trigger1 = StateNo = 194
trigger1 = time= 5
anim = 186
id = 186
name = "starkhead"
postype = P1
pos = 0,0
ownpal = 1
bindtime = -1
sprpriority = -2
facing = 1
removetime =90

[State 194, helper]
type = Helper
triggerall = !Numhelper(196)
trigger1 = StateNo = 194
trigger1 = animelem = 1
ID = 196
stateno = 196
name = "secre"
pos = 0,0
postype = P1
facing = 1
helpertype = normal
sprpriority = -6
keyctrl = 0
ownpal = 1

;-------Secre Pepper---------
[statedef 196]
type = S
anim = 196
ctrl = 0

[state 196, changestate]
type = changestate
trigger1 = AnimTime = 0
value = 197

[statedef 197]
type = S
ctrl = 0
anim = 197
ownpal = 1
velset = -2,0

;[state 197, snd]
;type = playsnd
;trigger1 = time  = 0
;value = 30,2

[state 197, destroy]
type = Destroyself
trigger1 = time = 100

;---------------------------------------------------------------------------
; Taunt
[Statedef 195]
type = S
ctrl = 0
anim = 195
velset = 0,0
movetype = I
physics = S
sprpriority = 2

 [State 195, a]
type = removeexplod
trigger1 = !time
id = 104

[State 195, b]
type = removeexplod
trigger1 = !time
id = 102

[state 197, snd]
type = playsnd
trigger1 = time  = 0
value = 22,5


[State 195, 1]
type = CtrlSet
trigger1 = Time = 40
value = 1

[State 195, var]
type = Varset
trigger1 = Time = 0
var(28) = 0

[State 195, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;-------------------------------------------------------------------
; Falling from air attack
[Statedef 660]
type    = A
movetype= I
physics = A
anim = 660
ctrl = 1;Var(3)
sprpriority = 1

[State 660, Turn]
type = Turn
trigger1 = P2Dist X < -5

[State 660, 1]
type = VelSet
trigger1 = command = "holdback"
x = -2.5

[State 660, 1]
type = VelSet
trigger1 = command = "holdfwd"
x = 2.5

[State 660, VelSet]
type = VelSet
trigger1 = FrontEdgeBodyDist <= 0
x = 0

[State 660, ChangeState]
type = ChangeState
trigger1 = (Pos Y >= 0) && (Vel Y > 0)
value = 52


;---------------------------------------------------------------------------
; P2 States
;---------------------------------------------------------------------------
;Hit by bubble
[Statedef 7670]
type    = A
physics = N
movetype = H
ctrl = 0
anim = 5300

[State 0, ]
type = VelSet
trigger1 = Time = 0
x = 0
y = 0

[State 0, ]
type = PowerAdd
trigger1 = 1
value = -5

[State 7697, Blue_FX]
type = PalFX
trigger1 = Anim = 5300
trigger1 = Time = 1
time = 70
add = 50,50,200
mul = 140,254,160
;sinadd = 85,55,110,10
color = 0
;invertall = 1

[State 7696, 6]
type = SelfState
trigger1 = Time = 70
ctrl = 1
value = 5070

; Hit by Fire
[Statedef 7697]
type    = A
physics = N
movetype = H
ctrl = 0
anim = 5002

[State 7697, 1]
type = VelSet
trigger1 = Time = 0
x = -4
y = -7

[State 7697, Burning_Anim]
type = ChangeAnim
trigger1 = AnimExist(7697)
trigger1 = Anim != 7697
value = 7697

[State 7697, Burn]
type = PalFX
trigger1 = Time = 1
time = 25
add = 240,50,0
mul = 250,224,120
sinadd = 110,55,85,10
color = 0
invertall = 1

[State 7696, 5]
type = VelAdd
trigger1 = Time > 2
y = 0.45

[State 7696, 6]
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100

; Hit by Fire 2
[Statedef 7597]
type    = A
physics = N
movetype = H
ctrl = 0
anim = 5002

[State 7697, 1]
type = VelSet
trigger1 = Time = 0
x = -2
y = -1

[State 7697, Burning_Anim]
type = ChangeAnim
trigger1 = AnimExist(7697)
trigger1 = Anim != 7697
value = 7697

[State 7697, Burn]
type = PalFX
trigger1 = Time = 1
time = 25
add = 240,50,0
mul = 250,224,120
sinadd = 110,55,85,10
color = 0
invertall = 1

[State 7696, 5]
type = VelAdd
trigger1 = Time > 2
y = 0.25

[State 7696, 6]
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100

;---------------------------------------------------------------------------
;Counter
;[Statedef 8100]
;type    = A
;physics = S
;movetype = A
;ctrl = 0
;velset = 0, 0
;anim = 8100
;poweradd = -1000

;[State -10, ]
;type = Width
;trigger1 = 1
;edge = 0,0
;player = 50,0
;ignorehitpause = 0
;persistent = 1

;[State 8100, Darken]
;type = BGPalFX
;trigger1 = Time = 5
;time = 25
;add = -100,-100,-100

;[State -10, ]
;type = PalFX
;trigger1 = (GameTime % 4) = 0
;time = 1
;add = 96,96,256

;[State 8100, Pause]
;type = Pause
;trigger1 = Time = 0
;time = 10
;movetime = 10
;darken = 1
;unhittable = 1

;[State 8100, 3]
;type = Projectile
;trigger1 = Time = 0
;attr = S, SP
;projID = 8105
;projanim = 8105
;projhitanim = 8105
;projshadow = 68,68,68
;projremovetime = -1
;projheightbound = -300, 0
;pausemovetime = 999999
;offset = 80,0
;velocity = 0,0
;damage = 2,2
;animtype = Hard
;guardflag = MA
;pausetime = 0,9
;sparkno = 1
;guard.sparkno = 1
;hitsound   = 5,4
;guardsound = S3,0
;ground.type = High
;ground.slidetime = 14
;ground.hittime  = 16
;ground.velocity = -10, -1
;air.animtype = Back
;air.velocity = -2.5,-5
;fall = 1

;[State 8002, Land]
;type = ChangeState
;trigger1 = AnimTime = 0
;value = 0
;ctrl = 1

;---------------------------------------------------------------------------
;Guard Push (Code by MystikBlaze)
[Statedef 8200]
type    = S
movetype= I
physics = N
poweradd= 0
velset = 10,0
ctrl = 0
anim = 8200
sprpriority = 2

[State 8200, propulsor]
type = Explod
triggerall = !NumExplod(8202)
trigger1 = StateNo = 8200
trigger1 = animelem = 1
anim = 8202
id = 8202
name = "propulsor2"
postype = P1
pos = 0,0
ownpal = 1
sprpriority = 6
facing = 1
removeongethit = 1
bindtime = -1
removetime = 16

[State 6300, a6]
type = Explod
trigger1 = !Time
anim = 6355
postype = p1
pos = 73,-80 ; Adjust
ownpal = 1
vel = 2,0
ignorehitpause = 1
sprpriority = 7

[State 6300, a6]
type = Explod
trigger1 = !Time
anim = 8202
postype = p1
pos =0,0 ; Adjust
ownpal = 1
vel = 2,0
ignorehitpause = 1
sprpriority = 7


[State 8200, VelMul]
type = VelMul
trigger1 = 1
x = 0.75

[State 8200, VelSet]
type = VelSet
trigger1 = Time = 10
x = 0

[State 8200, Width]
type = Width
trigger1 = 1
value = 10,0

[State 8200, NotHitBy]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 20



[State 8200, Guard Push Helper]
type = Helper
trigger1 = Time = 0
helpertype = Normal
name = "GuardPush"
postype = P1
pos = -50,0
stateno = 8201
ownpal = 1
size.height = 200
size.ground.back = 30
size.ground.front = 30

[State 8200, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Guard Push (Helper)
[Statedef 8201]
type    = S
movetype= I
physics = N
poweradd= 0
ctrl = 0
anim = 8201
sprpriority = -4

[State 8201, PlayerPush]
type = PlayerPush
trigger1 = Time >= 0
value = 1

[State 8201, VelSet 1]
type = VelSet
trigger1 = Time = [0,10]
x = 30

[State 8201, VelSet 2]
type = VelSet
trigger1 = Time = [11,13]
x = 20

[State 8201, VelSet 2]
type = VelSet
trigger1 = Time >= 14
x = 10

[State 8201, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 8201, DestroySelf]
type = DestroySelf
trigger1 = Time >= 18

;---------------------------------------------------------------------------
; Liedown Roll Forward (Code by MystikBlaze)
[Statedef 8300]
type    = C       ;It's a crouching type move
movetype= I       ;The character is 'idle' while doing the recovery roll
physics = N
poweradd= 0
velset = 5,0      ;Just change the vel x to -8 if you want to roll backwards
ctrl = 0
anim = 8300
sprpriority = -1

[State 8300, PlayerPush] ;So you can roll 'through' the opponent
type = PlayerPush
trigger1 = Time >= 0
value = 0

[State 8300, VelSet]   ;Stop once the recovery roll is over
type = VelSet
trigger1 = AnimTime = 0
x = 0

[State 8300, PosSet]
type = PosSet
trigger1 = Time >= 0
y = 0

[State 105, DUST]
type = Explod
trigger1 = Time % 8 = 0
anim = 8730
postype = p1
sprpriority = 7
ownpal = 1
pos = 45, 0
scale = .5,.5
supermovetime = 9999
pausemovetime = 9999


[State 8300, NotHitBy]  ;Can't get hit while rolling
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 8300, snd]
type = PlaySnd
trigger1 = StateNo = 8300
trigger1 = animelem = 1
value = 30,1

[State 8300, propulsor]
type = Explod
triggerall = !NumExplod(104)
trigger1 = StateNo = 8300
trigger1 = animelem = 1
anim = 104
id = 104
name = "propulsor"
postype = P1
pos = -30,55
ownpal = 1
sprpriority = 4
facing = -1
supermove = 1
removeongethit = 1
bindtime = -1
removetime = 30

[State 8300, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

; Liedown Roll Backwards (Code by MystikBlaze)
[Statedef 8305]
type    = C       ;It's a crouching type move
movetype= I       ;The character is 'idle' while doing the recovery roll
physics = N
poweradd= 0
velset = -5,0      ;Just change the vel x to -8 if you want to roll backwards
ctrl = 0
anim = 8305
sprpriority = -1

[State 8305, PlayerPush] ;So you can roll 'through' the opponent
type = PlayerPush
trigger1 = Time >= 0
value = 0

[State 8305, VelSet]   ;Stop once the recovery roll is over
type = VelSet
trigger1 = AnimTime = 0
x = 0

[State 8305, PosSet]
type = PosSet
trigger1 = Time >= 0
y = 0

[State 105, DUST]
type = Explod
trigger1 = Time % 8 = 0
anim = 8730
postype = p1
sprpriority = 7
ownpal = 1
pos = 45, 0
scale = .5,.5
supermovetime = 9999
pausemovetime = 9999


[State 8305, NotHitBy]  ;Can't get hit while rolling
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 8305, snd]
type = PlaySnd
trigger1 = StateNo = 8300
trigger1 = animelem = 1
value = 30,1

[State 8305, propulsor]
type = Explod
triggerall = !NumExplod(104)
trigger1 = StateNo = 8305
trigger1 = animelem = 1
anim = 104
id = 104
name = "propulsor"
postype = P1
pos = 55,70
ownpal = 1
sprpriority = 4
facing = 1
supermove = 1
removeongethit = 1
bindtime = -1
removetime = 30

[State 8305, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 11            ;Change to crouching state
ctrl = 1

;---------------------------------------------------------------------------
;-------------------------------------------------------------------------------
;----IRONMEN
;-------------------------------------------------------------------------------
[Statedef 4520];----------- P2 going
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = 5
facep2 = 1

[State 3520, a1]
type = ChangeAnim2
Trigger1 = !Time
value = 3522

[State 3520, a2]
type = ScreenBound
trigger1 = 1
value = 0

[State 3520, a3];safe
type = SelfState
trigger1 = time = 250 ;!gethitvar(isbound)
value = 5050

[Statedef 4521];-------- wall hit
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = 1

[State 3521, a1]
type = ChangeAnim2
Trigger1 = !Time
value = 3523

[State 3521, a2]
type = ScreenBound
trigger1 = 1
value = 0

[State 3521, a2]
type = PosAdd
Triggerall = Facing = -1
trigger1 = ScreenPos x = [160,320]
x = ifelse(p2stateno=4505,3,5)

[State 3521, a2]
type = PosAdd
Triggerall = Facing = 1
trigger1 = ScreenPos x = [0,160]
x = ifelse(p2stateno=4505,3,5)

[State 3521, A5]
type = Veladd
trigger1 = time >= 10
y = .9

[State 3500, A6]
type = Velset
trigger1 = !time
y = -6

[State 3521, a3];safe
type = SelfState
trigger1 = time = 250 ;!gethitvar(isbound)
value = 5050

[State 3521, a3];safe
type = changestate
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 4522

[Statedef 4522];----------- P2 hit ground
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = -2

[State 3522,a2]
type = Turn
trigger1 =!time
;ignorehitpause = 0
;persistent = 1

[State 777, xy]
type = PowerAdd
trigger1 =!time
value = 5

[State 3522, a1]
type = ChangeAnim
Triggerall = p2stateno!=4570
Triggerall = selfAnimExist(5300)
trigger1 = anim=3521 && animelem = 5
value = 5300

[State 3522, a1]
type = ChangeAnim2
Trigger1 = !Time
value = 3521

[State 3522, a1]
type = ChangeAnim2
Trigger1 = p2stateno=4506
value = 3524
persistent =0

[State 3522, a11]
type = PosSet
trigger1 = p2stateno=4506
y =-57
persistent =0

[State 3522, a11]
type = PosSet
trigger1 = !time
y =0

[State 3522, a2]
type = ScreenBound
trigger1 = 1
movecamera = 0, 0
value = 1

[State 3522, a3];safe
type = changestate
trigger1 = time >= 375 ;
trigger2 = p2stateno=4306
value = 4523
ctrl = 0

[State 3522, a3];safe
type = selfstate
trigger1 = p2stateno != [4500,4590]
value = 5050
ctrl = 0

;--------------------------------------

[Statedef 4523];------ p2hit stomp
type = U
movetype = H
physics = N
sprpriority = -2
velset = 0,-1

[State 3523, a2]
type = PosAdd
Triggerall = Facing = -1
trigger1 = ScreenPos x = [160,320]
x = ifelse(p2stateno=4505,3,5)

[State 3523, a2]
type = PosAdd
Triggerall = Facing = 1
trigger1 = ScreenPos x = [0,160]
x = ifelse(p2stateno=4505,3,5)

[State 777, xy]
type = PowerAdd
trigger1 =!time
value = 5

[State 3523, a0]
type = ChangeAnim2
Trigger1 = !Time
value = 3528

[State 3523, a0]
type = StateTypeSet
trigger1 = time = 10
StateType = A

[State 3523, a2]
type = ScreenBound
trigger1 = 1
value = 0

[State 3523, a0]
type = VelAdd
trigger1 = time <= 10
y = .1

[State 3523, a0]
type = VelAdd
trigger1 = time >= 15
y = .9

[State 3523, a3];safe
type = selfstate
triggerall = p2stateno != [4500,4590]
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5110

[State 3523, a3];safe
type = changestate
triggerall = p2stateno = [4500,4590]
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 4524



[Statedef 4524];----------- P2 hit up
type    = U
movetype= H
physics = N
velset = 0,0
sprpriority = -2

[State 3524, a1]
type = ChangeAnim2
Trigger1 = !Time
value = 3526

[State 3524, a1]
type = ChangeAnim2
Trigger1 = p2stateno=4505
value = 3521
persistent =0

[State 777, xy]
type = PowerAdd
trigger1 =!time
value = 5

[State 3524, a1]
type = ChangeAnim
Triggerall = selfAnimExist(5300)
trigger1 = anim=3521 && animelem = 6
value = 5300

[State 3524, a1]
type = ChangeAnim2
Trigger1 = stateno= 4506;p2stateno = 4506
value = 3524
persistent = 0

[State 3524, a11]
type = PosSet
trigger1 = stateno= 4506;p2stateno = 4506
x = ifelse(facing=-1,-16,16)
y =-57
persistent =0


[State 3524, a11]
type = PosSet
trigger1 = !time
y = 0

[State 3524, a2]
type = ScreenBound
trigger1 = 1
movecamera = 0, 0
value = 1


[State 3524, a3];safe
type = SelfState
trigger1 = p2stateno != [4500,4590]
trigger2 = p2stateno=4507
trigger3 = time >= 700 ;safe
value = 5110


[Statedef 4525];----------- P2 hit
type = A
movetype = H
physics = N
sprpriority = -2
velset = 0,-3

[State 3525, a0]
type = ChangeAnim2
Trigger1 = !Time
value = 3527

[State 777, xy]
type = PowerAdd
trigger1 =!time
value = 5

[State 3525, a2]
type = ScreenBound
trigger1 = 1
value = 0

[State 3525, a0]
type = VelAdd
trigger1 = time >= 0
y = .9


[State 3525, a3];safe
type = changestate
triggerall = p2stateno != [4500,4590]
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5110

[State 3525, a3];safe
type = changestate
triggerall = p2stateno = [4500,4590]
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 4524

[Statedef 8706];---------- HITspark 6 rocks
type = S
movetype = I
physics = N
anim = 8201
sprpriority = -7

[State 8706, A0]
type = screenbound
trigger1 = 1
value = 0

[state 8706, a1]
type = assertspecial
trigger1 = 1
flag = noshadow

[State 8707, b1] ;ground
type = Explod
trigger1 = (parent, stateno != 4005)&& (!Time)

anim = 8675
id = 8675
postype = p1
bindtime = -1
pos = 0, 0
sprpriority = -7
persistent = 0
scale = .8,.9
supermovetime = 999
pausemovetime = 999

[State 8706 Explod] ;balls
type = Explod
trigger1 = time <= 9
anim = IfElse(Random <= 499,8670,8671)
id = 8706
pos = 0,0
postype = p1
bindtime = 1
vel = (IfElse(Random <= 499,Random/120,Random/(-120))),Random/(-120)
accel = 0,.5
;removetime = 20
supermovetime = 999
pausemovetime = 999
scale = IfElse(Random <= 499,.4,.2),IfElse(Random <= 499,.4,.2)
sprpriority = 8
;ownpal = 1

[State 0, ]
type = RemoveExplod
trigger1 = (parent, stateno = 3100)
id = 8675
ignorehitpause = 1
supermovetime = 999
pausemovetime = 999
[State 0, ]
type = RemoveExplod
trigger1 = (parent, stateno = 3100)
id = 8706
ignorehitpause = 1
supermovetime = 999
pausemovetime = 999

[State 8706, a6]
type = destroyself
trigger1 = (time>=9) && (parent, stateno = 3005)
trigger2 = time >= 176;25


[Statedef 88706];---------- HITspark another rocks
type = S
movetype = I
physics = N
anim = 8201
sprpriority = -7

[State 8706, A0]
type = screenbound
trigger1 = 1
value = 0

[state 8706, a1]
type = assertspecial
trigger1 = 1
flag = noshadow

[State 8706 Explod] ;balls
type = Explod
trigger1 = time <= 9
anim = IfElse(Random <= 499,8670,8671)
id = 8706
pos = 0,0
postype = p2
bindtime = 1
vel = (IfElse(Random <= 499,Random/120,Random/(-120))),Random/(-120)
accel = 0,.5
;removetime = 20
supermovetime = 999
pausemovetime = 999
scale = IfElse(Random <= 499,.4,.2),IfElse(Random <= 499,.4,.2)
sprpriority = 8
;ownpal = 1

[State 0, ]
type = RemoveExplod
trigger1 = (parent, stateno = 3100)
id = 8675
ignorehitpause = 1
supermovetime = 999
pausemovetime = 999
[State 0, ]
type = RemoveExplod
trigger1 = (parent, stateno = 3100)
id = 8706
ignorehitpause = 1
supermovetime = 999
pausemovetime = 999

[State 8706, a6]
type = destroyself
trigger1 = (time>=9) && (parent, stateno = 3005)
trigger2 = time >= 176;25

;-------------------------------------------------------------------------------
;----IRONMEN  2
;-------------------------------------------------------------------------------
[Statedef 4421];-------- wall hit
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = 1

[State 3521, a1]
type = ChangeAnim2
Trigger1 = !Time
value = 3523

[State 3521, a2]
type = ScreenBound
trigger1 = 1
value = 0

[State 3521, a2]
type = PosAdd
Triggerall = Facing = -1
trigger1 = ScreenPos x = [160,320]
x = ifelse(p2stateno=4508,3,5)

[State 3521, a2]
type = PosAdd
Triggerall = Facing = 1
trigger1 = ScreenPos x = [0,160]
x = ifelse(p2stateno=4508,3,5)

[State 3521, A5]
type = Veladd
trigger1 = time >= 10
y = .9

[State 3500, A6]
type = Velset
trigger1 = !time
y = -6

[State 3521, a3];safe
type = SelfState
trigger1 = time = 350 ;!gethitvar(isbound)
value = 5050

[State 3521, a3];safe
type = changestate
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 4422

[Statedef 4422];----------- P2 hit ground
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = -2

[State 3522,a2]
type = Turn
trigger1 =!time
;ignorehitpause = 0
;persistent = 1

[State 777, xy]
type = PowerAdd
trigger1 =!time
value = 5

[State 3522, a1]
type = ChangeAnim2
Trigger1 = !Time
value = 3521

[State 3522, a1]
type = ChangeAnim
Triggerall = p2stateno!=4606
Triggerall = selfAnimExist(5300)
trigger1 = anim=3521 && animelem = 5
value = 5300


[State 3522, a11]
type = PosSet
trigger1 = !time
y =0

[State 3522, a2]
type = ScreenBound
trigger1 = 1
movecamera = 0, 0
value = 1


[State 3522, a3];safe
type = selfstate
trigger1 = time= 200;p2stateno != [4500,4590]
value = 5050
ctrl = 0

;-------------------------------------------------------------------------------
;----IRONMEN  3
;-------------------------------------------------------------------------------
[Statedef 4321];-------- wall hit
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = 1

[State 3521, a1]
type = ChangeAnim2
Trigger1 = !Time
value = 3523

[State 3521, a2]
type = ScreenBound
trigger1 = 1
value = 0

[State 3521, a2]
type = PosAdd
Triggerall = Facing = -1
trigger1 = ScreenPos x = [160,320]
x = ifelse(p2stateno=4308,3,5)

[State 3521, a2]
type = PosAdd
Triggerall = Facing = 1
trigger1 = ScreenPos x = [0,160]
x = ifelse(p2stateno=4308,3,5)

[State 3521, A5]
type = Veladd
trigger1 = time >= 10
y = .9

[State 3500, A6]
type = Velset
trigger1 = !time
y = -6

[State 3521, a3];safe
type = SelfState
trigger1 = time = 350 ;!gethitvar(isbound)
value = 5050

[State 3521, a3];safe
type = changestate
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 4322

[Statedef 4322];----------- P2 hit ground
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = -2

[State 3522,a2]
type = Turn
trigger1 =!time
;ignorehitpause = 0
;persistent = 1

[State 777, xy]
type = PowerAdd
trigger1 =!time
value = 5

[State 3522, a1]
type = ChangeAnim2
Trigger1 = !Time
value = 3521

[State 3522, a1]
type = ChangeAnim
Triggerall = p2stateno!=4606
Triggerall = selfAnimExist(5300)
trigger1 = anim=3521 && animelem = 5
value = 5300


[State 3522, a11]
type = PosSet
trigger1 = !time
y =0

[State 3522, a2]
type = ScreenBound
trigger1 = 1
movecamera = 0, 0
value = 1


[State 3522, a3];safe
type = selfstate
trigger1 = time= 300;p2stateno != [4500,4590]
value = 5050
ctrl = 0


;-------------------------------------------------------------------------------
;----Throw  1 P2 State
;-------------------------------------------------------------------------------
[Statedef 865];----------- P2 going
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = 5
facep2 = 1

[State 1410, 1]
type = SprPriority
trigger1 = time >= 0
value = -2

[State 3520, a1]
type = ChangeAnim2
Trigger1 = !Time
value = 3522

[State 3520, a2]
type = ScreenBound
trigger1 = 1
value = 0

[State 3520, a3];safe
type = SelfState
trigger1 = time = 250 ;!gethitvar(isbound)
value = 5050


[Statedef 866];-------- wall hit
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = 1

[State 1410, 1]
type = SprPriority
trigger1 = time >= 0
value = -2

[State 3521, a1]
type = ChangeAnim2
Trigger1 = !Time
value = 3523

[State 3521, a2]
type = ScreenBound
trigger1 = 1
value = 0

[State 3521, a2]
type = PosAdd
Triggerall = Facing = -1
trigger1 = ScreenPos x = [160,320]
x = ifelse(p2stateno=807,3,5)

[State 3521, a2]
type = PosAdd
Triggerall = Facing = 1
trigger1 = ScreenPos x = [0,160]
x = ifelse(p2stateno=807,3,5)

[State 3521, A5]
type = Veladd
trigger1 = time >= 10
y = .9

[State 3500, A6]
type = Velset
trigger1 = !time
y = -6
x=6

[State 3521, a3];safe
type = SelfState
trigger1 = time =350 ;!gethitvar(isbound)
value = 5050

[State 3521, a3];safe
type = changestate
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 867

[Statedef 867];----------- P2 hit ground
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = -2

[State 3522,a2]
type = Turn
trigger1 =!time

[State 1410, 1]
type = SprPriority
trigger1 = time >= 0
value = -2


[State 777, xy]
type = PowerAdd
trigger1 =!time
value = 5

[State 3522, a1]
type = ChangeAnim2
Trigger1 = !Time
value = 809


[State 3522, a11]
type = PosSet
trigger1 = !time
y =0

[State 3522, a2]
type = ScreenBound
trigger1 = 1
movecamera = 0, 0
value = 1

[State 3522, a3]
type = selfstate
triggerall= alive
trigger1 = time= 80
value = 5120
ctrl = 0

[State 7696, 6]   ;safe
type = selfstate
triggerall= !alive
trigger1 = Time =60
ctrl = 1
value = 5150


;----------------------------------------------------------------------
;Armor
;----------------------------------------------------------------------
[Statedef 8623]
type = U
movetype = H
physics = U

[State -2 , 9]
type = PlaySnd
trigger1 = time = 1
value = 4,3

[State 9001, PalFX]
type = PalFX
trigger1 = Alive
trigger1 = !Time
trigger2 = Time = 1
trigger3 = Time = 5
trigger4 = Time = 9
trigger5 = Time = 13
time = 2
add = 160,50,0
mul = 250,224,120
color = 28
ignorehitpause = 1

[State 9001, PosFreeze]
type = PosFreeze
trigger1 = Alive
trigger1 = 1
value = 1

[State 9001, CtrlSet]
type = CtrlSet
triggerall = Time < floor(gethitvar(hittime) * 0.8)
trigger1 = var(46) <= 106
trigger1 = var(46) != [1000,4999]
value = 1

[State 9001, ChangeAnim]
type = ChangeAnim
trigger1 = Time < floor(gethitvar(hittime) * 0.8)
value = Anim
elem  = AnimElemNo(3)

[State 9001, End]
type = ChangeState
trigger1 = Alive
trigger1 = Time >= floor(gethitvar(hittime) * 0.8)
;trigger1 = var(46) != [1000,4999]
value =  var(46)

[State 9001, VelSet]
type = VelSet
trigger1 = !Alive
x = gethitvar(xvel)
y = gethitvar(yvel)

[State 9001, End]
type = ChangeState
trigger1 = !Alive
value = 5050
;---------------------------------------------------------------------------
[Statedef 9011]
type    = A
movetype= I
physics = N
poweradd= 0
ctrl = 0
anim = 9000
sprpriority = -1

[State 0, ]
type = VelSet
trigger1 = FrontEdgeDist > 220
x = 10

[State 0, ]
type = VelMul
trigger1 = FrontEdgeDist > 220
x = 0.8

[State 0, ]
type = VelSet
trigger1 = FrontEdgeDist <= 216
x = 0

[State 0, ]
type = null;DestroySelf
trigger1 = parent, Time > 40

;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;Command "A" part 1     FP <- u -> d
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
; FP
[Statedef 13290]
type    = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
velset = 0,0
anim = 8787
sprpriority = 4

[State 2060, 7];
type = PlaySnd
trigger1 = time = 0
channel = 9
value = 60,0
volume = 255

[State 2000, 1] ; command base
type = Explod
trigger1 = time = 1
anim = 13312
pos = 70, 10
postype = back
bindtime = -1
removetime = 240
sprpriority = 4
ID = 13290

[State 1000, 7]
type = Changestate
trigger1 = command = "z"
ctrl = 1
value = 13291

[State 1000, 7]
type = Changestate
trigger1 = time = 240
trigger2 = (command = "holddown") || (command = "holdfwd") || (command = "holdup")
trigger3 = (command = "x") || (command = "y") || (command = "holdback")
trigger4 = (command = "a") || (command = "b") || (command = "c")
trigger5 = command ="start"
ctrl = 0
value = 13297

;---------------------------------------------------------------------------
; FP <-
[Statedef 13291]
type    = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
velset = 0,0
anim = 8787
sprpriority = 4

[State 1000, 7]
type = RemoveExplod
trigger1 = time = 0
ID = 13290

[State 2000, 1]
type = Explod
trigger1 = time = 0
anim = 13313
pos = 70, 10
postype = back
bindtime = -1
removetime = 60
sprpriority = 4
ID = 13291

[State 2060, 7]
type = PlaySnd
trigger1 = time = 0
channel = 9
value = 60,1
volume = 255

[State 777, hsp]
type = helper
trigger1 = time = 0
helpertype = normal
stateno = 18700
ID = 18700
name = "hitspark1"
postype = back
pos = 0,0
supermovetime = 999
pausemovetime = 999
ignorehitpause = 1
persistent=1
ownpal = 1

[State 1000, 7]
type = Changestate
trigger1 = command = "holdback"
ctrl = 1
value = 13292

[State 1000, 7]
type = Changestate
trigger1 = time =60
trigger2 = command!="holdback" && time >= 30
ctrl = 0
value = 13297


;---------------------------------------------------------------------------
; FP <- u
[Statedef 13292]
type    = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
velset = 0,0
anim = 8787
sprpriority = 4

[State 1000, 7]
type = RemoveExplod
trigger1 = time = 0
ID = 13291

[State 2000, 1]
type = Explod
trigger1 = time = 0
anim = 13314
pos = 70,10
postype = back
bindtime = -1
removetime = 60
sprpriority = 4
ID = 13292

[State 2060, 7]
type = PlaySnd
trigger1 = time = 0
channel = 9
value = 60,1
volume = 255

[State 777, hsp]
type = helper
trigger1 = time = 0
helpertype = normal
stateno = 18701
ID = 18701
name = "hitspark1"
postype = back
pos = 0,0
supermovetime = 999
pausemovetime = 999
ignorehitpause = 1
persistent=1
ownpal = 1

[State 1000, 7]
type = Changestate
trigger1 = command = "holdup"
ctrl = 1
value = 13293

[State 1000, 7]
type = Changestate
trigger1 = time = 60
trigger2 = command!="holdup" && time >= 30
ctrl = 0
value = 13297

;---------------------------------------------------------------------------
;FP <- u ->
[Statedef 13293]
type    = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
velset = 0,0
anim = 8787
sprpriority = 4

[State 2000, 1]
type = Explod
trigger1 = time = 1
anim = 13315
pos = 70,10
postype = back
bindtime = -1
removetime = 60
sprpriority = 4
ID = 13293

[State 1000, 7]
type = RemoveExplod
trigger1 = time = 1
ID = 13292

[State 2060, 7]; snd
type = PlaySnd
trigger1 = time = 0
channel = 9
value = 60,1
volume = 255

[State 777, hsp]
type = helper
trigger1 = time = 0
helpertype = normal
stateno = 18702
ID = 18702
name = "hitspark1"
postype = back
pos = 0,0
supermovetime = 999
pausemovetime = 999
ignorehitpause = 1
persistent=1
ownpal = 1

[State 1000, 7]
type = Changestate
trigger1 = command = "holdfwd"
ctrl = 1
value = 13294

[State 1000, 7]
type = Changestate
trigger1 = time = 60
trigger2 = command!="holdfwd" && time >= 30
ctrl = 0
value = 13297


;---------------------------------------------------------------------------
;FP <- u -> d
[Statedef 13294]
type    = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
velset = 0,0
anim = 8787
sprpriority = 4

[State 1000, 7]
type = RemoveExplod
trigger1 = time = 1
ID = 13293

[State 2000, 1]
type = Explod
trigger1 = time = 1
anim = 13316
pos = 70,10
postype = back
bindtime = -1
removetime = 60
sprpriority = 4
ID = 13294

[State 2060, 7]
type = PlaySnd
trigger1 = time = 0
channel = 9
value = 60,1
volume = 255

[State 777, hsp]
type = helper
trigger1 = time = 0
helpertype = normal
stateno = 18703
ID = 18703
name = "hitspark1"
postype = back
pos = 0,0
supermovetime = 999
pausemovetime = 999
ignorehitpause = 1
persistent=1
ownpal = 1

[State 1000, 7]
type = Changestate
trigger1 = command = "holddown"
ctrl = 0
value = 13295

[State 1000, 7]
type = Changestate
trigger1 = time = 60
trigger2 = command!="holddown" && time >= 30
ctrl = 0
value = 13297

;---------------------------------------------------------------------------
; Succeed  1
;---------------------------------------------------------------------------
[Statedef 13295]
type    = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
velset = 0,0
anim = 8787
sprpriority = 4

[State 1000, 7]
type = RemoveExplod
trigger1 = time = 1
ID = 13294

[State 2000, 1]
type = Explod
trigger1 = time = 1
anim = 13317
pos = 70,10
postype = back
bindtime = -1
removetime = 60
sprpriority = 4
ID = 13295

[State 2060, 7]
type = PlaySnd
trigger1 = time = 0
channel = 9
value = 60,1
volume = 255

[State 777, hsp]
type = helper
trigger1 = time = 0
helpertype = normal
stateno = 18704
ID = 18704
name = "hitspark1"
postype = back
pos = 0,0
supermovetime = 999
pausemovetime = 999
ignorehitpause = 1
persistent=1
ownpal = 1

[State 2010, 1]
type = Helper
ID =13296
helpertype = normal
name = "succeed"
pos = 20, -20
postype = back
stateno = 13296
trigger1 = time = 59
value = 13296

[State 2011, ]
type = DestroySelf
Trigger1 = time = 60
Trigger2 = parent, movetype=H
ignorehitpause = 0

;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;Command "A" alt part 1     d <- u -> FP
;---------------------------------------------------------------------------
; d
[Statedef 13390]
type    = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
velset = 0,0
anim = 8787
sprpriority = 4

[State 2060, 7];
type = PlaySnd
trigger1 = time = 0
channel = 9
value = 60,0
volume = 255

[State 2000, 1]
type = Explod
trigger1 = time = 1
anim = 13342
pos = 70, 10
postype = back
bindtime = -1
removetime = 240
sprpriority = 4
ID = 13390

[State 1000, 7]
type = Changestate
trigger1 = command = "holddown"
ctrl = 1
value = 13391

[State 1000, 7]
type = Changestate
trigger1 = time = 240
trigger2 = (command = "holdup") || (command = "holdback") || (command = "holdfwd")
trigger3 = (command = "x") || (command = "y") || (command = "z")
trigger4 = (command = "a") || (command = "b") || (command = "c")
trigger5 = command ="start"
ctrl = 0
value = 13297

;---------------------------------------------------------------------------
; d <-
[Statedef 13391]
type    = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
velset = 0,0
anim = 8787
sprpriority = 4

[State 1000, 7]
type = RemoveExplod
trigger1 = time = 0
ID = 13390

[State 2000, 1]
type = Explod
trigger1 = time = 0
anim = 13343
pos = 70, 10
postype = back
bindtime = -1
removetime = 60
sprpriority = 4
ID = 13391

[State 2060, 7]
type = PlaySnd
trigger1 = time = 0
channel = 9
value = 60,1
volume = 255

[State 777, hsp]
type = helper
trigger1 = time = 0
helpertype = normal
stateno = 18700
ID = 18700
name = "hitspark1"
postype = back
pos = 0,0
supermovetime = 999
pausemovetime = 999
ignorehitpause = 1
persistent=1
ownpal = 1

[State 1000, 7]
type = Changestate
trigger1 = command = "holdback"
ctrl = 1
value = 13392

[State 1000, 7]
type = Changestate
trigger1 = time = 60
trigger2 = command!="holdback" && time >= 30
ctrl = 0
value = 13297

;---------------------------------------------------------------------------
; d <- u
[Statedef 13392]
type    = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
velset = 0,0
anim = 8787
sprpriority = 4

[State 1000, 7]
type = RemoveExplod
trigger1 = time = 0
ID = 13391

[State 2000, 1]
type = Explod
trigger1 = time = 0
anim = 13344
pos = 70,10
postype = back
bindtime = -1
removetime = 60
sprpriority = 4
ID = 13392

[State 2060, 7]
type = PlaySnd
trigger1 = time = 0
channel = 9
value = 60,1
volume = 255

[State 777, hsp]
type = helper
trigger1 = time = 0
helpertype = normal
stateno = 18701
ID = 18701
name = "hitspark1"
postype = back
pos = 0,0
supermovetime = 999
pausemovetime = 999
ignorehitpause = 1
persistent=1
ownpal = 1

[State 1000, 7]
type = Changestate
trigger1 = command = "holdup"
ctrl = 1
value = 13393

[State 1000, 7]
type = Changestate
trigger1 = time = 60
trigger2 = command!="holdup" && time >= 30
ctrl = 0
value = 13297


;---------------------------------------------------------------------------
;d <- u ->
[Statedef 13393]
type    = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
velset = 0,0
anim = 8787
sprpriority = 4

[State 2000, 1]
type = Explod
trigger1 = time = 1
anim = 13345
pos = 70,10
postype = back
bindtime = -1
removetime = 60
sprpriority = 4
ID = 13393

[State 1000, 7]
type = RemoveExplod
trigger1 = time = 1
ID = 13392

[State 2060, 7]; snd
type = PlaySnd
trigger1 = time = 0
channel = 9
value = 60,1
volume = 255

[State 777, hsp]
type = helper
trigger1 = time = 0
helpertype = normal
stateno = 18702
ID = 18702
name = "hitspark1"
postype = back
pos = 0,0
supermovetime = 999
pausemovetime = 999
ignorehitpause = 1
persistent=1
ownpal = 1

[State 1000, 7]
type = Changestate
trigger1 = command = "holdfwd"
ctrl = 1
value = 13394

[State 1000, 7]
type = Changestate
trigger1 = time = 60
trigger2 = command!="holdfwd" && time >= 30
ctrl = 0
value = 13297


;---------------------------------------------------------------------------
;d <- u -> FP
[Statedef 13394]
type    = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
velset = 0,0
anim = 8787
sprpriority = 4

[State 1000, 7]
type = RemoveExplod
trigger1 = time = 1
ID = 13393

[State 2000, 1]
type = Explod
trigger1 = time = 1
anim = 13346
pos = 70,10
postype = back
bindtime = -1
removetime = 60
sprpriority = 4
ID = 13394

[State 2060, 7]; snd
type = PlaySnd
trigger1 = time = 0
channel = 9
value = 60,1
volume = 255

[State 777, hsp]
type = helper
trigger1 = time = 0
helpertype = normal
stateno = 18703
ID = 18703
name = "hitspark1"
postype = back
pos = 0,0
supermovetime = 999
pausemovetime = 999
ignorehitpause = 1
persistent=1
ownpal = 1

[State 1000, 7]
type = Changestate
trigger1 = command = "z"
ctrl = 0
value = 13395

[State 1000, 7]
type = Changestate
trigger1 = time = 60
trigger2 = command!="z" && time >= 30
ctrl = 0
value = 13297


;---------------------------------------------------------------------------
; Succeed  2
;---------------------------------------------------------------------------
[Statedef 13395]
type    = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
velset = 0,0
anim = 8787
sprpriority = 4

[State 1000, 7]
type = RemoveExplod
trigger1 = time = 1
ID = 13394

[State 2000, 1]
type = Explod
trigger1 = time = 1
anim = 13347
pos = 70,10
postype = back
bindtime = -1
removetime = 60
sprpriority = 4
ID = 13395

[State 2060, 7]; snd
type = PlaySnd
trigger1 = time = 0
channel = 9
value = 60,1
volume = 255

[State 777, hsp]
type = helper
trigger1 = time = 0
helpertype = normal
stateno = 18704
ID = 18704
name = "hitspark1"
postype = back
pos = 0,0
supermovetime = 999
pausemovetime = 999
ignorehitpause = 1
persistent=1
ownpal = 1

[State 2010, 1]
type = Helper
ID =13296
helpertype = normal
name = "succeed"
pos = 20, -20
postype = back
stateno = 13296
trigger1 = time = 59
value = 13296

[State 2011, ]
type = DestroySelf
Trigger1 = time = 60
Trigger2 = parent, movetype=H
ignorehitpause = 0

;---------------------------------------------------------------------------
;Succed helper
;---------------------------------------------------------------------------
[Statedef 13296]
type    = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
velset = 0,0
anim = 8787
sprpriority = 4

[State 1000, 7]
type = RemoveExplod
trigger1 = time = 1
ID = 13295

[State 1000, 7]
type = RemoveExplod
trigger1 = time = 1
ID = 13395

[State 2060, 7]; snd
type = PlaySnd
trigger1 = time = 0
channel = 9
value = 60,3
volume = 255

[State 2000, 1]
type = Explod
trigger1 = time = 1
anim = 13325
pos = 110,25
postype = back
bindtime = -1
removetime = 500
sprpriority = 4
ID = 13296
ownpal=1

[State 1000, 7]
type = bindtoroot
trigger1 = time = 0
triggerall = facing = 1
value = 20, -20
time = 60

[State 1000, 7]
type = bindtoroot
trigger1 = time = 0
triggerall = facing = -1
value = 150, -20
time = 60

[State 2011, ]
type = DestroySelf
Trigger1 = time = 400
Trigger2 = parent, movetype=H
ignorehitpause = 0

;---------------------------------------------------------------------------
;Failed Messege
;---------------------------------------------------------------------------
[Statedef 13297]
type    = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
velset = 0,0
anim = 8787
sprpriority = 4

[State 1000, 7]
type = RemoveExplod
trigger1 = time = 0
ID = 13290

[State 1000, 7]
type = RemoveExplod
trigger1 = time = 0
ID = 13291

[State 1000, 7]
type = RemoveExplod
trigger1 = time = 0
ID = 13292

[State 1000, 7]
type = RemoveExplod
trigger1 = time = 0
ID = 13293

[State 1000, 7]
type = RemoveExplod
trigger1 = time = 0
ID = 13294

[State 1000, 7]
type = RemoveExplod
trigger1 = time = 0
ID = 13295
;-------

[State 1000, 7]
type = RemoveExplod
trigger1 = time = 0
ID = 13390

[State 1000, 7]
type = RemoveExplod
trigger1 = time = 0
ID = 13391

[State 1000, 7]
type = RemoveExplod
trigger1 = time = 0
ID = 13392

[State 1000, 7]
type = RemoveExplod
trigger1 = time = 0
ID = 13393

[State 1000, 7]
type = RemoveExplod
trigger1 = time = 0
ID = 13394

[State 1000, 7]
type = RemoveExplod
trigger1 = time = 0
ID = 13395

[State 2060, 7]
type = PlaySnd
trigger1 = time = 0
channel = 9
value = 60,4
volume = 255

[State 2000, 1]
type = Explod
trigger1 = time = 1
anim = 13326
pos = 120,25
postype = back
bindtime = -1
removetime = 20
sprpriority = 4
ID = 13297
ownpal=1

[State 2011, ]
type = DestroySelf
Trigger1 = time = 20
Trigger2 = parent, movetype=H
ignorehitpause = 0


;---------------------------------------------------------------------------
;Command "B" part 1     FP FK MK LK LP
;---------------------------------------------------------------------------
; FP
[Statedef 23290]
type    = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
velset = 0,0
anim = 8787
sprpriority = 4

[State 2060, 7];
type = PlaySnd
trigger1 = time = 0
channel = 9
value = 60,0
volume = 255

[State 2000, 1] ; command base
type = Explod
trigger1 = time = 1
anim = 13332
pos = 70, 10
postype = back
bindtime = -1
removetime = 180
sprpriority = 4
ID = 23290

[State 1000, 7]
type = Changestate
trigger1 = command = "z"
ctrl = 1
value = 23291

[State 1000, 7]
type = Changestate
trigger1 = time = 180
trigger2 = (command = "holddown") || (command = "holdback") || (command = "holdup")
trigger3 = (command = "x") || (command = "y") || (command = "holdfwd")
trigger4 = (command = "a") || (command = "b") || (command = "c")
trigger5 = command ="start"
ctrl = 0
value = 23297

;---------------------------------------------------------------------------
; FP FK
[Statedef 23291]
type    = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
velset = 0,0
anim = 8787
sprpriority = 4

[State 1000, 7]
type = RemoveExplod
trigger1 = time = 0
ID = 23290

[State 2000, 1]
type = Explod
trigger1 = time = 0
anim = 13333
pos = 70, 10
postype = back
bindtime = -1
removetime = 60
sprpriority = 4
ID = 23291

[State 2060, 7]
type = PlaySnd
trigger1 = time = 0
channel = 9
value = 60,1
volume = 255

[State 777, hsp]
type = helper
trigger1 = time = 0
helpertype = normal
stateno = 18700
ID = 18700
name = "hitspark1"
postype = back
pos = 0,0
supermovetime = 999
pausemovetime = 999
ignorehitpause = 1
persistent=1
ownpal = 1

[State 1000, 7]
type = Changestate
trigger1 = command = "c"
ctrl = 1
value = 23292

[State 1000, 7]
type = Changestate
trigger1 = command!="c" && time >=30
trigger2=  time = 60
ctrl = 0
value = 23297


;---------------------------------------------------------------------------
; FP FK MK
[Statedef 23292]
type    = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
velset = 0,0
anim = 8787
sprpriority = 4

[State 1000, 7]
type = RemoveExplod
trigger1 = time = 0
ID = 23291

[State 2000, 1]
type = Explod
trigger1 = time = 0
anim = 13334
pos = 70, 10
postype = back
bindtime = -1
removetime = 60
sprpriority = 4
ID = 23292

[State 2060, 7]
type = PlaySnd
trigger1 = time = 0
channel = 9
value = 60,1
volume = 255

[State 777, hsp]
type = helper
trigger1 = time = 0
helpertype = normal
stateno = 18701
ID = 18701
name = "hitspark1"
postype = back
pos = 0,0
supermovetime = 999
pausemovetime = 999
ignorehitpause = 1
persistent=1
ownpal = 1

[State 1000, 7]
type = Changestate
trigger1 = command = "b"
ctrl = 1
value = 23293

[State 1000, 7]
type = Changestate
trigger1 = command!="b" && time >=30
trigger2=  time = 60
ctrl = 0
value = 23297

;---------------------------------------------------------------------------
; FP FK MK LK
[Statedef 23293]
type    = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
velset = 0,0
anim = 8787
sprpriority = 4

[State 1000, 7]
type = RemoveExplod
trigger1 = time = 0
ID = 23292

[State 2000, 1]
type = Explod
trigger1 = time =0
anim = 13335
pos = 70, 10
postype = back
bindtime = -1
removetime = 60
sprpriority = 4
ID = 23293

[State 2060, 7]
type = PlaySnd
trigger1 = time = 0
channel = 9
value = 60,1
volume = 255

[State 777, hsp]
type = helper
trigger1 = time = 0
helpertype = normal
stateno = 18702
ID = 18702
name = "hitspark1"
postype = back
pos = 0,0
supermovetime = 999
pausemovetime = 999
ignorehitpause = 1
persistent=1
ownpal = 1

[State 1000, 7]
type = Changestate
trigger1 = command = "a"
ctrl = 1
value = 23294

[State 1000, 7]
type = Changestate
trigger1 = command!="a" && time >=30
trigger2=  time = 60
ctrl = 0
value = 23297

;---------------------------------------------------------------------------
; FP FK MK LK LP
[Statedef 23294]
type    = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
velset = 0,0
anim = 8787
sprpriority = 4

[State 1000, 7]
type = RemoveExplod
trigger1 = time = 0
ID = 23293

[State 2000, 1]
type = Explod
trigger1 = time = 0
anim = 13336
pos = 70, 10
postype = back
bindtime = -1
removetime = 60
sprpriority = 4
ID = 23294

[State 2060, 7]
type = PlaySnd
trigger1 = time = 0
channel = 9
value = 60,1
volume = 255

[State 777, hsp]
type = helper
trigger1 = time = 0
helpertype = normal
stateno = 18703
ID = 18703
name = "hitspark1"
postype = back
pos = 0,0
supermovetime = 999
pausemovetime = 999
ignorehitpause = 1
persistent=1
ownpal = 1

[State 1000, 7]
type = Changestate
trigger1 = command = "x"
ctrl = 0
value = 23295

[State 1000, 7]
type = Changestate
trigger1 = command!="x" && time >=30
trigger2=  time = 60
ctrl = 0
value = 23297

;---------------------------------------------------------------------------
; Succeed
[Statedef 23295]
type    = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
velset = 0,0
anim = 8787
sprpriority = 4


[State 1000, 7]
type = RemoveExplod
trigger1 = time = 0
ID = 23294

[State 2000, 1]
type = Explod
trigger1 = time = 0
anim = 13337
pos = 70, 10
postype = back
bindtime = -1
removetime = 60
sprpriority = 4
ID = 23295

[State 2060, 7]
type = PlaySnd
trigger1 = time = 0
channel = 9
value = 60,1
volume = 255

[State 777, hsp]
type = helper
trigger1 = time = 0
helpertype = normal
stateno = 18704
ID = 18704
name = "hitspark1"
postype = back
pos = 0,0
supermovetime = 999
pausemovetime = 999
ignorehitpause = 1
persistent=1
ownpal = 1

[State 2010, 1]
type = Helper
ID =23296
helpertype = normal
name = "succeedX"
pos = 20, -20
postype = back
stateno = 23296
trigger1 = time = 59
value = 23296
ownpal =1

[State 2011, ]
type = DestroySelf
Trigger1 = time = 60
Trigger2 = parent, movetype=H
ignorehitpause = 0

;---------------------------------------------------------------------------
;Command "B" Alt part 1    FP MP LP LK MK
;---------------------------------------------------------------------------
; FP
[Statedef 23390]
type    = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
velset = 0,0
anim = 8787
sprpriority = 4

[State 2060, 7];
type = PlaySnd
trigger1 = time = 0
channel = 9
value = 60,0
volume = 255

[State 2000, 1] ; command base
type = Explod
trigger1 = time = 1
anim = 13352
pos = 70, 10
postype = back
bindtime = -1
removetime = 180
sprpriority = 4
ID = 23390

[State 1000, 7]
type = Changestate
trigger1 = command = "z"
ctrl = 1
value = 23391

[State 1000, 7]
type = Changestate
trigger1 = time = 180
trigger2 = (command = "holddown") || (command = "holdback") || (command = "holdup")
trigger3 = (command = "holdfwd") || (command = "y") || (command = "x")
trigger4 = (command = "a") || (command = "b") || (command = "c")
trigger5 = command ="start"
ctrl = 0
value = 23297

;---------------------------------------------------------------------------
;  FP MP
[Statedef 23391]
type    = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
velset = 0,0
anim = 8787
sprpriority = 4

[State 1000, 7]
type = RemoveExplod
trigger1 = time = 0
ID = 23390

[State 2000, 1]
type = Explod
trigger1 = time = 0
anim = 13353
pos = 70, 10
postype = back
bindtime = -1
removetime = 60
sprpriority = 4
ID = 23391

[State 2060, 7]
type = PlaySnd
trigger1 = time = 0
channel = 9
value = 60,1
volume = 255

[State 777, hsp]
type = helper
trigger1 = time = 0
helpertype = normal
stateno = 18700
ID = 18700
name = "hitspark1"
postype = back
pos = 0,0
supermovetime = 999
pausemovetime = 999
ignorehitpause = 1
persistent=1
ownpal = 1

[State 1000, 7]
type = Changestate
trigger1 = command = "y"
ctrl = 1
value = 23392

[State 1000, 7]
type = Changestate
trigger1 = command!="y" && time >=30
trigger2=  time = 60
ctrl = 0
value = 23297


;---------------------------------------------------------------------------
;  FP MP LP
[Statedef 23392]
type    = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
velset = 0,0
anim = 8787
sprpriority = 4

[State 1000, 7]
type = RemoveExplod
trigger1 = time = 0
ID = 23391

[State 2000, 1]
type = Explod
trigger1 = time = 0
anim = 13354
pos = 70, 10
postype = back
bindtime = -1
removetime = 60
sprpriority = 4
ID = 23392

[State 2060, 7]
type = PlaySnd
trigger1 = time = 0
channel = 9
value = 60,1
volume = 255

[State 777, hsp]
type = helper
trigger1 = time = 0
helpertype = normal
stateno = 18701
ID = 18701
name = "hitspark1"
postype = back
pos = 0,0
supermovetime = 999
pausemovetime = 999
ignorehitpause = 1
persistent=1
ownpal = 1

[State 1000, 7]
type = Changestate
trigger1 = command = "x"
ctrl = 1
value = 23393

[State 1000, 7]
type = Changestate
trigger1 = command!="x" && time >=30
trigger2=  time = 60
ctrl = 0
value = 23297

;---------------------------------------------------------------------------
;  FP MP LP LK
[Statedef 23393]
type    = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
velset = 0,0
anim = 8787
sprpriority = 4

[State 1000, 7]
type = RemoveExplod
trigger1 = time = 0
ID = 23392

[State 2000, 1]
type = Explod
trigger1 = time =0
anim = 13355
pos = 70, 10
postype = back
bindtime = -1
removetime = 60
sprpriority = 4
ID = 23393

[State 2060, 7]
type = PlaySnd
trigger1 = time = 0
channel = 9
value = 60,1
volume = 255

[State 777, hsp]
type = helper
trigger1 = time = 0
helpertype = normal
stateno = 18702
ID = 18702
name = "hitspark1"
postype = back
pos = 0,0
supermovetime = 999
pausemovetime = 999
ignorehitpause = 1
persistent=1
ownpal = 1

[State 1000, 7]
type = Changestate
trigger1 = command = "a"
ctrl = 1
value = 23394

[State 1000, 7]
type = Changestate
trigger1 = command!="a" && time >=30
trigger2=  time = 60
ctrl = 0
value = 23297

;---------------------------------------------------------------------------
;  FP MP LP LK MK
[Statedef 23394]
type    = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
velset = 0,0
anim = 8787
sprpriority = 4

[State 1000, 7]
type = RemoveExplod
trigger1 = time = 0
ID = 23393

[State 2000, 1]
type = Explod
trigger1 = time = 0
anim = 13356
pos = 70, 10
postype = back
bindtime = -1
removetime = 60
sprpriority = 4
ID = 23394

[State 2060, 7]
type = PlaySnd
trigger1 = time = 0
channel = 9
value = 60,1
volume = 255

[State 777, hsp]
type = helper
trigger1 = time = 0
helpertype = normal
stateno = 18703
ID = 18703
name = "hitspark1"
postype = back
pos = 0,0
supermovetime = 999
pausemovetime = 999
ignorehitpause = 1
persistent=1
ownpal = 1

[State 1000, 7]
type = Changestate
trigger1 = command = "b"
ctrl = 0
value = 23395

[State 1000, 7]
type = Changestate
trigger1 = command!="b" && time >=30
trigger2=  time = 60
ctrl = 0
value = 23297

;---------------------------------------------------------------------------
; Succeed
[Statedef 23395]
type    = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
velset = 0,0
anim = 8787
sprpriority = 4

[State 1000, 7]
type = RemoveExplod
trigger1 = time = 0
ID = 23394

[State 2000, 1]
type = Explod
trigger1 = time = 0
anim = 13357
pos = 70, 10
postype = back
bindtime = -1
removetime = 60
sprpriority = 4
ID = 23395

[State 2060, 7]
type = PlaySnd
trigger1 = time = 0
channel = 9
value = 60,1
volume = 255

[State 777, hsp]
type = helper
trigger1 = time = 0
helpertype = normal
stateno = 18704
ID = 18704
name = "hitspark1"
postype = back
pos = 0,0
supermovetime = 999
pausemovetime = 999
ignorehitpause = 1
persistent=1
ownpal = 1

[State 2010, 1]
type = Helper
ID =23296
helpertype = normal
name = "succeedX"
pos = 20, -20
postype = back
stateno = 23296
trigger1 = time = 59
value = 23296
ownpal =1

[State 2011, ]
type = DestroySelf
Trigger1 = time = 60
Trigger2 = parent, movetype=H
ignorehitpause = 0

;---------------------------------------------------------------------------
;Succed helper  2
;---------------------------------------------------------------------------
[Statedef 23296]
type    = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
velset = 0,0
anim = 8787
sprpriority = 4

[State 1000, 7]
type = RemoveExplod
trigger1 = time = 1
ID = 23295

[State 2060, 7]; snd
type = PlaySnd
trigger1 = time = 0
channel = 9
value = 60,3
volume = 255

[State 2000, 1]
type = Explod
trigger1 = time = 1
anim = 13325
pos = 110,25
postype = back
bindtime = -1
removetime = 500
sprpriority = 4
ID = 23296

[State 1000, 7]
type = bindtoroot
trigger1 = time = 0
triggerall = facing = 1
value = 20, -20
time = 60

[State 1000, 7]
type = bindtoroot
trigger1 = time = 0
triggerall = facing = -1
value = 150, -20
time = 60

[State 2011, ]
type = DestroySelf
Trigger1 = time = 600
Trigger2 = parent, movetype=H
ignorehitpause = 0

;---------------------------------------------------------------------------
;Failed Messege 2
;---------------------------------------------------------------------------
[Statedef 23297]
type    = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
velset = 0,0
anim = 8787
sprpriority = 4

[State 1000, 7]
type = RemoveExplod
trigger1 = time = 0
ID = 23290

[State 1000, 7]
type = RemoveExplod
trigger1 = time = 0
ID = 23291

[State 1000, 7]
type = RemoveExplod
trigger1 = time = 0
ID = 23292

[State 1000, 7]
type = RemoveExplod
trigger1 = time = 0
ID = 23293

[State 1000, 7]
type = RemoveExplod
trigger1 = time = 0
ID = 23294

[State 1000, 7]
type = RemoveExplod
trigger1 = time = 0
ID = 23295
;------------------

[State 1000, 7]
type = RemoveExplod
trigger1 = time = 0
ID = 23390

[State 1000, 7]
type = RemoveExplod
trigger1 = time = 0
ID = 23391

[State 1000, 7]
type = RemoveExplod
trigger1 = time = 0
ID = 23392

[State 1000, 7]
type = RemoveExplod
trigger1 = time = 0
ID = 23393

[State 1000, 7]
type = RemoveExplod
trigger1 = time = 0
ID = 23394

[State 1000, 7]
type = RemoveExplod
trigger1 = time = 0
ID = 23395

[State 2060, 7]; snd
type = PlaySnd
trigger1 = time = 0
channel = 9
value = 60,4
volume = 255

[State 2000, 1]
type = Explod
trigger1 = time = 1
anim = 13326
pos = 120,25
postype = back
bindtime = -1
removetime = 20
sprpriority = 4
ID = 23297


[State 2011, ]
type = DestroySelf
Trigger1 = time = 20
Trigger2 = parent, movetype=H
ignorehitpause = 0


;---------------------------------------------------------------------------
; States that are always executed (use statedef -2)
;---------------------------------------------------------------------------
[Statedef -2]
;---------------------------------------------------------------------------
;remove Explods
;---------------------------------------------------------------------------
[State -2, c]
type = removeexplod
trigger1 = !time
id = 102

[State -2, d]
type = removeexplod
trigger1 = !time
id = 104

[State -2, xplod]
type = removeexplod
trigger1= !time
ID = 621
;--------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------


[State -2, a9];p2 bounce ground mvsc style
type = TargetState
triggerall = !var(50)
triggerall = NumTarget > 0
triggerall = target(0),  StateNo != 9023
trigger1 = !var(1) && StateNo = 620 && movehit
trigger1 = target(0), stateno=5100
trigger1 = var(50) :=1
trigger2 = !var(1) && StateNo = 650 && movehit
trigger2 = target(0), stateno=5100
trigger2 = var(50) :=1
trigger3 = !var(1) && prevStateNo = 620
trigger3 = target(0), stateno=5100
trigger3 = var(50) :=1
trigger4 = !var(1) && prevStateNo = 650
trigger4 = target(0), stateno=5100
trigger4 = var(50) :=1
value = 9023
ID = 0

[State -2, reset var(50)]
type = VarSet
trigger1 = NumTarget = 0
trigger2 = NumTarget > 0
trigger2 = target(0), Time=0
trigger2 = target(0), StateNo != 9020
trigger3 = target(0), Time=0
trigger3 = target(0), StateNo != 9023
var(50) = 0
ignorehitpause = 1

[State -2, reset parent var(50)]
type = ParentVarSet
trigger1 = NumTarget = 0
trigger2 = NumTarget > 0
trigger2 = target(0), Time=0
trigger2 = target(0), StateNo != 9020
trigger3 = target(0), Time=0
trigger3 = target(0), StateNo != 9023
var(50) = 0
ignorehitpause = 1



;---------------------------
;Alternative stand var controller
[State -2, Varset]
type = Varset
trigger1 = life >= 250
var(42) = 1

[State -2, Varset]
type = Varset
trigger1 = RoundNo = 2
var(42) = 1

[State -2]
type = Varset
trigger1 = life <= 250
var(42) = 0

;----------------------------------------------------
; Display "Danger" Message Teamside = 1
[State -2, Create Helper]
type = Helper
triggerall = var(17) = 0
triggerall = !NumHelper(7100)
triggerall = teamside= 1
trigger1 = Life <= 250
ID = 7100
name = "Vida"
StateNo = 7100
postype = back
facing = (facing)
pos = 0, 0
ownpal = 1

;--------------
[State 8787, a4]
type = Explod
triggerall = var(17) = 0
triggerall = !Numexplod(7000)
triggerall = teamside= 1 && facing = -1
trigger1 = Life <= 250
anim = 7000
id=7000
pos = 320,0
facing=(facing)
postype= back
bindtime = -1
supermovetime =999
pausemovetime =999
sprpriority = 39
removetime = 25
scale = 1,1
IgnoreHitPause = 1
ownpal = 1

[State 8787, a4]
type = Explod
triggerall = var(17) = 0
triggerall = !Numexplod(7000)
triggerall = teamside= 1 && facing = 1
trigger1 = Life <= 250
anim = 7000
id=7000
pos = 0,0
facing=(facing)
postype= back
bindtime = -1
supermovetime =999
pausemovetime =999
sprpriority = 39
removetime = 25
scale = 1,1
IgnoreHitPause = 1
ownpal = 1

;----------------------------------------------------
; Display "Danger" Message Teamside = 2
[State -2, Create Helper]
type = Helper
triggerall = var(17) = 0
triggerall = !NumHelper(7101)
triggerall = teamside= 2
trigger1 = Life <= 250
ID = 7101
name = "Vida"
StateNo = 7101
postype = back
facing = (facing)
pos = 0, 0
ownpal = 1

;--------------
[State 8787, a4]
type = Explod
triggerall = var(17) = 0
triggerall = !Numexplod(7000)
triggerall = teamside= 2 && facing = -1
trigger1 = Life <= 250
anim = 7000
id=7000
pos =87,0
facing=(facing)
postype= back
bindtime = -1
supermovetime =999
pausemovetime =999
sprpriority = 39
removetime = 25
scale = 1,1
IgnoreHitPause = 1
ownpal = 1

[State 8787, a4]
type = Explod
triggerall = var(17) = 0
triggerall = !Numexplod(7000)
triggerall = teamside= 2 && facing = 1
trigger1 = Life <= 250
anim = 7000
id=7000
pos = 233,0
facing=(facing)
postype= back
bindtime = -1
supermovetime =999
pausemovetime =999
sprpriority = 39
removetime = 25
scale = 1,1
IgnoreHitPause = 1
ownpal = 1

[State 100, 5]
type = PlaySnd
triggerall = var(17) = 0
trigger1 = Life <= 250
value = 22, 1
channel=8

[State -2]
type = Varset
trigger1 = life <= 250
var(17) = 1


;---------------------------


;---------------------------
;
[State -2, stp]
type = StopSnd
trigger1 = !time
channel=2


;---------------------------------------------------------------------------
[State -2 , 5]
type = PlaySnd
triggerall = stateno = 5001
triggerall = (anim >= 5000) && (anim <= 5009)
trigger1 = time = 1
value = 4,0

[State -2 , 5]
type = PlaySnd
triggerall = stateno = 5001
triggerall = (anim >= 5010) && (anim <= 5019)
trigger1 = time = 1
value = 4,0

[State -2 , 5]
type = PlaySnd
triggerall = stateno = 5001
triggerall = anim >= 5020
trigger1 = time = 1
value = 4,1

[State -2 , 51]
type = PlaySnd
triggerall = stateno = 5001
triggerall = (anim >= 5000) && (anim <= 5009)
trigger1 = time = 1
value = 4,3

[State -2 , 5a]
type = PlaySnd
triggerall = stateno = 5001
triggerall = (anim >= 5010) && (anim <= 5019)
trigger1 = time = 1
value = 4,3

[State -2 , 5a]
type = PlaySnd
triggerall = stateno = 5001
triggerall = anim >= 5020
trigger1 = time = 1
value = 4,3


[State -2 , 6]
type = PlaySnd
triggerall = stateno = 5010
trigger1 = time = 1
value = 4,2

[State -2 , 7]
type = PlaySnd
triggerall = stateno = 5020
trigger1 = time = 1
value = 4,1

[State -2 , 6a]
type = PlaySnd
triggerall = stateno = 5010
trigger1 = time = 1
value = 4,3

[State -2 , 7a]
type = PlaySnd
triggerall = stateno = 5020
trigger1 = time = 1
value = 4,3

[State -2 , 8]
type = PlaySnd
triggerall = stateno = 170
trigger1 = time = 1
value = 20,7

[State -2 , 8aa]
type = PlaySnd
triggerall = stateno = 5120
trigger1 = animelem = 9
value = 20,8

[State -2 , 8a]
type = PlaySnd
triggerall = stateno = 5120
trigger1 = time = 1
value = 30,1

[State -2 , 7]
type = PlaySnd
triggerall = stateno = 5050
trigger1 = time = 1
trigger1 = Life <= 1
value = 11,0


[State -2 , 7aa]
type = PlaySnd
triggerall = stateno = 5100
trigger1 = time = 1
value = 4,4

[State -2 , 9]
type = PlaySnd
triggerall = stateno = 5500
trigger1 = time = 1
value = 20,9

[State -2 , 9]
type = PlaySnd
triggerall = anim = 5300
trigger1 = time = 1
value = 20,9


[State -2, Elec Dizzy]
type = Explod
triggerall = !NumExplod(5301)
triggerall = anim = 5300
trigger1 = animelem = 2
ID = 5301
anim = 5301
postype = p1
pos = 0, -15
bindtime=-1
time= 80
sprpriority = 2
ownpal = 1

[State -2, Elec continue]
type = Explod
triggerall = !NumExplod(5301)
triggerall = anim = 5500
trigger1 = animelem = 2
ID = 5301
anim = 5301
postype = p1
pos = 0, 0
bindtime=-1
sprpriority = 2
ownpal = 1


;------------------------------------------------
[State -2, Set Powered Up Attack]
type = AttackMulSet
trigger1 = var(14) = 1 || var(14) = -1
value = 2

[State -2, PalFX]
type = PalFX
triggerall = var(5) = 1
trigger1 = (var(15) % 30) = 0
time = 4
add = 190,0,0
mul = 266,256,256
sinadd = 180,0,0,30
invertall = 0
color = 256
ignorehitpause = 1


[State -2, Add to Timer]
type = VarAdd
trigger1 = var(5) = 1 || var(5) = -1
v = 15
value = 1

[State -2, Turn off]
type = VarSet
trigger1 = stateno = [5000,5350]
trigger2 = stateno = [140,160]
trigger3 = stateno = [660,700]
trigger4 = Pos Y >= 0
v = 5
value = 0
;------------------------
;"Warmachine"
;-------------------------
[State -2]
type = VarSet
triggerall = Var(8) != 1
triggerall = Var(8) != 2
triggerall = Var(8) != 3
trigger1 = PalNo = 7
v = 8
value = 2

[State -2]
type = VarSet
triggerall = Var(8) != 1
triggerall = Var(8) != 2
triggerall = Var(8) != 3
trigger1 = PalNo = 8
v = 8
value = 2

[State -2]
type = VarSet
triggerall = Var(8) != 1
triggerall = Var(8) != 2
triggerall = Var(8) != 3
trigger1 = PalNo = 9
v = 8
value = 2

[State -2]
type = VarSet
triggerall = Var(8) != 1
triggerall = Var(8) != 2
triggerall = Var(8) != 3
trigger1 = PalNo = 10
v = 8
value = 2

[State -2]
type = VarSet
triggerall = Var(8) != 1
triggerall = Var(8) != 2
triggerall = Var(8) != 3
trigger1 = PalNo = 11
v = 8
value = 2

[State -2]
type = VarSet
triggerall = Var(8) != 1
triggerall = Var(8) != 2
triggerall = Var(8) != 3
trigger1 = PalNo = 12
v = 8
value = 2

[State -2, EnvShake]
type = EnvShake
triggerall = var(22) = 1
triggerall = var(8) != 0
Trigger1 = (animelem = 3) || (animelem = 8)
trigger1 = stateno = 20
Trigger2 = 1
trigger2 = stateno = 52
time = 12
ampl = 4
freq = 127

[State -2, var22]
trigger1 = 1
type = VarSet
var(22) = 1

; Super Armor
[State -2]
type = VarSet
triggerall = var(8) != 0
trigger1 = Life > 1
trigger1 = MoveType != H
trigger1 = StateNo != 8623
var(46) = StateNo
ignorehitpause = 1

[State -2]
type = VarSet
triggerall = var(8) != 0
trigger1 = Life > 1
trigger1 = StateNo = [120,159]
trigger1 = StateNo != 8623
var(46) = StateNo
ignorehitpause = 1

;--------------------------------------------------
[State -2, Get P2 Distance]
type = VarSet
trigger1 = P2Dist X != 0
v = 11
value = floor(P2Dist X)

;[State -2, fakecap]
;type = TargetState
;triggerall = matchover;win
;trigger1 = p2name = "Captain America" || enemynear,name = "Captain America"
;value = 8236;Fake Death State
;ignorehitpause = 1
;
;[State -2, shield2]
;type = Explod
;triggerall = !NumExplod(8237)
;trigger1 = P2StateNo = 8237 && !time
;anim = 8237
;id = 8237
;name = "shield"
;postype = P2
;pos = 0,0
;ownpal = 1
;ontop=1
;sprpriority = 6
;facing = 1
;bindtime = -1
;removetime = -1

;--------------------------------------------------

;---------------------------------------------------------------------------
; Warmachine Mode - Name
;---------------------------------------------------------------------------
;[State -2]
;type = Explod
;triggerall = var(3)!= 0
;triggerall = TeamSide = 1
;trigger1 = numexplod(757)= 0
;trigger1 = time >= 26
;ID = 757
;pos = 68,35
;postype = Left
;persistent = 1
;ignorehitpause = 1
;sprpriority = -9999
;ownpal = 1
;bindtime = -1
;Removetime = -1
;anim = 3
;scale = 0.5,0.5

;[State -2]
;type = Explod
;triggerall = var(3)!= 0
;triggerall = TeamSide = 2
;trigger1 = numexplod(757)= 0
;trigger1 = time >= 23
;ID = 757
;pos = -72,35
;postype = Right
;persistent = 1
;ignorehitpause = 1
;sprpriority = -9999
;ownpal = 1
;bindtime = -1
;Removetime = -1
;anim = 3
;scale = 0.5,0.5

;---------------------------------------------------------------------------
; States that are executed when in self's state file (use statedef -3)
;---------------------------------------------------------------------------
[Statedef -3]

[State -3, Record Turn]
type = VarSet
triggerall = WinKO
trigger1 = Anim = [5,6]
v = 18
value = 1


[State -3, varrandom]
type = VarRandom
triggerall = stateno != [200,700]
trigger1 = Time = 0
v = 28
range = 0,3

[State -3,remove]
type = RemoveExplod
trigger1 = P2Dist y < 200
ID = 4510

;---------------------------
;Combo Damage Control
[State -3, a1]
type = varadd
trigger1 = time = 1 && movetype = A && fvar(10)<.8
fvar(10)= ifelse((stateno = [3000,4999]),.35,ifelse((stateno = [1000,2999]),.25,.15))
ignorehitpause = 1

[State -3, a2];reset
type = varset
trigger1 = numenemy && fvar(10)
trigger1 = (enemynear,movetype!=H)
fvar(10) = 0
persistent = 0
ignorehitpause = 1

[State -3, a3]
type = attackmulset
trigger1 = 1
value = ifelse(fvar(10)>=.8,.1,1-fvar(10))
ignorehitpause = 1

;---------------------------
;---------------------------
;Landing FX and sound

[State -3, Landing Dust]
type = Explod
triggerall =  NumExplod(60) < 1
triggerall = Time = 3
trigger1 = StateNo = 52 ;Jump land
trigger2 = StateNo = 101 ;Run-fdw land
trigger3 = StateNo = 106 ;Run-back land
trigger4 = StateNo = 42 ;Jump Forward
trigger5 = StateNo = 43 ;Jump Backward
trigger6 = PrevStateNo = 52 && StateNo = 47 ;Jump land/crouch
persistent = 0
ID = 60
anim = 60
postype = p1
pos = 7, 3
velocity = 0, 0
accel = 0, 0
removetime = -2
sprpriority = -2
ownpal = 1



;------------------------------------------------------------------
;Finishers
;------------------------------------------------------------------


