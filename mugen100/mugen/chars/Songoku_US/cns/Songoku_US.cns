;================================================================================
;                      基本動作
;================================================================================

[Data]
life = 1000
attack = 65
defence = 100
power = 7000
fall.defence_up = 50
liedown.time = 60
juggle = 70
airjuggle = 40
sparkno = 0
guard.sparkno = 0
KO.echo = 0
volume = 255
IntPersistIndex = 0
FloatPersistIndex = 35

[Size]
xscale = .85            ;Horizontal scaling factor.
yscale = .85            ;Vertical scaling factor.
ground.back = 25      ;Player width (back, ground)
ground.front = 25     ;Player width (front, ground)
air.back = 20         ;Player width (back, air)
air.front = 20        ;Player width (front, air)
height = 60	      ;Height of player (for opponent to jump over)
attack.dist = 160     ;Default attack distance
proj.attack.dist = 90 ;Default attack distance for projectiles
proj.doscale = 0      ;Set to 1 to scale projectiles too
head.pos = 0, -90    ;Approximate position of head
mid.pos = 0, -55     ;Approximate position of midsection
shadowoffset = 0      ;Number of pixels to vertically offset the shadow
draw.offset = 0,0     ;Player drawing offset in pixels (x, y)

[Velocity]
walk.fwd  = 3.3       ;Walk forward
walk.back = -3        ;Walk backward
run.fwd  = 7.3        ;Run forward (x, y)
run.back = -6.6,-3.5  ;Hop backward (x, y)
jump.neu = 0,-11      ;Neutral jumping velocity (x, y)
jump.back = -3.25     ;Jump back Speed (x, y)
jump.fwd = 3.25       ;Jump forward Speed (x, y)
runjump.back = -4,-10 ;Running jump speeds (opt)
runjump.fwd = 4,-12   ;.
airjump.neu = 0,-9.1  ;.
airjump.back = -3.55  ;Air jump speeds (opt)
airjump.fwd = 3.5     ;.

[Movement]
airjump.num = 1       ;Number of air jumps allowed (opt)
airjump.height = 35   ;Minimum distance from ground before you can air jump (opt)
yaccel = .58          ;Vertical acceleration
stand.friction = .85  ;Friction coefficient when standing
crouch.friction = .82 ;Friction coefficient when crouching


;============================================================
;立ち
;============================================================
[Statedef 0]
type    = S
physics = S
anim = 0+(var(1)*(10000))+(var(10)+var(11))
sprpriority = 0
hitcountpersist = 1

[State 0, StopSnd]
type = StopSnd
trigger1 = 1
channel = 21

[State 4500, 9]
type = Varset
trigger1 = var(1) = 7
var(1) = 0

[State 0, VarSet]
type = VarSet
trigger1 = 1
var(37) = 0

[State 0, anim] ;振り向き動作から移行
type = ChangeAnim
trigger1 = Anim != 0+(var(1)*(10000))+(var(10)+var(11)) && Anim != 5+(var(1)*(10000))+(var(10)+var(11))
trigger2 = Anim = 5+(var(1)*(10000))+(var(10)+var(11)) && AnimTime = 0+(var(1)*(10000))+(var(10)+var(11)) ;Turn anim over
value = 0+(var(1)*(10000))+(var(10)+var(11))

[State 0, pos] ;地上に戻す
type = PosSet
trigger1 = time = 0
y = 0

[State 0, pos] ;Y方向の速度を0に
type = VelSet
trigger1 = time = 0
y = 0

[State 0, pos] ;低速になるか4フレーム経過で停止
type = VelSet
trigger1 = abs(vel x) < 2
trigger2 = time = 4
x = 0

[State 0, e] ;生存判定
type = ChangeState
trigger1 = !alive
value = 5050 ;生存していない場合ステート5050へ

;============================================================
;立ちからしゃがみへ移行
;============================================================
[Statedef 10]
type    = C
physics = C
anim = 10+(var(1)*(10000))
hitcountpersist = 1

[State 10, pos]
type = VelMul
trigger1 = time = 0
x = .75

[State 10, e] ;しゃがみステートに移行
type = ChangeState
trigger1 = animtime = 0
value = 11

;============================================================
;しゃがみ状態
;============================================================
[Statedef 11]
type    = C
physics = C
sprpriority = 0
hitcountpersist = 1

[State 11, anim]
type = ChangeAnim
trigger1 = time = 0
value = 11+(var(1)*(10000))

;============================================================
;しゃがみから立ちへ移行
;============================================================
[Statedef 12]
type    = S
physics = S
hitcountpersist = 1

[State 12, anim]
type = ChangeAnim
trigger1 = time = 0
value = 12+(var(1)*(10000))

[State 12, e] ;立ち状態へ移行
type = ChangeState
trigger1 = animtime = 0
value = 0

;============================================================
;移動
;============================================================
[Statedef 20]
type    = S
physics = S
sprpriority = 0
hitcountpersist = 1

[State 40, 勝手に・・・防止]
type = ChangeState
trigger1 = var(59) > 0 ; AIフラグの変数
value = 0
ctrl = 1

[State 20, pos] ;前進する速度
type = VelSet
trigger1 = command = "holdfwd"
x = const(velocity.walk.fwd.x) ;定数で設定した速度

[State 20, pos] ;後退する速度
type = VelSet
trigger1 = command = "holdback"
x = const(velocity.walk.back.x) ;定数で設定した速度

[State 20, anim] ;前進するアニメに変更
type = ChangeAnim
triggerall = vel x > 0
trigger1 = Anim != 20+(var(1)*(10000)) && Anim != 5+(var(1)*(10000))
trigger2 = Anim = 5+(var(1)*(10000)) && AnimTime = 0
value = 20+(var(1)*(10000))

[State 20, anim] ;後退するアニメに変更
type = ChangeAnim
triggerall = vel x < 0
trigger1 = Anim != 21+(var(1)*(10000)) && Anim != 5+(var(1)*(10000))
trigger2 = Anim = 5+(var(1)*(10000)) && AnimTime = 0
value = 21+(var(1)*(10000))

[State 20, e];勝手に・・・防止
type = ChangeState
trigger1 = var(59) > 0 ; AIフラグの変数
value = 0
ctrl = 1

;============================================================
;ジャンプ開始
;============================================================
[Statedef 40]
type = S
physics = S
anim = 40+(var(1)*(10000))
ctrl = 0
sprpriority = 1
hitcountpersist = 1

[State 40, 勝手に・・・防止]
type = ChangeState
trigger1 = var(59) > 0 ; AIフラグの変数
value = 0
ctrl = 1

[State 40, var]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0

[State 40, var]
type = VarSet
trigger1 = Time = 0
var(5) = 0

[State 40, var];ロングジャンプ
type = VarSet
triggerall = var(59) <= 0
trigger1 = command = "longjump"
trigger2 = prevstateno = 101 && command = "holdfwd"
trigger3 = prevstateno = 252 && command = "holdup"
trigger4 = prevstateno = 525 && command = "holdup"
var(5) = 1

[State 40, var]
type = VarSet
trigger1 = var(59) <= 0
trigger1 = command = "holdfwd"
trigger2 = var(59) > 0
trigger2 = p2Movetype = H || Random <= 500 || EnemyNear(floor(fvar(31))),StateType = L
trigger3 = var(59) > 0
trigger3 = p2Movetype != H || Random <= 300 || EnemyNear(floor(fvar(31))),StateType != L
sysvar(1) = 1

[State 40, var]
type = VarSet
trigger1 = var(59) <= 0
trigger1 = command = "holdback"
trigger2 = var(59) > 0
trigger2 = p2Movetype != H
sysvar(1) = -1

[State 40, var]
type = VelSet
trigger1 = AnimTime = 0
x = ifelse(sysvar(1)=0, const(velocity.jump.neu.x), ifelse(sysvar(1)=1, const(velocity.jump.fwd.x), const(velocity.jump.back.x)))
y = const(velocity.jump.y)

[State 40, e]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

;============================================================
;空中ジャンプ開始
;============================================================
[Statedef 45]
type    = A
physics = N
ctrl = 0
velset = 0,0
hitcountpersist = 1

[State 45, var]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0

[State 45, var]
type = VarSet
trigger1 = command = "holdfwd"
sysvar(1) = 1

[State 45, var]
type = VarSet
trigger1 = command = "holdback"
sysvar(1) = -1

[State 45, pos]
type = VelSet
trigger1 = Time = 2
x = ifelse(sysvar(1)=0, const(velocity.airjump.neu.x), ifelse(sysvar(1)=1, const(velocity.airjump.fwd.x), const(velocity.airjump.back.x)))
y = const(velocity.airjump.y)

[State 45, anim]
type = ChangeAnim
trigger1 = SelfAnimExist(44)
value = 44+(var(1)*(10000))

[State 45, anim]
type = ChangeAnim
trigger1 = !SelfAnimExist(44)
value = 41+(var(1)*(10000))

[State 45, e]
type = ChangeState
trigger1 = Time = 2
value = 50
ctrl = 1

;============================================================
;上方ジャンプ
;============================================================
[Statedef 50]
type    = A
physics = A
hitcountpersist = 1

[State 50, var]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0

[State 50, pos]
type = VelSet
trigger1 = Time = 0 && Var(5)
x = IfElse(vel x = 0,0,IfElse(vel x < 0,-5,6))
y = -12

[State 50,line1];スピードライン１
type = Explod
triggerall = Var(5) && Vel X != 0
trigger1 = Time % 4 = 0 && Time < 30  
anim = 4053  
postype = p1
pos = 10, -60
velocity = 0, 0
accel = 0, 0
random = 20, 20
removetime = -2
ownpal = 1

[State 50, line2];スピードライン２
type = Explod
triggerall = Var(5) && Vel X != 0
trigger1 = Time % 4 = 0 && Time < 30  
anim = 4052  
postype = p1
pos = -5, -40
velocity = 0, 0
accel = 0, 0
random = 20, 20
removetime = -2
ownpal = 1

[State 50, line3];スピードライン３
type = Explod
triggerall = Var(5) && Vel X != 0
trigger1 = Time % 4 = 0 && Time < 30  
anim = 4051  
postype = p1
pos = -10, -60
velocity = 0, 0
accel = 0, 0
random = 20, 20
removetime = -2
ownpal = 1

[State 50, line4];スピードライン４
type = Explod
triggerall = Var(5) && Vel X != 0
trigger1 = Time % 4 = 0 && Time > 22 && Time < 34
anim = 4050
postype = p1
pos = 5, -40
velocity = 0, 0
accel = 0, 0
random = 40, 15
removetime = -2
ownpal = 1

[State 50, anim]
type = ChangeAnim
trigger1 = Time = 0
value = ifelse((vel x)=0, 41+(var(1)*(10000)), ifelse((vel x)>0, 42+(var(1)*(10000)), 43+(var(1)*(10000))))

;============================================================
;ジャンプ着地
;============================================================
[Statedef 52]
type    = S
physics = S
ctrl = 0
anim = 47+(var(1)*(10000))
velset = 0,0
facep2 = 1
hitcountpersist = 1

[State 52, pos]
type = VelSet
trigger1 = Time = 0
y = 0

[State 52, pos]
type = PosSet
trigger1 = Time = 0
y = 0

[State 52, snd]
type = PlaySnd
trigger1 = Time = 0
value = 0, 2; 着地音

[State 52, ctl]
type = CtrlSet
trigger1 = Time = 3
trigger1 = PrevStateNo != [1600,1650]
value = 1

[State 52, e]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = PrevStateNo != [1600,1650]
trigger2 = Time = 8
trigger2 = PrevStateNo = [1600,1650]
value = 0
ctrl = 1

;============================================================
;ハイジャンプ必殺技後 (降下)
;============================================================
[Statedef 950]
type    = A
physics = A
anim = 950+(var(1)*(10000))
hitcountpersist = 1

[state 950, pos]
type = VelAdd
trigger1 = Time = 0
y = -0.08

;============================================================
;ダッシュ開始
;============================================================
[Statedef 100]
type = S
movetype = I
physics = S
anim = 100+(var(1)*(10000))
velset = 0
ctrl = 0
hitcountpersist = 1

[State 100, dust]
type = Explod
trigger1 = AnimElem = 1
anim = 4010; 土煙小
ID = 100
postype = p1
pos = -10,0
bindtime = 1
sprpriority = 2
ownpal = 1

[State 100, e]
type = ChangeState
trigger1 = AnimTime = 0
value = 101

;============================================================
;ダッシュ中
;============================================================
[Statedef 101]
type = S;A
movetype = I;A
physics = S;N
anim = 101+(var(1)*(10000))
vel = 0,0
ctrl = 0
hitcountpersist = 1

[State 100, osidasi]
type = Width
trigger1 = 1
value = 27,15

[State 100, pos]
type = VelSet
trigger1 = 1
x = 9+(var(39)*2)+(var(10)*2);const(velocity.run.fwd.x)

[State 100, snd]
type = PlaySnd
trigger1 = time = 1
value = 0,3; 移動音
channel = 1

[State 100, line1];スピードライン１
type = Explod
trigger1 = Time % 4 = 0 && Time < 30  
anim = 4055  
postype = p1
pos = 0, -55
velocity = 0, 0
accel = 0, 0
random = 20, 20
removetime = -2
ownpal = 1
sprpriority = 2

[State 100, line2];スピードライン２
type = Explod
trigger1 = Time % 4 = 0 && Time < 30  
anim = 4056  
postype = p1
pos = -5, -45
velocity = 0, 0
accel = 0, 0
random = 20, 20
removetime = -2
ownpal = 1
sprpriority = 2

[State 100, line3];スピードライン３
type = Explod
trigger1 = Time % 4 = 0 && Time < 30  
anim = 4057  
postype = p1
pos = -35, -30
velocity = 0, 0
accel = 0, 0
random = 20, 20
removetime = -2
ownpal = 1
sprpriority = 2

[State 100, line4];スピードライン４
type = Explod
trigger1 = Time % 4 = 0 && Time < 30  
anim = 4058
postype = p1
pos = 10, -68
velocity = 0, 0
accel = 0, 0
random = 40, 15
removetime = -2
ownpal = 1

[State 100, e1]
type = ChangeState
triggerall = var(59) <= 0
trigger1 = command = "holdup"
value = 40

[State 100, e2]
type = ChangeState
triggerall = var(59) <= 0
triggerall = var(6) = 0
trigger1 = time > 7
trigger1 = command != "holdfwd" || time = 25
value = 102

[State 100, e3]
type = ChangeState
trigger1 = var(6) = 1
trigger1 = time > 7
trigger1 = P2bodydist X <= 40
value = 102

[State 100,AI用ダッシュストップ]
type = ChangeState
triggerall = var(59) > 0
triggerall = time > 7
trigger1 = P2bodydist X <= 120
trigger2 = P2bodydist X <= 120-(P2stateno=[120,159])*20
trigger2 = P2bodydist Y <= -50
trigger3 = inguarddist
trigger4 = EnemyNear(floor(fvar(31))),Movetype = A
trigger5 = RoundState != [1,2]
value = 102

;============================================================
;ダッシュ停止
;============================================================
[Statedef 102]
type = S
movetype = I
physics = S
anim = 102+(var(1)*(10000))
hitcountpersist = 1

[State 102, dust]
type = explod
trigger1 = StateNo = 102 && Time = 1
postype = p1
pos = -20,0
spacing = 1
anim = 4010; 土煙小
ownpal = 1
scale = .5, .5

[State 102, dust]
type = explod
trigger1 = StateNo = 102 && Time = 1
postype = p1
pos = 23,0
facing = -1
spacing = 1
anim = 4010; 土煙小
ownpal = 1
scale = .5, .5

[State 102, e]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1; RUN_BACK2 (land)

;============================================================
;バック
;============================================================
[Statedef 105] 
type    = A
physics = A
ctrl = 0
sprpriority = 1
anim = 105+(var(1)*(10000))
hitcountpersist = 1

[State 105, pos]
type = VelSet
trigger1 = time = 0
x = const(velocity.run.back.x)
y = const(velocity.run.back.y)

[State 105, ctl]
type = CtrlSet
trigger1 = time = 2
value = 1

[State 105, e]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 106

;============================================================
;着地
;============================================================
[Statedef 106]
type    = S
physics = S
ctrl = 0
anim = 47+(var(1)*(10000))
hitcountpersist = 1

[State 106, pos]
type = VelSet
trigger1 = time = 0
y = 0

[State 106, pos]
type = PosSet
trigger1 = time = 0
y = 0

[State 106, e]
type = ChangeState
trigger1 = time = 7
value = 0
ctrl = 1

;============================================================
;空中ダッシュ開始
;============================================================
[Statedef 110]
type = A
movetype = I
physics = A
anim = 110+(var(1)*(10000))
velset = 0
ctrl = 0
hitcountpersist = 1

[State 110, e1]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 115

[State 110, e2]
type = ChangeState
trigger1 = AnimTime = 0
value = 111

;============================================================
;空中ダッシュ中
;============================================================
[Statedef 111]
type = A
movetype = I
physics = N
anim = 101+(var(1)*(10000))
ctrl = 1
hitcountpersist = 1

[State 111, osidasi]
type = Width
trigger1 = 1
value = 27,15

[State 111, pos]
type = VelSet
trigger1 = 1
x = 9+(var(1)*2)+(var(10)*2);const(velocity.run.fwd.x)

[State 111, snd]
type = PlaySnd
trigger1 = time = 1
value = 0,3; 移動音
channel = 1

[State 111, line1];スピードライン１
type = Explod
trigger1 = Time % 4 = 0 && Time < 30  
anim = 4055  
postype = p1
pos = 0, -55
velocity = 0, 0
accel = 0, 0
random = 20, 20
removetime = -2
ownpal = 1
sprpriority = 2

[State 111, line2];スピードライン２
type = Explod
trigger1 = Time % 4 = 0 && Time < 30  
anim = 4056  
postype = p1
pos = -5, -45
velocity = 0, 0
accel = 0, 0
random = 20, 20
removetime = -2
ownpal = 1
sprpriority = 2

[State 111, line3];スピードライン３
type = Explod
trigger1 = Time % 4 = 0 && Time < 30  
anim = 4057  
postype = p1
pos = -35, -30
velocity = 0, 0
accel = 0, 0
random = 20, 20
removetime = -2
ownpal = 1
sprpriority = 2

[State 111, line4];スピードライン４
type = Explod
trigger1 = Time % 4 = 0 && Time < 30  
anim = 4058
postype = p1
pos = 10, -68
velocity = 0, 0
accel = 0, 0
random = 40, 15
removetime = -2
ownpal = 1

[State 111, e1]
type = ChangeState
trigger1 = var(59) <= 0
trigger1 = time > 7
trigger1 = command != "holdfwd" || time = 25
value = 950

;AI
[State 111, e2]
type = ChangeState
triggerall = time > 7
triggerall = var(59) > 0
trigger1 = P2bodydist X <= 40
trigger2 = inguarddist
trigger3 = EnemyNear(floor(fvar(31))),Movetype = A
trigger4 = (RoundState != 2)
trigger5 = vel Y <= -230
value = 950

[State 111, e3]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 115

;============================================================
;空中ダッシュ着地
;============================================================
[Statedef 115]
type    = S
movetype= I
physics = S
ctrl = 0
anim = 1730+(var(1)*(10000))
hitcountpersist = 1

[State 115, pos]
type = VelSet
trigger1 = Time = 0
x = 15
y = 0

[State 115, pos]
type = VelAdd
trigger1 = Time > 0
x = .15

[state 115, pos]
type = posset
trigger1 = time = 0
y = 0

[State 115, snd]
type = PlaySnd
trigger1 = animelem = 2
value = 0, 2; 着地音

[State 115, dust]
type = explod
trigger1 = Time = 0
postype = p1
pos = 10,0
spacing = 1
anim = 4010; 土煙小
ownpal = 1
scale = .5, .5

[State 115, e]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;============================================================
;空中バックダッシュ
;============================================================
[Statedef 112]
type = A
movetype = I
physics = N
anim = 112+(var(1)*(10000))
ctrl = 0
hitcountpersist = 1

[State 112, osidasi]
type = Width
trigger1 = 1
value = 27,15

[State 112, pos]
type = VelSet
trigger1 = 1
x = -8;const(velocity.run.fwd.x)

[State 112, snd]
type = PlaySnd
trigger1 = time = 1
value = 0,3; 移動音
channel = 1

[State 112, line1];スピードライン１
type = Explod
trigger1 = Time % 4 = 0 && Time < 30  
anim = 4055  
postype = p1
pos = 0, -60
velocity = 0, 0
accel = 0, 0
random = 20, 20
removetime = -2
ownpal = 1
sprpriority = 2
facing = -1

[State 112, line2];スピードライン２
type = Explod
trigger1 = Time % 4 = 0 && Time < 30  
anim = 4056  
postype = p1
pos = -5, -50
velocity = 0, 0
accel = 0, 0
random = 20, 20
removetime = -2
ownpal = 1
sprpriority = 2
facing = -1

[State 112, line3];スピードライン３
type = Explod
trigger1 = Time % 4 = 0 && Time < 30  
anim = 4057  
postype = p1
pos = -5, -35
velocity = 0, 0
accel = 0, 0
random = 20, 20
removetime = -2
ownpal = 1
sprpriority = 2
facing = -1

[State 112, line4];スピードライン４
type = Explod
trigger1 = Time % 4 = 0 && Time < 30  
anim = 4058
postype = p1
pos = 10, -80
velocity = 0, 0
accel = 0, 0
random = 40, 15
removetime = -2
ownpal = 1
facing = -1

[State 112, e1]
type = ChangeState
triggerall = var(6) = 0
trigger1 = time > 7
trigger1 = command != "holdfwd" || time = 25
value = 113

[State 112, e2]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 106

;============================================================
;空中バックダッシュ中
;============================================================
[Statedef 113]
type    = A
physics = A
anim = 113+(var(1)*(10000))
hitcountpersist = 1

[state 113, pos]
type = VelAdd
trigger1 = Time = 0
y = -0.08

;============================================================
;ガード開始
;============================================================
[Statedef 120]
type = U    ;Leave state type unchanged
physics = U ;Leave physics unchanged
hitcountpersist = 1

[State 120, 1]
type = ChangeAnim
trigger1 = Time = 0
value = 120+(var(1)*(10000)) + (statetype = C) + (statetype = A)*2

[State 120, 2]
type = StateTypeSet
trigger1 = Time = 0 && statetype = S
physics = S

[State 120, 3]
type = StateTypeSet
trigger1 = Time = 0 && statetype = C
physics = C

[State 120, 4]
type = StateTypeSet
trigger1 = Time = 0 && statetype = A
physics = A

[State 120, Hi to Lo]
type = StateTypeSet
triggerall = statetype = S
triggerall = var(59) <= 0 
trigger1 = command = "holddown"
statetype = C
physics = C

[State 120, Lo to Hi]
type = StateTypeSet
triggerall = statetype = C
triggerall = var(59) <= 0 
trigger1 = command != "holddown"
statetype = S
physics = S

[State 120, AI]	
Type = StateTypeSet
TriggerAll = Var(59) > 0
TriggerAll = StateType = S
Trigger1 = EnemyNear(floor(fvar(31))),HitDefAttr = C,AA || EnemyNear(floor(fvar(31))),HitDefAttr = ,AP 
Trigger2 = EnemyNear(floor(fvar(31))),HitDefAttr = S,AA
Trigger2 = EnemyNear(floor(fvar(31))),Time < 23
StateType = C
Physics = C

[State 120, AI]	
Type = StateTypeSet
TriggerAll = Var(59) > 0
TriggerAll = StateType = C
Trigger1 = EnemyNear(floor(fvar(31))),HitDefAttr = A,AA
Trigger2 = EnemyNear(floor(fvar(31))),HitDefAttr = S,AA
Trigger2 = EnemyNear(floor(fvar(31))),Time >= 23
StateType = S
Physics = S

[State 120, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 130 + (statetype = C) + (statetype = A)*2

[State 120, Stop Guarding]
type = ChangeState
triggerall = var(59) <= 0 
trigger1 = command != "holdback"
trigger2 = !inguarddist
value = 140

[State 120, AI]
Type = ChangeState
TriggerAll = Var(59) > 0
Trigger1 = IfElse(Random<100*Var(59),(Enemy,NumProj = 0),1)
Trigger1 = !InGuardDist
Trigger1 = !(Facing*(EnemyNear(floor(fvar(31))),Facing)*P2Dist X >0 && (Abs(P2Dist X) <= 70) && P2MoveType=A)
Value = 140

;============================================================
;ガード
;============================================================
[Statedef 130]
type    = S
physics = S
hitcountpersist = 1

[State 130, 1]
type = ChangeAnim
trigger1 = Anim != 130+(var(1)*(10000))
value = 130+(var(1)*(10000))

[State 130, Hi to Lo]
type = ChangeState
triggerall = var(59) <= 0 
trigger1 = command = "holddown"
value = 131


[State 130, AI]			;少し細かい
Type = ChangeState
TriggerAll = Var(59) > 0
TriggerAll = StateType = S
TriggerAll = Time > 0
Trigger1 = EnemyNear(floor(fvar(31))),HitDefAttr = C,AA || EnemyNear(floor(fvar(31))),HitDefAttr = ,AP 
Trigger2 = EnemyNear(floor(fvar(31))),HitDefAttr = S,AA
Trigger2 = EnemyNear(floor(fvar(31))),Time < 23
Value = 131


[State 130, Stop Guarding]
type = ChangeState
triggerall = var(59) <= 0 
trigger1 = command != "holdback"
trigger2 = !inguarddist
value = 140

[State 120, AI]
Type = ChangeState
TriggerAll = Var(59) > 0
Trigger1 = IfElse(Random<100*Var(59),(Enemy,NumProj = 0),1)
Trigger1 = !InGuardDist
Trigger1 = !(Facing*(EnemyNear(floor(fvar(31))),Facing)*P2Dist X >0 && (Abs(P2Dist X) <= 70) && P2MoveType=A)
Value = 140

;============================================================
;しゃがみガード
;============================================================
[Statedef 131]
type    = C
physics = C
hitcountpersist = 1

[State 131, 1]
type = ChangeAnim
trigger1 = Anim != 131+(var(1)*(10000))
value = 131+(var(1)*(10000))

[State 131, Lo to Hi]
type = ChangeState
triggerall = var(59) <= 0 
trigger1 = command != "holddown"
value = 130


[State 130, AI]			
Type = ChangeState
TriggerAll = Var(59) > 0
TriggerAll = StateType = C
TriggerAll = Time > 0
Trigger1 = EnemyNear(floor(fvar(31))),HitDefAttr = A,AA
Trigger2 = EnemyNear(floor(fvar(31))),HitDefAttr = S,AA
Trigger2 = EnemyNear(floor(fvar(31))),Time >= 23
Value = 130

[State 131, Stop Guarding]
type = ChangeState
triggerall = var(59) <= 0 
trigger1 = command != "holdback"
trigger2 = !inguarddist
value = 140

[State 120, AI]
Type = ChangeState
TriggerAll = Var(59) > 0
Trigger1 = IfElse(Random<100*Var(59),(Enemy,NumProj = 0),1)
Trigger1 = !InGuardDist
Trigger1 = !(Facing*(EnemyNear(floor(fvar(31))),Facing)*P2Dist X >0 && (Abs(P2Dist X) <= 70) && P2MoveType=A)
Value = 140

;============================================================
;空中ガード
;============================================================
[Statedef 132]
type    = A
physics = N
hitcountpersist = 1

[State 132, 1]
type = ChangeAnim
trigger1 = Anim != 132+(var(1)*(10000))
value = 132+(var(1)*(10000))

[State 132, 2]
type = VelAdd
trigger1 = 1
y = Const(movement.yaccel)

[State 132, 3]
type = VarSet
trigger1 = 1
sysvar(0) = (pos y >= 0) && (vel y > 0)

[State 132, 4]
type = VelSet
trigger1 = sysvar(0)
y = 0

[State 132, 5]
type = PosSet
trigger1 = sysvar(0)
y = 0

[State 132, 6]
type = ChangeState
triggerall = var(59) <= 0 
trigger1 = sysvar(0)
trigger1 = command = "holdback"
trigger1 = inguarddist
value = 130

[State 132, 7]
type = ChangeState
trigger1 = sysvar(0)
value = 52

[State 132, Stop Guarding]
type = ChangeState
triggerall = var(59) <= 0 
trigger1 = command != "holdback"
trigger2 = !inguarddist
value = 140

[State 120, AI]
Type = ChangeState
TriggerAll = Var(59) > 0
Trigger1 = IfElse(Random<100*Var(59),(Enemy,NumProj = 0),1)
Trigger1 = !InGuardDist
Value = 140

;============================================================
;ガード終了
;============================================================
; GUARD (end)
[Statedef 140]
type = U    ;Leave state type unchanged
physics = U ;Leave physics unchanged
ctrl = 1
hitcountpersist = 1

[State 140, 1]
type = ChangeAnim
trigger1 = Time = 0
value = 140+(var(1)*(10000)) + (statetype = C) + (statetype = A)*2

[State 140, 2]
type = StateTypeSet
trigger1 = Time = 0 && statetype = S
physics = S

[State 140, 3]
type = StateTypeSet
trigger1 = Time = 0 && statetype = C
physics = C

[State 140, 4]
type = StateTypeSet
trigger1 = Time = 0 && statetype = A
physics = A

[State 120, AI]			;少し細かい
Type = StateTypeSet
TriggerAll = Var(59) > 0
TriggerAll = StateType = S
Trigger1 = EnemyNear(floor(fvar(31))),HitDefAttr = C,AA || EnemyNear(floor(fvar(31))),HitDefAttr = ,AP 
Trigger2 = EnemyNear(floor(fvar(31))),HitDefAttr = S,AA
Trigger2 = EnemyNear(floor(fvar(31))),Time < 23
StateType = C
Physics = C

[State 120, AI]			;少し細かい
Type = StateTypeSet
TriggerAll = Var(59) > 0
TriggerAll = StateType = C
Trigger1 = EnemyNear(floor(fvar(31))),HitDefAttr = A,AA
Trigger2 = EnemyNear(floor(fvar(31))),HitDefAttr = S,AA
Trigger2 = EnemyNear(floor(fvar(31))),Time >= 23
StateType = S
Physics = S

[State 140, Hi to Lo]
type = StateTypeSet
triggerall = var(59) <= 0 
trigger1 = statetype = S && command = "holddown"
statetype = C
physics = C

[State 140, Lo to Hi]
type = StateTypeSet
triggerall = var(59) <= 0 
trigger1 = statetype = C && command != "holddown"
statetype = S
physics = S

;[State 140, 5] ;Implemented within engine
;type = ChangeState
;trigger1 = AnimTime = 0
;value = (statetype = C)*11 + (statetype = A)*51

;============================================================
;立ちガード/HitShake硬直
;============================================================
[Statedef 150]
type    = S
movetype= H
physics = N
velset = 0,0
hitcountpersist = 1

[State 150, 1]
type = ChangeAnim
trigger1 = 1
value = 150+(var(1)*(10000))

[State 150, 2]
type = ChangeState
trigger1 = HitShakeOver
value = 151 + 2*(command = "holddown")

[State 120, AI]			;少し細かい
Type = StateTypeSet
TriggerAll = Var(59) > 0
TriggerAll = StateType = S
Trigger1 = EnemyNear(floor(fvar(31))),HitDefAttr = C,AA || EnemyNear(floor(fvar(31))),HitDefAttr = SCA,AP 
Trigger2 = EnemyNear(floor(fvar(31))),HitDefAttr = S,AA
Trigger2 = EnemyNear(floor(fvar(31))),Time < 23
StateType = C
Physics = C

[State 120, AI]			;少し細かい
Type = StateTypeSet
TriggerAll = Var(59) > 0
TriggerAll = StateType = C
Trigger1 = EnemyNear(floor(fvar(31))),HitDefAttr = A,AA
Trigger2 = EnemyNear(floor(fvar(31))),HitDefAttr = S,AA
Trigger2 = EnemyNear(floor(fvar(31))),Time >= 23
StateType = S
Physics = S

[State 150, Hi to Lo]
type = StateTypeSet
triggerall = var(59) <= 0 
trigger1 = statetype = S && command = "holddown"
statetype = C
physics = C

[State 150, Lo to Hi]
type = StateTypeSet
triggerall = var(59) <= 0 
trigger1 = statetype = C && command != "holddown"
statetype = S
physics = S

[State 150, 3]
type = ForceFeedback
trigger1 = time = 0
waveform = square
time = 3

;============================================================
;立ちガード/ノックバック
;============================================================
[Statedef 151]
type    = S
movetype= H
physics = S
anim = 150+(var(1)*(10000))
hitcountpersist = 1

[State 151, 1]
type = HitVelSet
trigger1 = Time = 0
x = 1

[State 151, 2]
type = VelSet
trigger1 = Time = GetHitVar(slidetime)
trigger2 = HitOver
x = 0

[State 151, 3]
type = CtrlSet
trigger1 = Time = GetHitVar(ctrltime)
value = 1

[State 120, AI]			;少し細かい
Type = StateTypeSet
TriggerAll = Var(59) > 0
TriggerAll = StateType = S
Trigger1 = EnemyNear(floor(fvar(31))),HitDefAttr = C,AA || EnemyNear(floor(fvar(31))),HitDefAttr = SCA,AP 
Trigger2 = EnemyNear(floor(fvar(31))),HitDefAttr = S,AA
Trigger2 = EnemyNear(floor(fvar(31))),Time < 23
StateType = C
Physics = C

[State 120, AI]			;少し細かい
Type = StateTypeSet
TriggerAll = Var(59) > 0
TriggerAll = StateType = C
Trigger1 = EnemyNear(floor(fvar(31))),HitDefAttr = A,AA
Trigger2 = EnemyNear(floor(fvar(31))),HitDefAttr = S,AA
Trigger2 = EnemyNear(floor(fvar(31))),Time >= 23
StateType = S
Physics = S

[State 151, Hi to Lo]
type = StateTypeSet
triggerall = var(59) <= 0 
trigger1 = statetype = S && command = "holddown"
statetype = C
physics = C

[State 151, Lo to Hi]
type = StateTypeSet
triggerall = var(59) <= 0 
trigger1 = statetype = C && command != "holddown"
statetype = S
physics = S

[State 151, 4]
type = ChangeState
trigger1 = HitOver
value = 130
ctrl = 1

;============================================================
;屈みガード/HitShake硬直
;============================================================
[Statedef 152]
type    = C
movetype= H
physics = N
velset = 0,0
hitcountpersist = 1

[State 152, 1]
type = ChangeAnim
trigger1 = 1
value = 151+(var(1)*(10000))

[State 152, 3]
type = ChangeState
trigger1 = HitShakeOver
value = 151 + 2*(command = "holddown")

[State 120, AI]		
Type = StateTypeSet
TriggerAll = Var(59) > 0
TriggerAll = StateType = S
Trigger1 = EnemyNear(floor(fvar(31))),HitDefAttr = C,AA || EnemyNear(floor(fvar(31))),HitDefAttr = SCA,AP 
Trigger2 = EnemyNear(floor(fvar(31))),HitDefAttr = S,AA
Trigger2 = EnemyNear(floor(fvar(31))),Time < 23
StateType = C
Physics = C

[State 120, AI]	
Type = StateTypeSet
TriggerAll = Var(59) > 0
TriggerAll = StateType = C
Trigger1 = EnemyNear(floor(fvar(31))),HitDefAttr = A,AA
Trigger2 = EnemyNear(floor(fvar(31))),HitDefAttr = S,AA
Trigger2 = EnemyNear(floor(fvar(31))),Time >= 23
StateType = S
Physics = S

[State 152, Hi to Lo]
type = StateTypeSet
triggerall = var(59) <= 0 
trigger1 = statetype = S && command = "holddown"
statetype = C
physics = C

[State 152, Lo to Hi]
type = StateTypeSet
triggerall = var(59) <= 0 
trigger1 = statetype = C && command != "holddown"
statetype = S
physics = S

[State 152, 4]
type = ForceFeedback
trigger1 = time = 0
waveform = square
time = 4

;============================================================
;屈みガード/ノックバック
;============================================================
[Statedef 153]
type    = C
movetype= H
physics = C
anim = 151+(var(1)*(10000))
hitcountpersist = 1

[State 153, 1]
type = HitVelSet
trigger1 = Time = 0
x = 1

[State 153, 2]
type = VelSet
trigger1 = Time = GetHitVar(slidetime)
trigger2 = HitOver
x = 0

[State 153, 3]
type = CtrlSet
trigger1 = Time = GetHitVar(ctrltime)
value = 1


[State 120, AI]	
Type = StateTypeSet
TriggerAll = Var(59) > 0
TriggerAll = StateType = S
Trigger1 = EnemyNear(floor(fvar(31))),HitDefAttr = C,AA || EnemyNear(floor(fvar(31))),HitDefAttr = SCA,AP 
Trigger2 = EnemyNear(floor(fvar(31))),HitDefAttr = S,AA
Trigger2 = EnemyNear(floor(fvar(31))),Time < 23
StateType = C
Physics = C

[State 120, AI]	
Type = StateTypeSet
TriggerAll = Var(59) > 0
TriggerAll = StateType = C
Trigger1 = EnemyNear(floor(fvar(31))),HitDefAttr = A,AA
Trigger2 = EnemyNear(floor(fvar(31))),HitDefAttr = S,AA
Trigger2 = EnemyNear(floor(fvar(31))),Time >= 23
StateType = S
Physics = S

[State 153, Hi to Lo]
type = StateTypeSet
triggerall = var(59) <= 0 
trigger1 = statetype = S && command = "holddown"
statetype = C
physics = C

[State 153, Lo to Hi]
type = StateTypeSet
triggerall = var(59) <= 0 
trigger1 = statetype = C && command != "holddown"
statetype = S
physics = S

[State 153, 4]
type = ChangeState
trigger1 = HitOver
value = 131
ctrl = 1

;============================================================
;空中ガード/HitShake硬直
;============================================================
[Statedef 154]
type    = A
movetype= H
physics = N
velset = 0,0
hitcountpersist = 1

[State 154, 1]
type = ChangeAnim
trigger1 = 1
value = 152+(var(1)*(10000))

[State 154, 2]
type = ChangeState
trigger1 = HitShakeOver
value = 155 ;AGUARDHIT2

[State 154, 3]
type = ForceFeedback
trigger1 = time = 0
waveform = square
time = 4

;============================================================
;空中ガード/ノックバック
;============================================================
[Statedef 155]
type    = A
movetype= H
physics = N
anim = 152+(var(1)*(10000))
hitcountpersist = 1

[State 155, 1]
type = HitVelSet
trigger1 = Time = 0
x = 1
y = 1

[State 155, 2]
type = VelAdd
trigger1 = 1
y = Const(movement.yaccel)

[State 155, 3]
type = CtrlSet
trigger1 = Time = GetHitVar(ctrltime)
value = 1

[State 155, 4]
type = VarSet
trigger1 = 1
sysvar(0) = (pos y >= 0) && (vel y > 0)

[State 155, 5]
type = VelSet
trigger1 = sysvar(0)
y = 0

[State 155, 6]
type = PosSet
trigger1 = sysvar(0)
y = 0

[State 155, 6]
type = ChangeState
trigger1 = sysvar(0)
trigger1 = command = "holdback"
trigger1 = inguarddist
value = 130

[State 155, 7]
type = ChangeState
trigger1 = sysvar(0)
value = 52

;============================================================
;タイムオーバー負け
;============================================================
[Statedef 170]
type = S
ctrl = 0
anim = 170+(var(1)*(10000))
velset = 0,0

[State 170, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1


;============================================================
;イントロ
;============================================================
[Statedef 190]
type = S

[State 930, dust]
type = Explod
trigger1 = !NumExplod(3574) 
anim = 3574
postype = p1
pos = 0,0
bindtime = -1
sprpriority = 2
ownpal = 1
ID = 3574

[state -2 , 特殊ゲージ・最大値]
type = VarSet
trigger1 = RoundState != 2
var(33) = 1000

[state -2 , 特殊ゲージ・最大値]
type = VarSet
trigger1 = RoundState != 2
var(34) = 1000

[state -2 , 特殊ゲージ・最大値]
type = VarSet
trigger1 = RoundState != 2
var(36) = 0

[State 190, var]
type = varrandom
trigger1 = time = 0
v = 2
range = 1

[State 190, e]
type = ChangeState
trigger1 = Time = 0
value = 192

;============================================================
;イントロ　通常
;============================================================
[Statedef 192]
type = S
ctrl = 0
anim = 192
velset = 0,0

[State 930, dust]
type = Explod
trigger1 = !NumExplod(3574) 
anim = 3574
postype = p1
pos = 0,0
bindtime = -1
sprpriority = 2
ownpal = 1
ID = 3574

[State 4500, 9]
type = Varset
trigger1 = 1
var(1) = var(48)

[State 190, e]
type = ChangeState
trigger1 = var(48) = 6
value = 60194

[State 190, e]
type = ChangeState
trigger1 = time = 0
trigger1 = Enemy,Name = "vegeta" || Enemy(1),Name = "vegeta" || Enemy,Name = "G-Vegeta" || Enemy(1),Name = "G-Vegeta"
trigger1 = Enemy,AuthorName = "バジル" || Enemy(1),AuthorName = "バジル"
value = 10214

[State 190, e]
type = ChangeState
trigger1 = time = 0
trigger1 = Enemy,Name = "Piccolo" || Enemy(1),Name = "Piccolo"
value = 10200

[State 190, e]
type = ChangeState
triggerall = time = 0
trigger1 = Enemy,Name = "vegeta" || Enemy(1),Name = "vegeta" || Enemy,Name = "G-Vegeta" || Enemy(1),Name = "G-Vegeta"
trigger2 = Enemy,Name = "Vegeta_Super4" || Enemy(1),Name = "Vegeta_Super4"
value = 10201

[State 190, e]
type = ChangeState
trigger1 = time = 0
trigger1 = Enemy,Name = "frieza" || Enemy(1),Name = "frieza"
value = 10202

[State 190, e]
type = ChangeState
trigger1 = time = 0
trigger1 = Enemy,Name = "cell" || Enemy(1),Name = "cell"
value = 10203

[State 190, e]
type = ChangeState
trigger1 = time = 0
trigger1 = Enemy,Name = "Majin Buu" || Enemy(1),Name = "Majin Buu" || Enemy,Name = "Buu" || Enemy(1),Name = "Buu"
value = 10204

[State 190, e]
type = ChangeState
trigger1 = time = 0
trigger1 = Enemy,Name = "Songohan" || Enemy,Name = "Son gohan" || Enemy,Name = "gohan" || Enemy,Name = "Ultimate Gohan" || Enemy(1),Name = "Songohan" || Enemy(1),Name = "Son gohan" ||  Enemy(1),Name = "gohan" || Enemy(1),Name = "Ultimate Gohan"
value = 10205

[State 190, e]
type = ChangeState
trigger1 = time = 0
trigger1 = Enemy,Name = "trunks" || Enemy(1),Name = "trunks"
value = 10206

[State 190, e]
type = ChangeState
trigger1 = time = 0
trigger1 = Enemy,Name = "krillin" || Enemy,Name = "Kuririn" || Enemy(1),Name = "krillin" || Enemy(1),Name = "Kuririn"
value = 10207

[State 190, e]
type = ChangeState
trigger1 = time = 0
trigger1 = Enemy,Name = "Gotenks" || Enemy(1),Name = "Gotenks" 
value = 10208

[State 190, e]
type = ChangeState
trigger1 = time = 0
trigger1 = Enemy,Name = "BARDOCK" || Enemy(1),Name = "BARDOCK" 
value = 10209

[State 190, e]
type = ChangeState
triggerall = time = 0
trigger1 = Enemy,Name = "Broly" || Enemy(1),Name = "Broly" || Enemy,Name = "[Necromancer's] Broli" || Enemy(1),Name = "[Necromancer's] Broli"
trigger2 = Enemy,Name = "Legendary Super Saiyan" || Enemy(1),Name = "Legendary Super Saiyan"
value = 10210

[State 190, e]
type = ChangeState
trigger1 = time = 0
trigger1 = Enemy,Name = "Goku Black" || Enemy(1),Name = "Goku Black"
value = 10211

[State 190, e]
type = ChangeState
trigger1 = time = 0
trigger1 = Enemy,Name = "BILLS" || Enemy(1),Name = "BILLS"
value = 10212

[State 190, e]
type = ChangeState
trigger1 = time = 0
trigger1 = Enemy,Name = "Future Gohan" || Enemy(1),Name = "Future Gohan"
value = 10213

[State 190, e]
type = ChangeState
triggerall = time = 0
trigger1 = Enemy,Name = "Raditz" || Enemy(1),Name = "Raditz"
trigger2 = Enemy,Name = "Nappa" || Enemy(1),Name = "Nappa"
trigger3 = Enemy,Name = "Ginyu" || Enemy(1),Name = "Ginyu"
value = 10216

[State 190, e]
type = ChangeState
triggerall = time = 0
trigger1 = Enemy,Name = "Super Vegetto" || Enemy(1),Name = "Super Vegetto"
trigger2 = Enemy,Name = "Super Gogeta" || Enemy(1),Name = "Super Gogeta"
trigger3 = Enemy,Name = "Super Gogeta4" || Enemy(1),Name = "Super Gogeta4"
trigger4 = Enemy,Name = "Super Vegetto4" || Enemy(1),Name = "Super Vegetto4"
value = 10217

[State 190, e]
type = ChangeState
triggerall = time = 0
trigger1 = Enemy,Name = "Songoku" || Enemy,Name = "Son Goku" || Enemy,Name = "Goku" || Enemy(1),Name = "Songoku" || Enemy(1),Name = "Son Goku" || Enemy(1),Name = "Goku"
trigger2 = Enemy,Name = "Goku_Super4" || Enemy(1),Name = "Goku_Super4"
value = 10218

[State 180, 1];未来ご飯
type = ChangeState
trigger1 = time = 0
trigger1 = Partner,Name = "Future Gohan"
trigger1 = Partner,AuthorName = "280gou"
trigger1 = numpartner > 0
value = 10215

[State 191, 1]
type = ChangeAnim
trigger1 = RoundState = 0
value = 192

[State 191, shake]
type = EnvShake
trigger1 = AnimElem = 2
time = 45
freq = 100
ampl = 3

[State 3200, dust]
type = Explod
trigger1 = AnimElem = 2
anim = 8103
ID = 8103
postype = p1
pos = 0,0
sprpriority = 3
supermovetime = 3
facing = -1
removetime=30

[State 260, voice]
type = PlaySnd
trigger1 = AnimElem = 2
value = 300,0

[State 260, voice]
type = PlaySnd
trigger1 = AnimElem = 2
value = 6001,7

[State 191, 2]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 191, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 193

;----------------------------しゃべる

[Statedef 193]
type = S
ctrl = 0
anim = 80198+(var(2))
velset = 0,0

[State 4500, 9]
type = Varset
trigger1 = 1
var(1) = var(48)

[State 190, e]
type = ChangeState
trigger1 = var(48) = 6
value = 60194

[State 260, voice]
type = PlaySnd
trigger1 = AnimElem = 1
value = 191,8+(var(2))

[State 191, 2]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 191, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 194+var(1)*(10000)

;============================================================
;ピッコロ
;============================================================
[Statedef 10200]
type = S
ctrl = 0
anim = 80200
velset = 0,0

[State 4500, 9]
type = Varset
trigger1 = 1
var(1) = var(48)

[State 190, e]
type = ChangeState
trigger1 = var(48) = 6
value = 60194

[State 191, 1]
type = ChangeAnim
trigger1 = RoundState = 0
value = 80200

[State 260, voice]
type = PlaySnd
trigger1 = AnimElem = 2
value = 191,10

[State 191, 2]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 191, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 194+var(1)*(10000)

;============================================================
;ベジータ
;============================================================
[Statedef 10201]
type = S
ctrl = 0
velset = 0,0

[State 4500, 9]
type = Varset
trigger1 = 1
var(1) = var(48)

[State 190, e]
type = ChangeState
trigger1 = var(48) = 6
value = 60194

[State 191, 1] ;Freeze animation until PreIntro is over
type = ChangeAnim
trigger1 = RoundState = 0
value = 80201

[State 191, 1] ;Freeze animation until PreIntro is over
type = ChangeAnim
trigger1 = AnimElem = 2
value = 80201
elem = 1

[State -2, 3]
type = ChangeAnim
triggerall = time > 1
triggerall = animelem = 1
trigger1 = p2stateno = 0 || enemy,anim = 0
trigger2 = time > 800
value = 80201
elem = 2
persistent = 0

[State 191, 1]
type = ChangeAnim
trigger1 = RoundState = 0
value = 80200

[State 260, voice]
type = PlaySnd
trigger1 = AnimElem = 2
value = 191,11

[State 191, 2]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 191, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 194+var(1)*(10000)

;============================================================
;フリーザ
;============================================================
[Statedef 10202]
type = S
ctrl = 0
anim = 80200
velset = 0,0

[State 4500, 9]
type = Varset
trigger1 = 1
var(1) = var(48)

[State 190, e]
type = ChangeState
trigger1 = var(48) = 6
value = 60194

[State 191, 1]
type = ChangeAnim
trigger1 = RoundState = 0
value = 80200

[State 260, voice]
type = PlaySnd
trigger1 = AnimElem = 2
value = 191,12

[State 191, 2]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 191, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 194+var(1)*(10000)

;============================================================
;セル
;============================================================
[Statedef 10203]
type = S
ctrl = 0
anim = 80202
velset = 0,0

[State 4500, 9]
type = Varset
trigger1 = 1
var(1) = var(48)

[State 190, e]
type = ChangeState
trigger1 = var(48) = 6
value = 60194

[State 191, 1]
type = ChangeAnim
trigger1 = RoundState = 0
value = 80202

[State 260, voice]
type = PlaySnd
trigger1 = AnimElem = 2
value = 191,13

[State 191, 2]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 191, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 194+var(1)*(10000)

;============================================================
;ブウ
;============================================================
[Statedef 10204]
type = S
ctrl = 0
anim = 80201
velset = 0,0

[State 4500, 9]
type = Varset
trigger1 = 1
var(1) = var(48)

[State 190, e]
type = ChangeState
trigger1 = var(48) = 6
value = 60194

[State 191, 1]
type = ChangeAnim
trigger1 = RoundState = 0
value = 80201

[State 260, voice]
type = PlaySnd
trigger1 = AnimElem = 2
value = 191,14

[State 191, 2]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 191, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 194+var(1)*(10000)

;============================================================
;悟飯
;============================================================
[Statedef 10205]
type = S
ctrl = 0
anim = 80203
velset = 0,0

[State 4500, 9]
type = Varset
trigger1 = 1
var(1) = var(48)

[State 190, e]
type = ChangeState
trigger1 = var(48) = 6
value = 60194

[State 191, 1]
type = ChangeAnim
trigger1 = RoundState = 0
value = 80203

[State 260, voice]
type = PlaySnd
trigger1 = AnimElem = 2
value = 191,15

[State 191, 2]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 191, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 194+var(1)*(10000)

;============================================================
;トランクス
;============================================================
[Statedef 10206]
type = S
ctrl = 0
anim = 80203
velset = 0,0

[State 4500, 9]
type = Varset
trigger1 = 1
var(1) = var(48)

[State 190, e]
type = ChangeState
trigger1 = var(48) = 6
value = 60194

[State 191, 1]
type = ChangeAnim
trigger1 = RoundState = 0
value = 80203

[State 260, voice]
type = PlaySnd
trigger1 = AnimElem = 2
value = 191,16

[State 191, 2]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 191, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 194+var(1)*(10000)

;============================================================
;クリリン
;============================================================
[Statedef 10207]
type = S
ctrl = 0
velset = 0,0

[State 4500, 9]
type = Varset
trigger1 = 1
var(1) = var(48)

[State 190, e]
type = ChangeState
trigger1 = var(48) = 6
value = 60194

[State 191, 1] ;Freeze animation until PreIntro is over
type = ChangeAnim
trigger1 = RoundState = 0
value = 80204

[State 191, 1] ;Freeze animation until PreIntro is over
type = ChangeAnim
trigger1 = AnimElem = 2
value = 80204
elem = 1

[State -2, 3]
type = ChangeAnim
triggerall = time > 1
triggerall = animelem = 1
trigger1 = p2stateno = 0 || enemy,anim = 0
trigger2 = time > 800
value = 80204
elem = 2
persistent = 0

[State 191, 1]
type = ChangeAnim
trigger1 = RoundState = 0
value = 80204

[State 260, voice]
type = PlaySnd
trigger1 = AnimElem = 2
value = 191,17

[State 191, 2]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 191, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 194+var(1)*(10000)

;============================================================
;ゴテンクス
;============================================================
[Statedef 10208]
type = S
ctrl = 0
anim = 80200
velset = 0,0

[State 4500, 9]
type = Varset
trigger1 = 1
var(1) = var(48)

[State 190, e]
type = ChangeState
trigger1 = var(48) = 6
value = 60194

[State 191, 1]
type = ChangeAnim
trigger1 = RoundState = 0
value = 80200

[State 260, voice]
type = PlaySnd
trigger1 = AnimElem = 2
value = 191,18

[State 191, 2]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 191, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 194+var(1)*(10000)

;============================================================
;バーダック
;============================================================
[Statedef 10209]
type = S
ctrl = 0
anim = 80205
velset = 0,0

[State 4500, 9]
type = Varset
trigger1 = 1
var(1) = var(48)

[State 190, e]
type = ChangeState
trigger1 = var(48) = 6
value = 60194

[State 191, 1]
type = ChangeAnim
trigger1 = RoundState = 0
value = 80205

[State 260, voice]
type = PlaySnd
trigger1 = AnimElem = 2
value = 191,19

[State 191, 2]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 191, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 194+var(1)*(10000)

;============================================================
;ブロリー
;============================================================
[Statedef 10210]
type = S
ctrl = 0
anim = 80204
velset = 0,0

[State 4500, 9]
type = Varset
trigger1 = 1
var(1) = var(48)

[State 190, e]
type = ChangeState
trigger1 = var(48) = 6
value = 60194

[State 191, 1]
type = ChangeAnim
trigger1 = RoundState = 0
value = 80204

[State 260, voice]
type = PlaySnd
trigger1 = AnimElem = 2
value = 191,20

[State 191, 2]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 191, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 194+var(1)*(10000)

;============================================================
;ゴクウブラック
;============================================================
[Statedef 10211]
type = S
ctrl = 0
anim = 80206
velset = 0,0

[State 4500, 9]
type = Varset
trigger1 = 1
var(1) = var(48)

[State 190, e]
type = ChangeState
trigger1 = var(48) = 6
value = 60194

[State 191, 1]
type = ChangeAnim
trigger1 = RoundState = 0
value = 80206

[State 260, voice]
type = PlaySnd
trigger1 = AnimElem = 2
value = 191,21

[State 191, 2]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 191, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 194+var(1)*(10000)

;============================================================
;ビルス
;============================================================
[Statedef 10212]
type = S
ctrl = 0
anim = 80206
velset = 0,0

[State 4500, 9]
type = Varset
trigger1 = 1
var(1) = var(48)

[State 190, e]
type = ChangeState
trigger1 = var(48) = 6
value = 60194

[State 191, 1]
type = ChangeAnim
trigger1 = RoundState = 0
value = 80206

[State 260, voice]
type = PlaySnd
trigger1 = AnimElem = 2
value = 191,22

[State 191, 2]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 191, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 194+var(1)*(10000)

;============================================================
;未来悟飯
;============================================================
[Statedef 10213]
type = S
ctrl = 0
velset = 0,0
anim = 80207

[State 4500, 9]
type = Varset
trigger1 = 1
var(1) = var(48)

[State 190, e]
type = ChangeState
trigger1 = var(48) = 6
value = 60194

[State 191, 1] ;Freeze animation until PreIntro is over
type = ChangeAnim
trigger1 = RoundState = 0
value = 80207

[State 191, 2] ;Assert this until you want "round 1, fight" to begin
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 3200, Aura0]
type = Explod
trigger1 = AnimElem = 4
trigger1 = var(1) <= 5
trigger1 = var(10) != 1
anim = 1930+(var(1)*(10))
sprpriority = -1
postype = p1
pos = 6,0
bindtime = -1
removetime = -1
removeongethit = 1
supermove = 1
scale = 1.3,1.1
id = 3000

[State 3200, Aura0]
type = Explod
trigger1 = AnimElem = 4
trigger1 = var(1) <= 4
trigger1 = var(10) != 1
anim = 1931+(var(1)*(10))
sprpriority = 7
postype = p1
pos = 6,0
bindtime = -1
removetime = -1
removeongethit = 1
supermove = 1
scale = 1.3,1.1
id = 3000

[State 3200, Aura0]
type = Explod
trigger1 = AnimElem = 4
trigger1 = var(1) = 5
trigger1 = var(10) != 1
anim = 1986
sprpriority = 7
postype = p1
pos = 6,0
bindtime = -1
removetime = -1
removeongethit = 1
supermove = 1
scale = 1.3,1.1
id = 3000

[State 3200, Aura0]
type = Explod
trigger1 = AnimElem = 4
trigger1 = var(1) >= 4
trigger1 = var(1) <= 5
trigger1 = var(10) != 1
anim = 1930+(var(1)*(10))
sprpriority = -1
postype = p1
pos = 6,0
bindtime = -1
removetime = -1
removeongethit = 1
supermove = 1
scale = 0.4,0.4
id = 3000

[State 3200, dust]
type = Explod
trigger1 = AnimElem = 3
trigger2 = AnimElem = 18
anim = 8103
postype = p1
pos = -20,3
bindtime = -1
sprpriority = 3+(var(10)*10)
supermovetime = -1
ownpal = 1
removeongethit = 1
facing = -1
id = 3000

[State 4500, dust]
type = explod
trigger1 = AnimElem = 4
trigger1 = var(1) = 5
trigger1 = var(10) = 1
anim = 1993
id = 3000
pos = 0,0
sprpriority = -1
bindtime = -1
ownpal = 1
removeongethit = 1
RemoveTime = -1
scale = 1.2,1.2
supermovetime = 1300
pausemovetime = 1300

[State 4500, dust]
type = explod
trigger1 = AnimElem = 4
trigger1 = var(1) = 5
trigger1 = var(10) = 1
anim = 1990
id = 3000
pos = 0,0
sprpriority = -2
bindtime = -1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
RemoveTime = -1
scale = 1.2,1.2
supermovetime = 1300
pausemovetime = 1300

[State 4500, dust]
type = explod
trigger1 = AnimElem = 4
trigger1 = var(1) = 5
trigger1 = var(10) = 1
anim = 1992
id = 3000
pos = 0,0
sprpriority = 20
bindtime = -1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
RemoveTime = -1
scale = 1.5,1.5
supermovetime = 1300
pausemovetime = 1300

[State 2200,カットイン]
type = Explod
trigger1 = AnimElem = 24
anim = 11997
pos = -30, -30
scale = 1.16,1.16
postype = back
bindtime = -1
removetime = -2
supermovetime = 120
pausemovetime = 120
sprpriority = 100;表示優先度
ownpal = 1
removeongethit = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = animelem = 24
id = 3000

[State 191, 4]
type = changeanim
trigger1 = animelem = 24
value = 80207
elem = 24+(var(1)*3)

[State 191, 3]
type = PlaySnd
trigger1 = time = 190
value = 191,23

[State 191, 3]
type = PlaySnd
trigger1 = animelem = 4
value = 8000,5

[State 191, 4]
type = ChangeState
trigger1 = Time >= 365
value = 0

;============================================================
;ベジータ（バジル氏）
;============================================================
[Statedef 10214]
type = S
ctrl = 0
velset = 0,0
anim = 80208

[State 4500, 9]
type = Varset
trigger1 = 1
var(1) = var(48)

[State 190, e]
type = ChangeState
trigger1 = var(48) = 6
value = 60194

[State 191, 1] ;Freeze animation until PreIntro is over
type = ChangeAnim
trigger1 = RoundState = 0
value = 80208

[State 191, 2] ;Assert this until you want "round 1, fight" to begin
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 3200, Aura0]
type = Explod
trigger1 = AnimElem = 4
trigger1 = var(1) <= 5
trigger1 = var(10) != 1
anim = 1930+(var(1)*(10))
sprpriority = -1
postype = p1
pos = 6,0
bindtime = -1
removetime = -1
removeongethit = 1
supermove = 1
scale = 1.3,1.1
id = 3000

[State 3200, Aura0]
type = Explod
trigger1 = AnimElem = 4
trigger1 = var(1) <= 4
trigger1 = var(10) != 1
anim = 1931+(var(1)*(10))
sprpriority = 7
postype = p1
pos = 6,0
bindtime = -1
removetime = -1
removeongethit = 1
supermove = 1
scale = 1.3,1.1
id = 3000

[State 3200, Aura0]
type = Explod
trigger1 = AnimElem = 4
trigger1 = var(1) = 5
trigger1 = var(10) != 1
anim = 1986
sprpriority = 7
postype = p1
pos = 6,0
bindtime = -1
removetime = -1
removeongethit = 1
supermove = 1
scale = 1.3,1.1
id = 3000

[State 3200, Aura0]
type = Explod
trigger1 = AnimElem = 4
trigger1 = var(1) >= 4
trigger1 = var(1) <= 5
trigger1 = var(10) != 1
anim = 1930+(var(1)*(10))
sprpriority = -1
postype = p1
pos = 6,0
bindtime = -1
removetime = -1
removeongethit = 1
supermove = 1
scale = 0.4,0.4
id = 3000

[State 3200, dust]
type = Explod
trigger1 = AnimElem = 3
trigger2 = AnimElem = 18
anim = 8103
postype = p1
pos = -20,3
bindtime = -1
sprpriority = 3+(var(10)*10)
supermovetime = -1
ownpal = 1
removeongethit = 1
facing = -1
id = 3000

[State 4500, dust]
type = explod
trigger1 = AnimElem = 4
trigger1 = var(1) = 5
trigger1 = var(10) = 1
anim = 1993
id = 3000
pos = 0,0
sprpriority = -1
bindtime = -1
ownpal = 1
removeongethit = 1
RemoveTime = -1
scale = 1.2,1.2
supermovetime = 1300
pausemovetime = 1300

[State 4500, dust]
type = explod
trigger1 = AnimElem = 4
trigger1 = var(1) = 5
trigger1 = var(10) = 1
anim = 1990
id = 3000
pos = 0,0
sprpriority = -2
bindtime = -1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
RemoveTime = -1
scale = 1.2,1.2
supermovetime = 1300
pausemovetime = 1300

[State 4500, dust]
type = explod
trigger1 = AnimElem = 4
trigger1 = var(1) = 5
trigger1 = var(10) = 1
anim = 1992
id = 3000
pos = 0,0
sprpriority = 20
bindtime = -1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
RemoveTime = -1
scale = 1.5,1.5
supermovetime = 1300
pausemovetime = 1300

[State 2200,カットイン]
type = Explod
trigger1 = AnimElem = 24
anim = 11997
pos = -30, -30
scale = 1.16,1.16
postype = back
bindtime = -1
removetime = -2
supermovetime = 120
pausemovetime = 120
sprpriority = 100;表示優先度
ownpal = 1
removeongethit = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = animelem = 24
id = 3000

[State 191, 4]
type = changeanim
trigger1 = animelem = 24
value = 80207
elem = 24+(var(1)*3)

[State 191, 3]
type = PlaySnd
trigger1 = time = 280
value = 191,24

[State 191, 3]
type = PlaySnd
trigger1 = animelem = 4
value = 8000,5

[State 191, 4]
type = ChangeState
trigger1 = Time >= 325
value = 0

;============================================================
;未来ご飯パートナー
;============================================================
[Statedef 10215]
type = S
ctrl = 0
anim = 80209
velset = 0,0

[State 4500, 9]
type = Varset
trigger1 = 1
var(1) = var(48)

[State 190, e]
type = ChangeState
trigger1 = var(48) = 6
value = 60194

[State 191, 1]
type = ChangeAnim
trigger1 = RoundState = 0
value = 80209

[State 260, voice]
type = PlaySnd
trigger1 = AnimElem = 2
value = 191,25

[State 191, 2]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 191, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 194+var(1)*(10000)

;============================================================
;ラディッツ/ナッパ/ギニュー
;============================================================
[Statedef 10216]
type = S
ctrl = 0
anim = 80204
velset = 0,0

[State 4500, 9]
type = Varset
trigger1 = 1
var(1) = var(48)

[State 190, e]
type = ChangeState
trigger1 = var(48) = 6
value = 60194

[State 191, 1]
type = ChangeAnim
trigger1 = RoundState = 0
value = 80200

[State 260, voice]
type = PlaySnd
trigger1 = AnimElem = 2
value = 191,26

[State 191, 2]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 191, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 194+var(1)*(10000)

;============================================================
;ベジット/ゴジータ
;============================================================
[Statedef 10217]
type = S
ctrl = 0
anim = 80204
velset = 0,0

[State 4500, 9]
type = Varset
trigger1 = 1
var(1) = var(48)

[State 190, e]
type = ChangeState
trigger1 = var(48) = 6
value = 60194

[State 191, 1]
type = ChangeAnim
trigger1 = RoundState = 0
value = 80200

[State 260, voice]
type = PlaySnd
trigger1 = AnimElem = 2
value = 191,27

[State 260, voice]
type = PlaySnd
trigger1 = AnimElem = 2
value = 191,27

[State 191, 2]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 191, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 194+var(1)*(10000)

;============================================================
;悟空
;============================================================
[Statedef 10218]
type = S
ctrl = 0
anim = 80210
velset = 0,0

[State 4500, 9]
type = Varset
trigger1 = 1
var(1) = var(48)

[State 190, e]
type = ChangeState
trigger1 = var(48) = 6
value = 60194

[State 191, 1]
type = ChangeAnim
trigger1 = RoundState = 0
value = 80210

[State 260, voice]
type = PlaySnd
trigger1 = AnimElem = 2
value = 191,28

[State 191, 2]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 191, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 194+var(1)*(10000)

;============================================================
;通常
;============================================================
[Statedef 194]
type = S
ctrl = 0
anim = 193
velset = 0,0

[State 191, 2]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 191, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;============================================================
;超サイヤ人
;============================================================
[Statedef 10194]
type    = S
physics = S
sprpriority = 0
ctrl = 0
anim = 5995

[State 191, 2]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 203, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 401,0

[State 203, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 6001,8

[state 4500, shake]
type = envshake
trigger1 = time%5 = 0
time = 5
freq = 65
ampl = -10

[State 4500, dust]
type = explod
removetime = 10
trigger1 = AnimElem = 4
anim = 1949
pos = 0,0
sprpriority = 5
bindtime = -1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
id = 1965
supermovetime = 120
pausemovetime = 120

[State 191, Effect]
type = Explod
ID = 6001
trigger1 = AnimElem = 4
anim = 1940
scale = 1.3,1.0
postype = p1
pos = 0,0
sprpriority = 4
;supermove = 1
ownpal = 1
bindtime = -1
removeongethit = 1
removetime = 5
supermovetime = 120
pausemovetime = 120

[State 191, Effect]
type = Explod
ID = 6002
trigger1 = AnimElem = 4
anim = 1941
scale = 1.3,1.0
postype = p1
pos = 0,0
sprpriority = -4
;supermove = 1
ownpal = 1
bindtime = -1
removeongethit = 1
removetime = 5
supermovetime = 120
pausemovetime = 120

[State 191, Effect]
type = Explod
ID = 6003
trigger1 = AnimElem = 4
anim = 1942
scale = 0.5,0.5
postype = p1
pos = 0,0
sprpriority = -4
;supermove = 1
supermovetime = 120
pausemovetime = 120

[State ,100]
type = BGPalFX
trigger1 = time = 0
time = 50
IgnoreHitPause = 1
mul = 100,100,100

[state 4500, shake]
type = envshake
trigger1 = time%5 = 0
time = 5
freq = 65
ampl = -2

[State 0, ステート変更] ;生存判定
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;============================================================
;超サイヤ人2
;============================================================
[Statedef 20194]
type    = S
physics = S
sprpriority = 0
ctrl = 0
poweradd = 0

[State 191, 2]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
value = 5996

[State 4500, dust]
type = explod
removetime = 30
trigger1 = AnimElem = 1
anim = 1949
pos = 0,0
sprpriority = 5
bindtime = -1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
id = 1965
supermovetime = 120
pausemovetime = 120

[State 4500, dust]
type = explod
triggerall = alive
trigger1 = AnimElem = 4
anim = 13610
pos = 0,-30
sprpriority = 5
bindtime = -1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
RemoveTime = -1
scale = 1.0,1.0
supermove = 1
id=10003

[State 4500, dust]
type = explod
triggerall = alive
trigger1 = AnimElem = 5
anim = 13610
pos = 0,0
sprpriority = 5
bindtime = -1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
RemoveTime = -1
scale = 1.0,0.8
supermove = 1
id=10003

[State 3200, NotHitBy]
type = NotHitBy
trigger1 = 1
time = 1
value = SCA   

[State 260, sound]
type = PlaySnd
trigger1 = AnimElem = 4
value = 6001,9

[State 260, sound]
type = PlaySnd
trigger1 = AnimElem = 1
value = 800,6

[State 3200, ]
type = EnvShake
trigger1 = time = 0
time = 12
freq = 130
ampl = 3

[State 3200, ]
type = EnvShake
trigger1 = animelem = 4
time = 15
freq = 130
ampl = 20

[State 2200,カットイン]
type = Explod
trigger1 = AnimElem = 4
anim = 11997
pos = -30, -30
scale = 1.16,1.16
postype = back
bindtime = -1
removetime = -2
supermovetime = 120
pausemovetime = 120
sprpriority = 100;表示優先度
ownpal = 1
removeongethit = 1

[State 4500, dust]
type = explod
removetime = 10
trigger1 = AnimElem = 4
anim = 1949
pos = 0,0
sprpriority = 5
bindtime = -1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
id = 1965
supermovetime = 120
pausemovetime = 120

[State 191, Effect]
type = Explod
ID = 6001
trigger1 = AnimElem = 4
anim = 1940
scale = 1.5,1.2
postype = p1
pos = 0,0
sprpriority = -4
;supermove = 1
ownpal = 1
bindtime = -1
removeongethit = 1
removetime = 18
supermovetime = 120
pausemovetime = 120

[State 191, Effect]
type = Explod
ID = 6002
trigger1 = AnimElem = 4
anim = 1941
scale = 1.5,1.2
postype = p1
pos = 0,0
sprpriority = -4
;supermove = 1
ownpal = 1
bindtime = -1
removeongethit = 1
removetime = 18
supermovetime = 120
pausemovetime = 120

[State 191, Effect]
type = Explod
ID = 6003
trigger1 = AnimElem = 4
anim = 1942
scale = 0.5,0.5
postype = p1
pos = 0,0
sprpriority = -4
;supermove = 1
supermovetime = 120
pausemovetime = 120

[State 3200, dust2];煙大
type = explod
trigger1 = AnimElem = 4
anim = 8103
pos = 22,5
sprpriority = 150
bindtime = 1
ownpal = 1
removeongethit = 1
facing = 1
removetime = 41
supermovetime = 41
pausemovetime = 41
scale = 1.5, 1.5

[State ,100]
type = BGPalFX
trigger1 = time = 0
time = 50
IgnoreHitPause = 1
mul = 100,100,100

[State 0, ステート変更] ;生存判定
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;============================================================
;超サイヤ人3
;============================================================
[Statedef 30194]
type    = S
physics = S
sprpriority = 0
ctrl = 0

[State 191, 2]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id=10003

[State -2, varset]
Type = varset
trigger1 = time = 0
var(14) = 1

[State 3200, NotHitBy]
type = NotHitBy
trigger1 = 1
time = 1
value = SCA   

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
value = 5997

[State 203, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 2100,5
Channel =9

[State 203, 1]
type = PlaySnd
trigger1 = AnimElem = 5
value = 6001,9

[State 203, 1]
type = PlaySnd
trigger1 = AnimElem = 5
value = 800,4

[State 203, 1]
type = null
trigger1 = AnimElem = 1
value = 800,3

[State 203, 1]
type = stopsnd
trigger1 = AnimElem = 5
Channel =9

[State 4500, dust]
type = explod
removetime = 35
trigger1 = AnimElem = 1
anim = 1949
pos = 0,0
sprpriority = 5
bindtime = -1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
id = 1965
supermovetime = 120
pausemovetime = 120

[State 191, Effect]
type = Explod
ID = 6001
trigger1 = AnimElem = 1
anim = 1940
scale = 1.3,1.0
postype = p1
pos = 0,0
sprpriority = -4
;supermove = 1
ownpal = 1
bindtime = -1
removeongethit = 1
removetime = 35
supermovetime = 120
pausemovetime = 120

[State 191, Effect]
type = Explod
ID = 6002
trigger1 = AnimElem = 1
anim = 1941
scale = 1.3,1.0
postype = p1
pos = 0,0
sprpriority = 4
;supermove = 1
ownpal = 1
bindtime = -1
removeongethit = 1
removetime = 50
supermovetime = 120
pausemovetime = 120

[State 4500, dust]
type = explod
triggerall = alive
trigger1 = time = 3
anim = 13610
pos = 0,-30
sprpriority = 5
bindtime = -1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
RemoveTime = -1
scale = 1.0,1.0
supermove = 1
id=10003

[State 4500, dust]
type = explod
triggerall = alive
trigger1 = AnimElem = 4
anim = 13610
pos = 0,0
sprpriority = 5
bindtime = -1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
RemoveTime = -1
scale = 1.0,0.8
supermove = 1
id=10003

[State 191, Effect]
type = Explod
ID = 6001
trigger1 = AnimElem = 4
anim = 1940
scale = 1.8,1.5
postype = p1
pos = 0,0
sprpriority = -4
;supermove = 1
ownpal = 1
bindtime = -1
removeongethit = 1
removetime = 53
supermovetime = 120
pausemovetime = 120

[State 191, Effect]
type = Explod
ID = 6002
trigger1 = AnimElem = 4
anim = 1941
scale = 1.8,1.5
postype = p1
pos = 0,0
sprpriority = 4
;supermove = 1
ownpal = 1
bindtime = -1
removeongethit = 1
removetime = 53
supermovetime = 120
pausemovetime = 120

[State 191, Effect]
type = Explod
ID = 6003
trigger1 = AnimElem = 4
anim = 1942
scale = 0.5,0.5
postype = p1
pos = 0,0
sprpriority = -4
;supermove = 1
supermovetime = 120
pausemovetime = 120

[State 2200,カットイン]
type = Explod
trigger1 = AnimElem = 5
anim = 11997
pos = -30, -30
scale = 1.16,1.16
postype = back
bindtime = -1
removetime = -2
supermovetime = 120
pausemovetime = 120
sprpriority = 100;表示優先度
ownpal = 1
removeongethit = 1

[State ,100]
type = BGPalFX
trigger1 = time = 0
time = 100
IgnoreHitPause = 1
mul = 100,100,100

[state 4500, shake]
type = envshake
trigger1 = time = 0
time = 35
freq = 65
ampl = -2

[State 3200, ]
type = EnvShake
trigger1 = animelem = 5
time = 20
freq = 130
ampl = 40

[State 3200, dust2];煙大
type = explod
trigger1 = AnimElem = 5
anim = 8103
pos = 22,5
sprpriority = 150
bindtime = 1
ownpal = 1
removeongethit = 1
facing = 1
removetime = 41
supermovetime = 41
pausemovetime = 41
scale = 1.5, 1.5

[State 0, ステート変更] ;生存判定
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;============================================================
;超サイヤ人ゴッド
;============================================================
[Statedef 40194]
type    = S
physics = S
sprpriority = 150
ctrl = 0

[State 191, 2]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State -2, varset]
Type = varset
trigger1 = time = 0
var(14) = 1

[State 3200, NotHitBy]
type = NotHitBy
trigger1 = 1
time = 1
value = SCA   

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
value = 5998

[State 203, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 2100,5
Channel =9

[State 203, 1]
type = PlaySnd
trigger1 = AnimElem = 5
value = 6001,9

[State 203, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 500,1

[State 203, 1]
type = stopsnd
trigger1 = AnimElem = 5
Channel =9

[State 4500, dust]
type = explod
trigger1 = AnimElem = 1
anim = 1977
pos = 0,0
sprpriority = -5
bindtime = -1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
facing = -1
scale = 0.45,0.45
supermovetime = 120
pausemovetime = 120
removetime = 40

[State 4500, dust]
type = explod
trigger1 = AnimElem = 5
anim = 1973
pos = 0,0
sprpriority = -5
bindtime = -1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
facing = -1
scale = 1,1
supermovetime = 80
pausemovetime = 80
removetime = 69

[State 2200,カットイン]
type = Explod
trigger1 = AnimElem = 5
anim = 11997
pos = -30, -30
scale = 1.16,1.16
postype = back
bindtime = -1
removetime = -2
supermovetime = 120
pausemovetime = 120
sprpriority = 100;表示優先度
ownpal = 1
removeongethit = 1

[State 4500, dust]
type = explod
trigger1 = AnimElem = 1
anim = 1974
pos = 0,0
sprpriority = 200
bindtime = -1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
facing = -1
scale = 1,1
supermovetime = 120
pausemovetime = 120
removetime = 100

[State ,100]
type = BGPalFX
trigger1 = time = 0
time = 100
IgnoreHitPause = 1
mul = 100,100,100

[state 4500, shake]
type = envshake
trigger1 = time = 0
time = 35
freq = 65
ampl = -2

[State 3200, ]
type = EnvShake
trigger1 = animelem = 5
time = 20
freq = 130
ampl = 30

[State 0, ステート変更] ;生存判定
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;============================================================
;超サイヤ人ブルー
;============================================================
[Statedef 50194]
type    = S
physics = S
sprpriority = 150
ctrl = 0

[State 191, 2]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State -2, varset]
Type = varset
trigger1 = time = 0
var(14) = 1

[State 3200, NotHitBy]
type = NotHitBy
trigger1 = 1
time = 1
value = SCA   

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
value = 5999

[State 203, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 2100,5
Channel =9

[State 203, 1]
type = PlaySnd
trigger1 = AnimElem = 6
value = 6001,9

[State 203, 1]
type = stopsnd
trigger1 = AnimElem = 6
Channel =9

[state 4500, shake]
type = envshake
trigger1 = time%5 = 0
time = 5
freq = 65
ampl = -10

[State 4500, dust]
type = explod
trigger1 = time = 0
anim = 1983
pos = 0,0
sprpriority = 5
bindtime = -1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
facing = -1
removetime = 70
supermovetime = 70
pausemovetime = 70

[State 4500, dust]
type = explod
trigger1 = AnimElem = 7
anim = 1982
pos = 0,0
sprpriority = -5
bindtime = -1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
facing = -1
supermovetime = 120
pausemovetime = 120

[State 4500, dust]
type = explod
trigger1 = AnimElem = 7
anim = 1981
pos = 0,0
sprpriority = 200
bindtime = -1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
facing = -1
scale = 0.3,0.3
supermovetime = 120
pausemovetime = 120
removetime = 50

[State 2200,カットイン]
type = Explod
trigger1 = AnimElem = 7
anim = 11998
pos = -30, -30
scale = 1.16,1.16
postype = back
bindtime = -1
removetime = -2
supermovetime = 120
pausemovetime = 120
sprpriority = 100;表示優先度
ownpal = 1
removeongethit = 1

[State 2200,カットイン]
type = Explod
trigger1 = AnimElem = 8
anim = 11997
pos = -30, -30
scale = 1.16,1.16
postype = back
bindtime = -1
removetime = -2
supermovetime = 120
pausemovetime = 120
sprpriority = 160;表示優先度
ownpal = 1
removeongethit = 1

[State 4500, 9]
type = Varset
trigger1 = time = 0
var(1) = 5

[State ,100]
type = BGPalFX
trigger1 = time = 0
time = 100
IgnoreHitPause = 1
mul = 100,100,100

[state 4500, shake]
type = envshake
trigger1 = time%5 = 0
time = 5
freq = 65
ampl = -2

[State 203, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 500,13

[State 0, ステート変更] ;生存判定
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;============================================================
;身勝手の極意兆
;============================================================
[Statedef 60194]
type = S
ctrl = 0
anim = 60181
velset = 0,0
sprpriority = 0

[State 4500, 9]
type = Varset
trigger1 = 1
var(1) = var(48)

[State 191, 1]
type = ChangeAnim
trigger1 = RoundState = 0
value = 60181

[State 191, 2]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
ID=250012

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 181, swing]
type = PlaySnd
trigger1 = AnimElem = 2
value = s4,1

[State 181, voice];『はぁ?』
type = PlaySnd
trigger1 = var(1) != 6
trigger1 = AnimElem = 4
value = s2001,0
volume = 10

[State 181, voice];『はぁ?』
type = PlaySnd
trigger1 = var(1) = 6
trigger1 = AnimElem = 5
value = s900,25
volume = 255
[State 181, voice];『はぁ?』
type = PlaySnd
trigger1 = var(1) = 6
trigger1 = AnimElem = 5
value = s900,25
volume = 255

[State 181, playsnd2];気
type = PlaySnd
trigger1 = AnimElem = 4
value = 2001,1

[State 181, playsnd3];ゴゴゴゴ
type = PlaySnd
trigger1 = AnimElem = 4
value = 2100,5
[State 181, playsnd3];ゴゴゴゴ
type = PlaySnd
trigger1 = time = 70
value = 2100,5

[State 181, playsnd4];気の音2
type = PlaySnd
trigger1 = animelem = 6
value = 2100, 3
loop = 1
pan = 1
volume = 0
channel = 21

[State 181, dust1]
type = Explod
trigger1 = AnimElem = 4
anim = 4025
ID = 4025
postype = p1
pos = -10,0
bindtime = 150
sprpriority = 5
supermovetime = 26
ownpal = 1
removeongethit = 1
facing = -1

[State 181, dust2]
type = explod
trigger1 = time = 71
anim = 4040
pos = 17,5
sprpriority = 2
bindtime = 150
ownpal = 1
removetime = 120
facing = -1

[State 2200,オーラ上];身勝手
type = Explod
trigger1 = AnimElem = 4
trigger1 = var(1) = 6
id = 3000
anim = 84041
pos = 0, 100
scale = 1.4,1.2
postype = P1
bindtime = -1
removetime = -1
removeongethit = 1
sprpriority = -1;表示優先度
ownpal = 1
removeongethit = 1
supermovetime = 1300
pausemovetime = 1300
[State 2200,オーラ上]
type = Explod
trigger1 = AnimElem = 4
trigger1 = var(1) = 6
id = 3000
anim = 8005
pos = 0, 0
scale = 1.4,1.2
postype = P1
bindtime = -1
removetime = -1
removeongethit = 1
sprpriority = 5;表示優先度
ownpal = 1
removeongethit = 1
supermovetime = 1300
pausemovetime = 1300

[State 181, shake]
type = EnvShake
trigger1 = AnimElem = 6
time = 120
freq = 100
ampl = 3

[State 0, StopSnd]
type = StopSnd
trigger1 = Time = 200
channel = 21

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = Time = 200
id = 3000

[State 0, ステート変更] ;生存判定
type = ChangeState
trigger1 = Time = 200
value = 60195

[Statedef 60195]
type    = S
physics = S
sprpriority = 0
ctrl = 0
anim = 84058

[State 191, 2]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 0, ステート変更] ;生存判定
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;============================================================
;勝利分岐
;============================================================
[Statedef 180]
type = S

[State 180, var];イントロ分岐
type = varrandom
trigger1 = time = 0
v = 2
range = 1

[State 180, e1];元気玉勝利
type = ChangeState
trigger1 = var(29) = 3
value = 10191

[State 180, e1];元気玉勝利
type = ChangeState
trigger1 = var(26) = 1
value = 189

[State 180, e1];元気玉勝利
type = ChangeState
trigger1 = var(31) = 1
value = 188

[State 180, e1];身勝手兆勝利
type = ChangeState
trigger1 = var(29) = 1
value = 187

[State 180, e1];身勝手勝利
type = ChangeState
trigger1 = var(29) = 2
value = 10180

[State 180, e1];ラウンド1勝利
type = ChangeState
trigger1 = Matchover != 1
trigger2 = var(1) >= 6
value = 181

[State 180, 1];変身解除
type = ChangeState
trigger1 = var(1) != 0
trigger1 = Time = 0
value = 182

[State 180, 1];通常
type = ChangeState
trigger1 = var(1) = 0
trigger1 = Time = 0
value = 183

;============================================================
;ラウンド1勝利
;============================================================
[Statedef 181]
type = S
ctrl = 0
anim = 181+(var(1)*(10000))
velset = 0,0

[State 0, VarSet]
type = VarSet
trigger1 = 1
var(29) = 0

[State 0, VarSet]
type = VarSet
trigger1 = 1
var(8) = 1

[State 0, VarSet]
type = VarSet
trigger1 = 1
var(28) = 1

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 181, swing]
type = PlaySnd
trigger1 = AnimElem = 2
value = s4,1

[State 181, voice];『はぁ〜』
type = PlaySnd
trigger1 = var(1) != 6
trigger1 = AnimElem = 4
value = s2001,0
volume = 10

[State 181, voice];『はぁ〜』
type = PlaySnd
trigger1 = var(1) = 6
trigger1 = AnimElem = 5
value = s900,25
volume = 255
[State 181, voice];『はぁ〜』
type = PlaySnd
trigger1 = var(1) = 6
trigger1 = AnimElem = 5
value = s900,25
volume = 255

[State 181, playsnd2];気
type = PlaySnd
trigger1 = AnimElem = 4
value = 2001,1

[State 181, playsnd3];ゴゴゴゴ
type = PlaySnd
trigger1 = AnimElem = 4
value = 2100,5
[State 181, playsnd3];ゴゴゴゴ
type = PlaySnd
trigger1 = time = 70
value = 2100,5
[State 181, playsnd3];ゴゴゴゴ
type = PlaySnd
trigger1 = time = 179
value = 2100,5

[State 181, playsnd4];気の音2
type = PlaySnd
trigger1 = animelem = 6
value = 2100, 3
loop = 1
pan = 1
volume = 0

[State -3, - Helper]
type = Helper
trigger1 = (NumHelper(44300) = 0)
trigger1 = AnimElem = 4
trigger1 = var(10) = 1
helpertype = Normal
id = 44300
postype = p1
facing = 0
stateno = 44300
pos = 0,0
helpertype = normal
keyctrl = 0
ownpal = 1
supermovetime = 1300
pausemovetime = 1300

[State 0, SprPriority]
type = SprPriority
trigger1 = var(10) = 1
value = 11

[State 181, aura]
type = explod
trigger1 = AnimElem = 4
trigger1 = var(10) != 1
trigger1 = var(1) <= 3
anim = 1930+(var(1)*(10))
pos = 4,-2
sprpriority = 0
bindtime = -1
removetime = -1
ownpal = 1
scale = ifelse(var(1)=3,1.3,1),ifelse(var(1)=3,1.1,1)

[State 181, aura]
type = explod
trigger1 = AnimElem = 4
trigger1 = var(10) != 1
trigger1 = var(1) <= 5
trigger1 = var(1) >= 4
anim = 1930+(var(1)*(10))
pos = 4,-2
sprpriority = 0
bindtime = -1
removetime = -1
ownpal = 1

[State 181, dust1]
type = Explod
trigger1 = AnimElem = 4
anim = 4025
ID = 4025
postype = p1
pos = -10,0
bindtime = -1
sprpriority = 5
supermovetime = 26
ownpal = 1
removeongethit = 1
facing = -1

[State 181, dust2]
type = explod
trigger1 = time = 71
anim = 4040
pos = 17,5
sprpriority = 2
bindtime = -1
ownpal = 1
removetime = -1
facing = -1

[State 4500, dust]
type = explod
removetime = -1
trigger1 = AnimElem = 4
trigger1 = var(1) = 0
trigger1 = var(10) != 1
anim = 1931
pos = 0,0
sprpriority = 5
bindtime = -1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
facing = -1

[State 4500, dust]
type = explod
removetime = -1
trigger1 = AnimElem = 4
trigger1 = var(1) != 0
trigger1 = var(1) <= 3
trigger1 = var(10) != 1
anim = 1941
pos = 0,0
sprpriority = 5
bindtime = -1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
facing = -1
scale = ifelse(var(1)=3,1.25,1),ifelse(var(1)=3,1.1,1)

[State 4500, dust]
type = explod
removetime = -1
trigger1 = AnimElem = 4
trigger1 = var(1) = 4
trigger1 = var(10) != 1
anim = 1971
pos = 0,0
sprpriority = 5
bindtime = -1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
facing = -1

[State 4500, dust]
type = explod
removetime = -1
trigger1 = AnimElem = 4
trigger1 = var(1) = 5
trigger1 = var(10) != 1
anim = 1981
pos = 0,0
sprpriority = 5
bindtime = -1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
facing = -1
scale = 0.25,0.25

[State 2200,オーラ上];身勝手
type = Explod
trigger1 = AnimElem = 4
trigger1 = var(1) = 6
id = 3000
anim = 84041
pos = 0, 100
scale = 1.4,1.2
postype = P1
bindtime = -1
removetime = -1
removeongethit = 1
sprpriority = -1;表示優先度
ownpal = 1
removeongethit = 1
supermovetime = 1300
pausemovetime = 1300
[State 2200,オーラ上]
type = Explod
trigger1 = AnimElem = 4
trigger1 = var(1) = 6
id = 3000
anim = 8005
pos = 0, 0
scale = 1.4,1.2
postype = P1
bindtime = -1
removetime = -1
removeongethit = 1
sprpriority = 5;表示優先度
ownpal = 1
removeongethit = 1
supermovetime = 1300
pausemovetime = 1300

[State 181, shake]
type = EnvShake
trigger1 = AnimElem = 6
time = 300
freq = 100
ampl = 3

[State 181, over?]
type = AssertSpecial
trigger1 = time < 250
flag = RoundNotOver

;============================================================
;変身解除
;============================================================
[Statedef 182]
type    = S
physics = S
sprpriority = 0
ctrl = 0

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 10003

[State 180, var];イントロ分岐
type = varset
trigger1 = AnimElem = 3
var(10) = 0

[State 0, StopSnd]
type = StopSnd
trigger1 = AnimElem = 3
channel = 17

[State 180, var];イントロ分岐
type = varset
trigger1 = time = 0
var(11) = var(1)

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
value = 196+var(11)*(10000)

[State 203, 1]
type = PlaySnd
trigger1 = AnimElem = 3
value = 13550,3

[State 191, Effect]
type = Explod
ID = 6001
trigger1 = AnimElem = 3
trigger1 = var(1) <= 3
anim = 1940
scale = 1.3,1.0
postype = p1
pos = 0,0
sprpriority = 4
;supermove = 1
ownpal = 1
bindtime = -1
removeongethit = 1
removetime = 5
supermovetime = 120
pausemovetime = 120

[State 191, Effect]
type = Explod
ID = 6002
trigger1 = AnimElem = 3
trigger1 = var(1) <= 3
anim = 1941
scale = 1.3,1.0
postype = p1
pos = 0,0
sprpriority = -4
;supermove = 1
ownpal = 1
bindtime = -1
removeongethit = 1
removetime = 5
supermovetime = 120
pausemovetime = 120

[State 191, Effect]
type = Explod
ID = 6003
trigger1 = AnimElem = 3
trigger1 = var(1) <= 3
anim = 1942
scale = 0.5,0.5
postype = p1
pos = 0,0
sprpriority = -4
;supermove = 1
supermovetime = 120
pausemovetime = 120

[State 191, Effect]
type = Explod
ID = 6001
trigger1 = AnimElem = 3
trigger1 = var(1) = 4
anim = 1970
scale = 1.3,1.0
postype = p1
pos = 0,0
sprpriority = -4
;supermove = 1
ownpal = 1
bindtime = -1
removeongethit = 1
removetime = 5
supermovetime = 120
pausemovetime = 120

[State 191, Effect]
type = Explod
ID = 6002
trigger1 = AnimElem = 3
trigger1 = var(1) = 4
anim = 1971
scale = 1.3,1.0
postype = p1
pos = 0,0
sprpriority = 4
;supermove = 1
ownpal = 1
bindtime = -1
removeongethit = 1
removetime = 5
supermovetime = 120
pausemovetime = 120

[State 191, Effect]
type = Explod
ID = 6003
trigger1 = AnimElem = 3
trigger1 = var(1) = 4
anim = 1972
scale = 0.5,0.5
postype = p1
pos = 0,0
sprpriority = -4
;supermove = 1
supermovetime = 120
pausemovetime = 120

[State 191, Effect]
type = Explod
ID = 6001
trigger1 = AnimElem = 3
trigger1 = var(1) = 5
anim = 1980
scale = 1.3,1.0
postype = p1
pos = 0,0
sprpriority = -4
;supermove = 1
ownpal = 1
bindtime = -1
removeongethit = 1
removetime = 5
supermovetime = 120
pausemovetime = 120

[State 191, Effect]
type = Explod
ID = 6002
trigger1 = AnimElem = 3
trigger1 = var(1) = 5
anim = 1981
scale = 1.3,1.0
postype = p1
pos = 0,0
sprpriority = 4
;supermove = 1
ownpal = 1
bindtime = -1
removeongethit = 1
removetime = 5
supermovetime = 120
pausemovetime = 120

[State 191, Effect]
type = Explod
ID = 6003
trigger1 = AnimElem = 3
trigger1 = var(1) = 5
anim = 1985
scale = 0.5,0.5
postype = p1
pos = 0,0
sprpriority = -4
;supermove = 1
supermovetime = 120
pausemovetime = 120

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 10003
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 10004

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = AnimElem = 3
id = 1993

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = AnimElem = 3
id = 1970

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = AnimElem = 3
id = 19073

[State 190, e];ピッコロ
type = ChangeState
trigger1 = AnimElem = 6
trigger1 = Enemy,Name = "Piccolo" || Enemy(1),Name = "Piccolo"
value = 10182

[State 190, e];ベジータ
type = ChangeState
triggerall = AnimElem = 6
trigger1 = Enemy,Name = "vegeta" || Enemy(1),Name = "vegeta" || Enemy,Name = "G-Vegeta" || Enemy(1),Name = "G-Vegeta"
trigger2 = Enemy,Name = "Vegeta_Super4" || Enemy(1),Name = "Vegeta_Super4"
value = 10183

[State 190, e];悟飯
type = ChangeState
trigger1 = AnimElem = 6
trigger1 = Enemy,Name = "Songohan" || Enemy,Name = "Son gohan" || Enemy,Name = "gohan" || Enemy,Name = "Ultimate Gohan" || Enemy(1),Name = "Songohan" || Enemy(1),Name = "Son gohan" ||  Enemy(1),Name = "gohan" || Enemy(1),Name = "Ultimate Gohan"
value = 10184

[State 190, e];トランクス
type = ChangeState
trigger1 = AnimElem = 6
trigger1 = Enemy,Name = "trunks" || Enemy(1),Name = "trunks"
value = 10185

[State 190, e];クリリン
type = ChangeState
trigger1 = AnimElem = 6
trigger1 = Enemy,Name = "krillin" || Enemy,Name = "Kuririn" || Enemy(1),Name = "krillin" || Enemy(1),Name = "Kuririn"
value = 10186

[State 190, e];ブロリー
type = ChangeState
triggerall = AnimElem = 6
trigger1 = Enemy,Name = "Broly" || Enemy(1),Name = "Broly" || Enemy,Name = "[Necromancer's] Broli" || Enemy(1),Name = "[Necromancer's] Broli"
trigger2 = Enemy,Name = "Legendary Super Saiyan" || Enemy(1),Name = "Legendary Super Saiyan"
value = 10187

[State 190, e];ビルス
type = ChangeState
trigger1 = AnimElem = 6
trigger1 = Enemy,Name = "BILLS" || Enemy(1),Name = "BILLS"
value = 10188

[State 190, e];ゴクウブラック/ラディッツ/ナッパ/ギニュー
type = ChangeState
triggerall = AnimElem = 6
trigger1 = Enemy,Name = "Goku Black" || Enemy(1),Name = "Goku Black"
trigger2 = Enemy,Name = "Raditz" || Enemy(1),Name = "Raditz"
trigger3 = Enemy,Name = "Nappa" || Enemy(1),Name = "Nappa"
trigger4 = Enemy,Name = "Ginyu" || Enemy(1),Name = "Ginyu"
value = 10192

[State 190, e];未来悟版
type = ChangeState
trigger1 = AnimElem = 6
trigger1 = Enemy,Name = "Future Gohan" || Enemy(1),Name = "Future Gohan"
value = 10189

[State 180, 1];未来ご飯
type = ChangeState
trigger1 = AnimElem = 6
trigger1 = Partner,Name = "Future Gohan"
trigger1 = Partner,AuthorName = "280gou"
trigger1 = Partner,alive
trigger1 = numpartner > 0
value = 10190

[State 180, 1];もっと修行したらまた戦おうな
type = ChangeState
triggerall = AnimElem = 6
trigger1 = var(2) = 2
trigger2 = Enemy,Name = "frieza" || Enemy(1),Name = "frieza"
trigger3 = Enemy,Name = "cell" || Enemy(1),Name = "cell"
trigger4 = Enemy,Name = "Majin Buu" || Enemy(1),Name = "Majin Buu" || Enemy,Name = "Buu" || Enemy(1),Name = "Buu"
trigger5 = Enemy,Name = "Super Vegetto" || Enemy(1),Name = "Super Vegetto"
trigger6 = Enemy,Name = "Super Gogeta" || Enemy(1),Name = "Super Gogeta"
trigger7 = Enemy,Name = "Super Gogeta4" || Enemy(1),Name = "Super Gogeta4"
trigger8 = Enemy,Name = "Super Vegetto4" || Enemy(1),Name = "Super Vegetto4"
trigger9 = Enemy,Name = "Songoku" || Enemy,Name = "Son Goku" || Enemy,Name = "Goku" || Enemy(1),Name = "Songoku" || Enemy(1),Name = "Son Goku" || Enemy(1),Name = "Goku"
trigger10 = Enemy,Name = "Goku_Super4" || Enemy(1),Name = "Goku_Super4"
value = 10181

[State 180, 1];またな
type = ChangeState
trigger1 = var(2) = 0
trigger1 = AnimElem = 6
value = 185

[State 180, 1];後で会おうな
type = ChangeState
trigger1 = var(2) = 1
trigger1 = AnimElem = 6
value = 186

;============================================================
;通常
;============================================================
[Statedef 183]
type = S
ctrl = 0
anim= 81182
velset = 0,0

[State 190, var]
type = varrandom
trigger1 = time = 0
v = 2
range = 2

[State 190, e];ピッコロ
type = ChangeState
trigger1 = Animtime = 0
trigger1 = Enemy,Name = "Piccolo" || Enemy(1),Name = "Piccolo"
value = 10182

[State 190, e];ベジータ
type = ChangeState
triggerall = Animtime = 0
trigger1 = Enemy,Name = "vegeta" || Enemy(1),Name = "vegeta" || Enemy,Name = "G-Vegeta" || Enemy(1),Name = "G-Vegeta"
trigger2 = Enemy,Name = "Vegeta_Super4" || Enemy(1),Name = "Vegeta_Super4"
value = 10183

[State 190, e];悟飯
type = ChangeState
trigger1 = Animtime = 0
trigger1 = Enemy,Name = "Songohan" || Enemy,Name = "Son gohan" || Enemy,Name = "gohan" || Enemy,Name = "Ultimate Gohan" || Enemy(1),Name = "Songohan" || Enemy(1),Name = "Son gohan" ||  Enemy(1),Name = "gohan" || Enemy(1),Name = "Ultimate Gohan"
value = 10184

[State 190, e];トランクス
type = ChangeState
trigger1 = Animtime = 0
trigger1 = Enemy,Name = "trunks" || Enemy(1),Name = "trunks"
value = 10185

[State 190, e];クリリン
type = ChangeState
trigger1 = Animtime = 0
trigger1 = Enemy,Name = "krillin" || Enemy,Name = "Kuririn" || Enemy(1),Name = "krillin" || Enemy(1),Name = "Kuririn"
value = 10186

[State 190, e];ブロリー
type = ChangeState
triggerall = Animtime = 0
trigger1 = Enemy,Name = "Broly" || Enemy(1),Name = "Broly" || Enemy,Name = "[Necromancer's] Broli" || Enemy(1),Name = "[Necromancer's] Broli"
trigger2 = Enemy,Name = "Legendary Super Saiyan" || Enemy(1),Name = "Legendary Super Saiyan"
value = 10187

[State 190, e];ビルス
type = ChangeState
trigger1 = Animtime = 0
trigger1 = Enemy,Name = "BILLS" || Enemy(1),Name = "BILLS"
value = 10188

[State 190, e];ゴクウブラック/ラディッツ/ナッパ/ギニュー
type = ChangeState
triggerall = Animtime = 0
trigger1 = Enemy,Name = "Goku Black" || Enemy(1),Name = "Goku Black"
trigger2 = Enemy,Name = "Raditz" || Enemy(1),Name = "Raditz"
trigger3 = Enemy,Name = "Nappa" || Enemy(1),Name = "Nappa"
trigger4 = Enemy,Name = "Ginyu" || Enemy(1),Name = "Ginyu"
value = 10192

[State 190, e];未来悟版
type = ChangeState
trigger1 = Animtime = 0
trigger1 = Enemy,Name = "Future Gohan" || Enemy(1),Name = "Future Gohan"
value = 10189

[State 180, 1];未来ご飯
type = ChangeState
trigger1 = Animtime = 0
trigger1 = Partner,Name = "Future Gohan"
trigger1 = Partner,AuthorName = "280gou"
trigger1 = Partner,alive
trigger1 = numpartner > 0
value = 10190

[State 180, 1];もっと修行したらまた戦おうな
type = ChangeState
triggerall = Animtime = 0
trigger1 = var(2) = 2
trigger2 = Enemy,Name = "frieza" || Enemy(1),Name = "frieza"
trigger3 = Enemy,Name = "cell" || Enemy(1),Name = "cell"
trigger4 = Enemy,Name = "Majin Buu" || Enemy(1),Name = "Majin Buu" || Enemy,Name = "Buu" || Enemy(1),Name = "Buu"
trigger5 = Enemy,Name = "Super Vegetto" || Enemy(1),Name = "Super Vegetto"
trigger6 = Enemy,Name = "Super Gogeta" || Enemy(1),Name = "Super Gogeta"
trigger7 = Enemy,Name = "Super Gogeta4" || Enemy(1),Name = "Super Gogeta4"
trigger8 = Enemy,Name = "Super Vegetto4" || Enemy(1),Name = "Super Vegetto4"
trigger9 = Enemy,Name = "Songoku" || Enemy,Name = "Son Goku" || Enemy,Name = "Goku" || Enemy(1),Name = "Songoku" || Enemy(1),Name = "Son Goku" || Enemy(1),Name = "Goku"
trigger10 = Enemy,Name = "Goku_Super4" || Enemy(1),Name = "Goku_Super4"
value = 10181

[State 180, 1];またな
type = ChangeState
trigger1 = var(2) = 0
trigger1 = Animtime = 0
value = 185

[State 180, 1];後で会おうな
type = ChangeState
trigger1 = var(2) = 1
trigger1 = Animtime = 0
value = 186

;============================================================
;瀕死
;============================================================
[Statedef 184]
type = S
ctrl = 0
anim= 81185
velset = 0,0

[State 191, 3]
type = PlaySnd
trigger1 = AnimElem = 2
value = 181,2

[State 191, 3]
type = PlaySnd
trigger1 = AnimElem = 31
value = 4,2;空振り中B

[State 191, 2]
type = AssertSpecial
trigger1 = Time = [0,480]
flag = roundnotover

;============================================================
;またな
;============================================================
[Statedef 185]
type = S
ctrl = 0
anim= 81183
velset = 0,0

[State 191, 3]
type = PlaySnd
trigger1 = AnimElem = 5
value = 181,0

[State 191, 2]
type = AssertSpecial
trigger1 = Time = [0,160]
flag = roundnotover

;============================================================
;後で会おうな
;============================================================
[Statedef 186]
type = S
ctrl = 0
anim= 81184
velset = 0,0

[State 191, 3]
type = PlaySnd
trigger1 = AnimElem = 9
value = 181,1

[State 260, voice]
type = PlaySnd
trigger1 = AnimElem = 17
value = 300,0

[State 191, 2]
type = AssertSpecial
trigger1 = Time = [0,240]
flag = roundnotover

;============================================================
;身勝手兆
;============================================================
[Statedef 187]
type = S
ctrl = 0
anim= 54012
velset = 0,0
sprpriority = 10

[State 4500, 9]
type = Varset
trigger1 = time = 0
var(29) = 0

[State 191, 2]
type = AssertSpecial
trigger1 = Time = [0,330]
flag = roundnotover

;============================================================
;元気玉
;============================================================
[Statedef 188]
type = S
ctrl = 0
anim= 100112
velset = 0,3
sprpriority = 10

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
trigger1 = fvar(3) = 1
value = 100117

[State 4500, 9]
type = Varset
trigger1 = time = 0
var(31) = 0

[State 195, snd]
type = PlaySnd
trigger1 = AnimElem = 1
value = 600,30

[State 260, end]
type = VelSet
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
y = 0

[State 0, VarSet]
type = VarSet
trigger1 = var(33) < 1000
var(11) = 1

[State 191, 2]
type = AssertSpecial
trigger1 = Time = [0,380]
flag = roundnotover

;============================================================
;龍拳
;============================================================
[Statedef 189]
type = S
ctrl = 0
anim= 660012
velset = 0,0
sprpriority = 10

[State 2200,カットイン]
type = Explod
trigger1 = time = 45
anim = 660015
pos = -100, 0
scale = 2,2
postype = back
bindtime = -1
removetime = -2
supermovetime = 120
pausemovetime = 120
sprpriority = 50;表示優先度
ownpal = 1
removeongethit = 1

[State 2200,カットイン]
type = Explod
trigger1 = time = 60
anim = 660015
pos = -100, 0
scale = 0.8,0.8
postype = back
bindtime = -1
removetime = -2
supermovetime = 120
pausemovetime = 120
sprpriority = 50;表示優先度
ownpal = 1
removeongethit = 1

[State 4500, 9]
type = Varset
trigger1 = time = 0
var(26) = 0

[State 191, 2]
type = AssertSpecial
trigger1 = Time = [0,315]
flag = roundnotover

;============================================================
;身勝手
;============================================================
[Statedef 10180]
type = S
ctrl = 0
anim = 94011
velset = 0,0
sprpriority = 0

[State 0, VarSet]
type = VarSet
trigger1 = 1
var(29) = 0

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 181, swing]
type = PlaySnd
trigger1 = AnimElem = 2
value = s4,1

[State 181, voice];『はぁ〜』
type = PlaySnd
trigger1 = var(1) != 6
trigger1 = AnimElem = 4
value = s2001,0
volume = 10

[State 181, voice];『はぁ〜』
type = PlaySnd
trigger1 = var(1) = 6
trigger1 = AnimElem = 5
value = s900,25
volume = 255
[State 181, voice];『はぁ〜』
type = PlaySnd
trigger1 = var(1) = 6
trigger1 = AnimElem = 5
value = s900,25
volume = 255

[State 181, playsnd2];気
type = PlaySnd
trigger1 = AnimElem = 5
value = 2001,1

[State 181, playsnd3];ゴゴゴゴ
type = PlaySnd
trigger1 = AnimElem = 5
value = 2100,5
[State 181, playsnd3];ゴゴゴゴ
type = PlaySnd
trigger1 = time = 90
value = 2100,5
[State 181, playsnd3];ゴゴゴゴ
type = PlaySnd
trigger1 = time = 179
value = 2100,5
[State 181, playsnd3];ゴゴゴゴ
type = PlaySnd
trigger1 = time = 239
value = 2100,5
[State 181, playsnd3];ゴゴゴゴ
type = PlaySnd
trigger1 = time = 299
trigger2 = time = 350
trigger3 = time = 400
trigger4 = time = 450
value = 2100,5

[State 181, playsnd4];気の音2
type = PlaySnd
trigger1 = animelem = 6
value = 2100, 3
loop = 1
pan = 1
volume = 0

[State -3, - Helper]
type = Helper
trigger1 = (NumHelper(44300) = 0)
trigger1 = AnimElem = 4
trigger1 = var(10) = 1
helpertype = Normal
id = 44300
postype = p1
facing = 0
stateno = 44300
pos = 0,0
helpertype = normal
keyctrl = 0
ownpal = 1
supermovetime = 1300
pausemovetime = 1300

[State 0, SprPriority]
type = SprPriority
trigger1 = var(10) = 1
value = 11

[State 181, aura]
type = explod
trigger1 = AnimElem = 4
trigger1 = var(10) != 1
trigger1 = var(1) != 6
anim = 1930+(var(1)*(10))
pos = 4,-2
sprpriority = 0
bindtime = -1
removetime = -1
ownpal = 1
scale = ifelse(var(1)=3,1.3,1),ifelse(var(1)=3,1.1,1)

[State 181, dust1]
type = Explod
trigger1 = AnimElem = 5
anim = 4025
ID = 4025
postype = p1
pos = -10,0
bindtime = -1
sprpriority = 5
supermovetime = 26
ownpal = 1
removeongethit = 1
facing = -1

[State 4500, dust]
type = explod
removetime = -1
trigger1 = AnimElem = 4
trigger1 = var(1) = 0
trigger1 = var(10) != 1
anim = 1931
pos = 0,0
sprpriority = 5
bindtime = -1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
facing = -1

[State 4500, dust]
type = explod
removetime = -1
trigger1 = AnimElem = 4
trigger1 = var(1) != 0
trigger1 = var(1) <= 3
trigger1 = var(10) != 1
anim = 1941
pos = 0,0
sprpriority = 5
bindtime = -1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
facing = -1
scale = ifelse(var(1)=3,1.25,1),ifelse(var(1)=3,1.1,1)

[State 4500, dust]
type = explod
removetime = -1
trigger1 = AnimElem = 4
trigger1 = var(1) = 4
trigger1 = var(10) != 1
anim = 1971
pos = 0,0
sprpriority = 5
bindtime = -1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
facing = -1

[State 4500, dust]
type = explod
removetime = -1
trigger1 = AnimElem = 4
trigger1 = var(1) = 5
trigger1 = var(10) != 1
anim = 1981
pos = 0,0
sprpriority = 5
bindtime = -1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
facing = -1
scale = 0.25,0.25

[State 2200,オーラ上];身勝手
type = Explod
trigger1 = AnimElem = 5
trigger1 = var(1) = 6
id = 3000
anim = 84041
pos = 0, 100
scale = 1.4,1.2
postype = P1
bindtime = -1
removetime = -1
removeongethit = 1
sprpriority = -1;表示優先度
ownpal = 1
removeongethit = 1
supermovetime = 1300
pausemovetime = 1300
[State 2200,オーラ上]
type = Explod
trigger1 = AnimElem = 5
trigger1 = var(1) = 6
id = 3000
anim = 8005
pos = 0, 0
scale = 1.4,1.2
postype = P1
bindtime = -1
removetime = -1
removeongethit = 1
sprpriority = 5;表示優先度
ownpal = 1
removeongethit = 1
supermovetime = 1300
pausemovetime = 1300

[State 181, shake]
type = EnvShake
trigger1 = AnimElem = 5
time = 500
freq = 100
ampl = 3

[State 181, over?]
type = AssertSpecial
trigger1 = time < 510
flag = RoundNotOver

;============================================================
;もっと修行したらまた戦おうな
;============================================================
[Statedef 10181]
type = S
ctrl = 0
anim= 81186
velset = 0,0

[State 191, 3]
type = PlaySnd
trigger1 = AnimElem = 9
value = 181,2

[State 191, 3]
type = PlaySnd
trigger1 = AnimElem = 9
value = 181,2

[State 191, 2]
type = AssertSpecial
trigger1 = Time = [0,340]
flag = roundnotover

;============================================================
;ピッコロ
;============================================================
[Statedef 10182]
type = S
ctrl = 0
anim= 81186
velset = 0,0

[State 191, 3]
type = PlaySnd
trigger1 = AnimElem = 9
value = 181,4

[State 191, 2]
type = AssertSpecial
trigger1 = Time = [0,320]
flag = roundnotover

;============================================================
;ベジータ
;============================================================
[Statedef 10183]
type = S
ctrl = 0
anim= 81187
velset = 0,0

[State 191, 3]
type = PlaySnd
trigger1 = AnimElem = 6
value = 181,5

[State 191, 3]
type = PlaySnd
trigger1 = AnimElem = 6
value = 4,0

[State 191, 2]
type = AssertSpecial
trigger1 = Time = [0,300]
flag = roundnotover

;============================================================
;悟飯
;============================================================
[Statedef 10184]
type = S
ctrl = 0
anim= 81187
velset = 0,0

[State 191, 3]
type = PlaySnd
trigger1 = AnimElem = 6
value = 181,6

[State 191, 3]
type = PlaySnd
trigger1 = AnimElem = 6
value = 4,0

[State 191, 2]
type = AssertSpecial
trigger1 = Time = [0,350]
flag = roundnotover

;============================================================
;トランクス
;============================================================
[Statedef 10185]
type = S
ctrl = 0
ctrl = 0
anim= 81186
velset = 0,0

[State 191, 3]
type = PlaySnd
trigger1 = AnimElem = 9
value = 181,7

[State 191, 2]
type = AssertSpecial
trigger1 = Time = [0,340]
flag = roundnotover

;============================================================
;クリリン
;============================================================
[Statedef 10186]
type = S
ctrl = 0
anim= 81187
velset = 0,0

[State 191, 3]
type = PlaySnd
trigger1 = AnimElem = 6
value = 181,8

[State 191, 3]
type = PlaySnd
trigger1 = AnimElem = 6
value = 4,0

[State 191, 2]
type = AssertSpecial
trigger1 = Time = [0,350]
flag = roundnotover

;============================================================
;ブロリー
;============================================================
[Statedef 10187]
type = S
ctrl = 0
anim= 81187
velset = 0,0

[State 191, 3]
type = PlaySnd
trigger1 = AnimElem = 6
value = 181,9

[State 191, 3]
type = PlaySnd
trigger1 = AnimElem = 6
value = 4,0

[State 191, 2]
type = AssertSpecial
trigger1 = Time = [0,350]
flag = roundnotover

;============================================================
;ビルス
;============================================================
[Statedef 10188]
type = S
ctrl = 0
anim= 81186
velset = 0,0

[State 191, 3]
type = PlaySnd
trigger1 = AnimElem = 9
value = 181,10

[State 191, 2]
type = AssertSpecial
trigger1 = Time = [0,400]
flag = roundnotover

;============================================================
;未来悟版
;============================================================
[Statedef 10189]
type = S
ctrl = 0
anim= 81187
velset = 0,0

[State 191, 3]
type = PlaySnd
trigger1 = AnimElem = 6
value = 181,11

[State 191, 3]
type = PlaySnd
trigger1 = AnimElem = 6
value = 4,0

[State 191, 2]
type = AssertSpecial
trigger1 = Time = [0,350]
flag = roundnotover

;============================================================
;未来ご飯パートナー
;============================================================
[Statedef 10190]
type = S
ctrl = 0
anim= 81186
velset = 0,0

[State 191, 3]
type = PlaySnd
trigger1 = AnimElem = 1
value = 181,3

[State 191, 2]
type = AssertSpecial
trigger1 = Time = [0,240]
flag = roundnotover

;============================================================
;身勝手兆
;============================================================
[Statedef 10191]
type = S
ctrl = 0
anim= 84012
velset = 0,0
SprPriority = 0

[State 0, VarSet]
type = VarSet
trigger1 = 1
var(3) = 0

[State 0, VelSet]
type = Velset
trigger1 = time >= 20
x = 0
y = 7

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,0

[State 191, 2]
type = AssertSpecial
trigger1 = Time = [0,500]
flag = roundnotover

[State 0, VelSet]
type = Velset
trigger1 = pos Y >= 0
x = 0
y = 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = pos Y >= 0
value = 47+(var(1)*(10000))

[State 52, Landing Sound]
type = PlaySnd
trigger1 = time = 26
value = 0, 2; 着地音

[State 195, 3]
type = ChangeState
trigger1 = anim = 47+(var(1)*(10000))
trigger1 = time > 36
value = 181

;============================================================
;ゴクウブラック
;============================================================
[Statedef 10192]
type = S
ctrl = 0
anim= 81187
velset = 0,0

[State 191, 3]
type = PlaySnd
trigger1 = AnimElem = 6
value = 181,12

[State 191, 3]
type = PlaySnd
trigger1 = AnimElem = 6
value = 4,0

[State 191, 2]
type = AssertSpecial
trigger1 = Time = [0,350]
flag = roundnotover

;============================================================
;挑発
;============================================================
[Statedef 195]
type = S
movetype = I
physics = S
anim = 195+(var(1)*(10000))
ctrl = 0
hitcountpersist = 1

[State 195, snd]
type = PlaySnd
trigger1 = var(1) < 6
trigger1 = AnimElem = 3
value = 195,0

[State 195, snd]
type = PlaySnd
trigger1 = var(1) = 6
trigger1 = AnimElem = 1
value = 900,26

[State 195, 3]
type = null
trigger1 = command = "hold_s"
trigger1 = var(1) = 0
value = 100000

[State 195, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;============================================================
;高速移動（前方）
;============================================================
[Statedef 361]
type = S
physics = S
anim = 361+(var(1)*(10000))
sprpriority = -1
poweradd = 0
velset = 0,0
ctrl = 0
hitcountpersist = 1

[State 361, push]
type = PlayerPush
trigger1 = 1
value = 0

[State 361, snd]
type = PlaySnd
trigger1 = AnimElem = 2
value = 8,1

[State 361, hit]
type = HitBy
trigger1 = var(39) < 4 
value2 =  , AT

[State 361, nothit]
type = NotHitBy
trigger1 = var(39) < 4 
value2 = , AP

[State 361, nothit]
type = NotHitBy
trigger1 = var(39) < 4 
trigger1 = time <25
value2 = , AA

[State 3200, NotHitBy]
type = NotHitBy
trigger1 = var(39) >= 4 
time = 1
value2 = SCA

[State 361, 51]
type = EnvColor
trigger1 = animelem = 1
trigger1 = prevstateno = 150 || prevstateno = 151
value = 200,200,200
time = 3

[State 361, 1]
type = velset
trigger1 = Time = [10,25]
x = 5

[state 361, 1]
type = explod
trigger1 = animelem = 1
postype = p1
bindtime = 1
removetime = 8
removeongethit = 1
pos = 0,0
anim = 362
sprpriority = 3

[state 361, 1]
type = explod
trigger1 = time = 20
postype = p1
bindtime = 1
removetime = 8
removeongethit = 1
pos = 30,0
anim = 362
sprpriority = 3

[State 361, dust]
type = Explod
trigger1 = AnimElem = 1
anim = 4010; 土煙小
ID = 100
postype = p1
pos = -10,0
bindtime = 1
sprpriority = 2
ownpal = 1
scale = .7, .7

[State 361, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;============================================================
;高速移動（後方）
;============================================================
[Statedef 360]
type = S
physics = S
anim = 360+(var(1)*(10000))
poweradd = 0
sprpriority = -1
velset = 0,0
ctrl = 0
hitcountpersist = 1

[State 360, push]
type = PlayerPush
trigger1 = 1
value = 0

[State 361, hit]
type = HitBy
trigger1 = var(39) < 4 
value2 =  , AT

[State 361, nothit]
type = NotHitBy
trigger1 = var(39) < 4 
value2 = , AP

[State 361, nothit]
type = NotHitBy
trigger1 = var(39) < 4 
trigger1 = time <25
value2 = , AA

[State 3200, NotHitBy]
type = NotHitBy
trigger1 = var(39) >= 4 
time = 1
value2 = SCA

[State 360, snd]
type = PlaySnd
trigger1 = AnimElem = 2
value = 8,1

[State 360, 51]
type = EnvColor
trigger1 = animelem = 1
trigger1 = prevstateno = 150 || prevstateno = 151
value = 200,200,200
time = 3

[State 360, 1]
type = velset
trigger1 = Time = [10,25]
x = -5

[state 360, 1]
type = explod
trigger1 = animelem = 1
postype = p1
bindtime = 1
removetime = 8
removeongethit = 1
pos = 0,0
anim = 362
sprpriority = 3

[state 360, 1]
type = explod
trigger1 = time = 20
postype = p1
bindtime = 1
removetime = 8
removeongethit = 1
pos = -40,0
anim = 362
sprpriority = 3

[State 360, dust]
type = Explod
trigger1 = AnimElem = 1
anim = 4010; 土煙小
ID = 100
postype = p1
pos = 30,0
bindtime = 1
sprpriority = 2
ownpal = 1
facing = -1
scale = .7, .7

[State 360, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;============================================================
;気力溜め
;============================================================
[Statedef 800]
type = S
physics = S
ctrl = 0 
velset = 0,0
sprpriority = 2
hitcountpersist = 1

[State 0, アニメ変更]
type = ChangeAnim
trigger1 = time = 0
value = 1900+(var(1)*(10000))

[State 4500, 1];気の音1
type = PlaySnd
trigger1 = time = 0
value = 4000, 1
volume = 255

[State 4500, 2];気の音2
type = PlaySnd
trigger1 = time = 10
value = 4000, 2
loop = 1
pan = 1
volume = 150
channel = 18

[State 4500, 3];『はぁ?』
type = PlaySnd
trigger1 = time = 0
value = 200, 15
channel = 2

[State 4500, 4]
type = poweradd
trigger1 = var(39) = 0
trigger1 = Time >= 0
value = 30

[State 4500, 5]
type = poweradd
trigger1 = var(39) = 1
trigger1 = Time >= 0
value = 40

[State 4500, 5]
type = poweradd
trigger1 = var(39) = 2
trigger1 = Time >= 0
value = 50

[State 4500, 5]
type = poweradd
trigger1 = var(39) = 3
trigger1 = Time >= 0
value = 60

[State 4500, 6]
type = poweradd
trigger1 = var(39) = 4
trigger1 = Time >= 0
value = 80

[State 4500, 7]
type = poweradd
trigger1 = var(39) = 5
trigger1 = Time >= 0
value = 100

[State 4500, 7]
type = poweradd
trigger1 = var(39) = 6
trigger1 = Time >= 0
value = 1000

[State 4500, charge]
type = Helper
trigger1 = Time = 0
trigger1 = var(1) <= 2
id = 802
name = "Charge"
pos = 6,0
postype = P1
stateno = 802
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1
size.xscale = 1
size.yscale = 1

[State 4500, charge]
type = Helper
trigger1 = Time = 0
trigger1 = var(1) = 3
id = 802
name = "Charge"
pos = 6,0
postype = P1
stateno = 802
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1
size.xscale = 1.5
size.yscale = 1.2

[State 4500, charge]
type = Helper
trigger1 = Time = 0
trigger1 = var(1) = 4
id = 802
name = "Charge"
pos = 6,0
postype = P1
stateno = 802
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1

[State 4500, charge]
type = Helper
trigger1 = Time = 0
trigger1 = var(1) = 5
id = 802
name = "Charge"
pos = 6,0
postype = P1
stateno = 802
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1

[State 4500, dust]
type = explod
removetime = -1
trigger1 = time = 0
trigger1 = stateno = 800 || stateno = 804
anim = 8106
pos = 17,5
sprpriority = 2
bindtime = -1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
id = 800
facing = -1

[State 4500, dust]
type = explod
removetime = -1
trigger1 = time = 10
trigger1 = stateno = 800 || stateno = 804
trigger1 = var(1) = 0
anim = 1931
pos = 0,0
sprpriority = 5
bindtime = -1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
id = 800
facing = -1

[State 4500, dust]
type = explod
removetime = -1
trigger1 = time = 10
trigger1 = stateno = 800 || stateno = 804
trigger1 = var(1) <= 2
trigger1 = var(1) != 0
anim = 1941
pos = 0,0
sprpriority = 5
bindtime = -1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
id = 800
facing = -1

[State 4500, dust]
type = explod
removetime = -1
trigger1 = time = 10
trigger1 = stateno = 800 || stateno = 804
trigger1 = var(1) = 3
anim = 1941
pos = 0,0
sprpriority = 5
bindtime = -1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
id = 800
facing = -1
scale = 1.25,1.1

[State 4500, dust]
type = explod
removetime = -1
trigger1 = time = 0
trigger1 = stateno = 800 || stateno = 804
trigger1 = var(1) = 4
anim = 1971
pos = 0,0
sprpriority = 5
bindtime = -1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
id = 800
facing = -1

[State 4500, dust]
type = explod
removetime = -1
trigger1 = time = 0
trigger1 = stateno = 800 || stateno = 804
trigger1 = var(1) = 5
anim = 1981
pos = 0,0
sprpriority = 5
bindtime = -1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
id = 800
facing = -1
scale = 0.25,0.25

[State 2200,オーラ上];身勝手
type = Explod
trigger1 = time = 0
trigger1 = stateno = 800 || stateno = 804
trigger1 = var(1) = 6
id = 3000
anim = 84041
pos = 0, 100
scale = 1.4,1.2
postype = P1
bindtime = -1
removetime = -1
removeongethit = 1
sprpriority = -1;表示優先度
ownpal = 1
removeongethit = 1
supermovetime = 1300
pausemovetime = 1300
[State 2200,オーラ上]
type = Explod
trigger1 = time = 0
trigger1 = stateno = 800 || stateno = 804
trigger1 = var(1) = 6
id = 3000
anim = 8005
pos = 0, 0
scale = 1.4,1.2
postype = P1
bindtime = -1
removetime = -1
removeongethit = 1
sprpriority = 5;表示優先度
ownpal = 1
removeongethit = 1
supermovetime = 1300
pausemovetime = 1300
 

[state 4500, shake]
type = envshake
trigger1 = time%5 = 0
time = 5
freq = 60
ampl = -2

[State 4500, 9];MAX気の音
type = PlaySnd
trigger1 = power >= 7000
value = 4000, 1
pan = 1

[State 4500, 10]
type = ChangeState
trigger1 = var(59) <= 0
trigger1 = command != "hold_a" && command != "hold_x"
trigger2 = var(59) > 0
trigger2 = time > 300
value = 801

[State 4500, 10]
type = ChangeState
trigger1 = power >= 7000
value = 804

;--------------------------気溜めやめる
[Statedef 801]
type = S
physics = N
ctrl = 0
sprpriority = 2
hitcountpersist = 1

[State 0, アニメ変更]
type = ChangeAnim
trigger1 = time = 0
value = 1901+(var(1)*(10000))

[State 4501, StopSnd]
type = StopSnd
trigger1 = Time = 0
channel = 18

[State 4501, StopSnd]
type = StopSnd
trigger1 = Time = 0
channel = 2

[State 4501, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;--------------------------気溜めやめる
[Statedef 804]
type = S
physics = N
ctrl = 0
sprpriority = 2
hitcountpersist = 1

[State 0, アニメ変更]
type = ChangeAnim
trigger1 = time = 0
value = 1902+(var(1)*(10000))

[State 3200, ]
type = EnvShake
trigger1 = Time = 0
time = 20
freq = 130
ampl = 40

[State 4501, StopSnd]
type = StopSnd
trigger1 = Time = 0
channel = 18

[State 4501, StopSnd]
type = StopSnd
trigger1 = Time = 0
channel = 2

[State 4501, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;----------------------------------へるぱー
[Statedef 802]
type = A
movetype = I
physics = N
ctrl = 0
velset = 0,0
sprpriority = 1

[State 0, アニメ変更]
type = ChangeAnim
trigger1 = time = 0
value = 1930+(root,var(1)*(10))

[State 4502, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoShadow

[State 4502, BindToParent1]
type = BindToParent
trigger1 = anim = 1930+(root,var(1)*(10))
pos = 6,0

[State 4502, BindToParent2]
type = BindToParent
trigger1 = anim = 1931+(root,var(1)*(10))
pos = 4,3

[State 4502, Anim]
type = ChangeAnim
trigger1 = root,var(1)!=5
trigger1 = anim = 1930+(root,var(1)*(10))  && power >= 7000
value = 1932+(root,var(1)*(10))

[State 4502, Anim]
type = ChangeAnim
trigger1 = root,var(1)=5
trigger1 = anim = 1930+(root,var(1)*(10))  && power >= 7000
value = 1985

[State 4502, DestroySelf]
type = DestroySelf
trigger1 = anim = 1930+(root,var(1)*(10))  && (Root,StateNo != 800 && Root,StateNo != 801)
trigger2 = anim = 1931+(root,var(1)*(10))  && animtime = 0
trigger3 = anim = 1932+(root,var(1)*(10))  && animtime = 0
trigger4 = Root,stateno = [5000,5090]
trigger5 = anim = 1985  && animtime = 0


;---------------Special KO detect
[Statedef 999]
type = S
physics = S
anim = 999
poweradd = 0
sprpriority = -1
velset = 0,0
ctrl = 0
facep2 = 1

[State 999, change]
type = ChangeState
trigger1 = AnimTime = 0
value = 999

;---------------------------------------------------------
;ステート奪われた時のヘルパー
[Statedef 9001]

;地上やられ(倒れ2)
[state 9000,0]
type = changeanim
trigger1 = time = 0
trigger1 = Pos y >= 0
value = 5110+(parent,var(1)*10000)

;地上やられ(倒れ2)
[state 9000,0]
type = changeanim
trigger1 = time = 0
trigger1 = Pos y < 0
value = 5000+(parent,var(1)*10000)

[state 1000x,nohit];無敵設定
type = NotHitBy
trigger1 = 1
value = SCA, NA, SA, HA, NT, ST, HT ,NP, SP, HP
time = 1
ignorehitpause = 1

[state 9000,0]
type = posset
trigger1 = 1
x = root,pos x
y = root,pos y
ignorehitpause = 1

;相手が指定した必須アニメ
[state 9000,0]
type = changeanim
trigger1 = parent,anim = [5000,5300]
trigger2 = parent,anim = 195
trigger3 = parent,anim = [888,889]
trigger4 = parent,anim = 0
value = parent,anim+(parent,var(1)*10000)

;疲れ
[state 9000,0]
type = changeanim
triggerall = parent,anim = 5300
trigger1 = parent,fvar(21) >= 42
trigger2 = parent,fvar(21) = 0
value = 5300+(parent,var(1)*10000)

[state 9000,0]
type = changeanim
triggerall = parent,anim = 5300
trigger1 = parent,fvar(21) >= 7
trigger1 = parent,fvar(21) < 14
trigger2 = parent,fvar(21) >= 35
value = 7330+(parent,var(1)*10000)

[state 9000,0]
type = changeanim
triggerall = parent,anim = 5300
trigger1 = parent,fvar(21) >= 14
trigger1 = parent,fvar(21) < 21
trigger2 = parent,fvar(21) >= 28
trigger2 = parent,fvar(21) < 35
value = 7331+(parent,var(1)*10000)

[state 9000,0]
type = changeanim
triggerall = parent,anim = 5300
trigger1 = parent,fvar(21) >= 21
trigger1 = parent,fvar(21) < 28
value = 7332+(parent,var(1)*10000)

;起き上がり
[state 9000,0]
type = changeanim
triggerall = parent,anim = [5000,5300]
trigger1 = parent,fvar(22) < 4
trigger1 = parent,fvar(20) = 5120+(parent,var(1)*10000)
value = parent,anim+(parent,var(1)*10000)

[state 9000,0]
type = changeanim
triggerall = parent,anim = [5000,5300]
trigger1 = parent,fvar(22) >= 4
trigger1 = parent,fvar(22) < 8
trigger1 = parent,fvar(20) = 5120+(parent,var(1)*10000) || parent,fvar(20) = 7340+(parent,var(1)*10000)
value = 7340+(parent,var(1)*10000)

[state 9000,0]
type = changeanim
triggerall = parent,anim = [5000,5300]
trigger1 = parent,fvar(22) >= 8
trigger1 = parent,fvar(22) < 13
trigger1 = parent,fvar(20) = 7341+(parent,var(1)*10000) || parent,fvar(20) = 7340+(parent,var(1)*10000)
value = 7341+(parent,var(1)*10000)

[state 9000,0]
type = changeanim
triggerall = parent,anim = [5000,5300]
trigger1 = parent,fvar(22) >= 13
trigger1 = parent,fvar(22) < 18
trigger1 = parent,fvar(20) = 7341+(parent,var(1)*10000) || parent,fvar(20) = 7342+(parent,var(1)*10000)
value = 7342+(parent,var(1)*10000)

;相手が指定したアニメが必須アニメ以外

;地上やられ
[state 9000,0]
type = changeanim
trigger1 = parent,anim != [5000,5300]
trigger1 = parent,anim != 195
trigger1 = parent,anim != [888,889]
trigger1 = parent,anim != 0
trigger1 = Pos y = 0
trigger1 = parent,var(21) = 0
value = 5000+(parent,var(1)*10000)

;地上やられ(倒れ)
[state 9000,0]
type = changeanim
trigger1 = parent,anim != [5000,5300]
trigger1 = parent,anim != 195
trigger1 = parent,anim != [888,889]
trigger1 = parent,anim != 0
trigger1 = Pos y = 0
trigger1 = parent,var(21) = 1
value = 5080+(parent,var(1)*10000)

;地上やられ(倒れ2)
[state 9000,0]
type = changeanim
trigger1 = parent,anim != [5000,5300]
trigger1 = parent,anim != 195
trigger1 = parent,anim != [888,889]
trigger1 = parent,anim != 0
trigger1 = Pos y = 0
trigger1 = parent,var(21) = 2
value = 5110+(parent,var(1)*10000)

;空中やられ（吹っ飛び）
[state 9000,0]
type = changeanim
trigger1 = parent,anim != [5000,5300]
trigger1 = parent,anim != 195
trigger1 = parent,anim != [888,889]
trigger1 = parent,anim != 0
trigger1 = Pos y != 0
trigger1 = parent,P2BodyDist X >= 30
value = 7310+(parent,var(1)*10000)

;空中やられ（上）
[state 9000,0]
type = changeanim
trigger1 = parent,anim != [5000,5300]
trigger1 = parent,anim != 195
trigger1 = parent,anim != [888,889]
trigger1 = parent,anim != 0
trigger1 = Pos y != 0
trigger1 = parent,P2BodyDist Y >= 30
trigger1 = parent,P2BodyDist X < 30
value = 7312+(parent,var(1)*10000)

;空中やられ（下）
[state 9000,0]
type = changeanim
triggerall = parent,anim != [5000,5300]
triggerall = parent,anim != 195
triggerall = parent,anim != [888,889]
triggerall = parent,anim != 0
triggerall = Pos y != 0
trigger1 = parent,P2BodyDist Y < 0
trigger1 = parent,P2BodyDist X < 30
trigger2 = parent,fvar(20) = 7311+(parent,var(1)*10000)
value = 7311+(parent,var(1)*10000)

;空中やられ（横）
[state 9000,0]
type = changeanim
trigger1 = parent,anim != [5000,5300]
trigger1 = parent,anim != 195
trigger1 = parent,anim != [888,889]
trigger1 = parent,anim != 0
trigger1 = Pos y != 0
trigger1 = parent,P2BodyDist Y < 30
trigger1 = parent,P2BodyDist Y >= 0
trigger1 = parent,P2BodyDist X < 30
trigger1 = parent,fvar(20) != 7311+(parent,var(1)*10000)
value = 7310+(parent,var(1)*10000)

[State -2, 1]
type = ParentVarSet
trigger1 = time = 1
fvar(20) = anim

[State -2, 1]
type = ParentVaradd
triggerall = time = 1
trigger1= anim = 5300+(parent,var(1)*10000)
trigger2= anim = 7330+(parent,var(1)*10000)
trigger3= anim = 7331+(parent,var(1)*10000)
trigger4= anim = 7332+(parent,var(1)*10000)
fvar(21) = 1

[State -2, 1]
type = ParentVaradd
triggerall = time = 1
trigger1= anim = 5120+(parent,var(1)*10000)
trigger2= anim = 7340+(parent,var(1)*10000)
trigger3= anim = 7341+(parent,var(1)*10000)
trigger4= anim = 7342+(parent,var(1)*10000)
fvar(22) = 1

[state 20000,ca]
type = destroyself
trigger1 = time = 1
ignorehitpause = 1

[Statedef 5902]
type    = A
movetype= H
physics = N
juggle  = 0
velset = 0,0     
ctrl = 0                   
anim =  999999     
poweradd = 0 

[State ,SprPriority]
Type = SprPriority
Trigger1 = 1
value = 10
Persistent = 1
IgnoreHitPause = 0



;---------------------------------------------------------------------------
; States that are always executed (use statedef -2)
;---------------------------------------------------------------------------
[Statedef -2]

[State -2, Intro]
type = AssertSpecial
trigger1 = stateno = [100100,100500]
flag = NoBarDisplay
flag2 = timerfreeze

[State 0, AssertSpecial]
type = AssertSpecial
triggerall = (fvar(35) = 2 && var(39) >= 7) || (fvar(35) = 1 && var(39) >= 6) || ((fvar(11) >= 1) && var(1) = 0)
trigger1 = stateno = 3550
trigger2 = stateno = [94001,94012]
trigger3 = stateno = [84002,84011]
trigger4 = stateno = [100100,100500]
ignorehitpause = 1
flag = nokosnd

;当身関係
[State 0, ChangeState]
type = ChangeState
triggerall = stateno != 84002
triggerall = stateno != 84022
trigger1 = p2stateno = 84100 && time > 30
trigger2 = numhelper(84021) != 0 && time > 30
value = 84022

;当身関係

;龍拳
[State 0, ChangeState]
type = ChangeState
triggerall = stateno != 34023 && stateno != [34003,34010]
triggerall = var(1) = 3
trigger1 = fvar(27) = 1
;trigger2 = numhelper(34021) != 0 && time > 5
value = 34023
;ドラゴンスマッシュ
[State 0, ChangeState]
type = ChangeState
triggerall = stateno != 44023 && stateno != [44002,44008]
triggerall = var(1) = 4
trigger1 = fvar(27) = 1
;trigger2 = numhelper(34021) != 0 && time > 5
value = 44023
;10倍
[State 0, ChangeState]
type = ChangeState
triggerall = stateno != 64023 && stateno != [64004,64014]
triggerall = var(1) = 5 && var(10) = 1
trigger1 = fvar(27) = 1
;trigger2 = numhelper(34021) != 0 && time > 5
value = 64023

[State 0, VarSet]
type = VarSet
trigger1 = ctrl = 1
trigger2 = stateno = [34003,34010]
trigger3 = stateno = [44002,44008]
trigger4 = stateno = [64004,64014]
fvar(27) = 0

;-| タゲ取得フラグ |---------------------------------------------------------------------------------------------------
[State -2, マーキングフラグリセット]
type = varset
triggerall = !ishelper       ;本体だよー
triggerall = fvar(24)
triggerall = numhelper(910000)
trigger1 = roundstate < 1
trigger2 = !helper(910000),fvar(26)
fvar(24) = 0
ignorehitpause = 1
[State -2, マーキングフラグセット]
type = varset
triggerall = !ishelper
triggerall = !fvar(24)
triggerall = numhelper(910000)
trigger1 = helper(910000),fvar(26)
fvar(24) = 1
ignorehitpause = 1
;-| タゲ取得ヘルパー |---------------------------------------------------------------------------------------------------
[State -2, 当身型マーキングヘルパー]
type = helper
triggerall = (fvar(34) = 2 && var(39) >= 7) || (fvar(34) = 1 && var(39) >= 6) || ((fvar(11) = 1 || fvar(11) = 3) && var(1) = 0) || ((fvar(12) = 1 || fvar(12) = 3) && var(11) != 0)
triggerall = !ishelper
trigger1 = !numHelper(910000)
helpertype = player
name = "Marking1"
ID = 910000
postype = p1
pos = 0, 0
supermovetime = 2147483647	
pausemovetime = 2147483647	
ignorehitpause = 1
[State -2, 固定]
type = SelfState
trigger1 = ishelper(910000)
value = 910000
ignorehitpause = 1
;-| 超即死当身 |---------------------------------------------------------------------------------------------------

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = stateno = [94000,94011]
trigger2 = stateno = 94012 && time < 305
trigger3 = stateno = [84002,84010]
trigger4 = stateno = 84011 && time < 300
trigger5 = stateno = [76001,76003]
trigger6 = stateno = [1600,1650]
trigger7 = stateno = [34001,34003]
trigger8 = stateno = 34004 && time < 290
trigger9 = stateno = [44002,44007]
trigger10 = stateno = 44008 && time < 95
trigger11 = stateno = [54004,54007]
trigger12 = stateno = 54008 && time < 60
trigger13 = stateno = [64004,64013]
trigger14 = stateno = 64014 && time < 20
trigger15 = stateno = [74001,74008]
trigger16 = stateno = 74009 && time < 10
trigger17 = stateno = [100101,100106]
trigger18 = stateno = 100107 && time < 460
flag = noko

[State 1110,当て身]
type = helper
triggerall = (fvar(35) = 2 && var(39) >= 7) || (fvar(35) = 1 && var(39) >= 6)
triggerall = numhelper(910001) = 0 && !Ishelper
triggerall = roundstate = 2
trigger1 = stateno = 3550 && time > 100 && time < 110
trigger2 = stateno = [34003,34004]
trigger3 = stateno = [44002,44008]
trigger4 = stateno = [54004,54008]
trigger5 = stateno = [64004,64014]
trigger6 = stateno = [84002,84011]
trigger7 = stateno = [94001,94012]
id = 910001
pos = 0,0
postype = P1
stateno = 910001
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1
SuperMoveTime = 99999999999
PauseMoveTime = 99999999999

[State 1110,当て身]
type = helper
triggerall = ((fvar(11) = 1 || fvar(11) = 3) && var(1) = 0) || ((fvar(12) = 1 || fvar(12) = 3) && var(11) != 0)
triggerall = numhelper(910001) = 0 && !Ishelper
triggerall = roundstate = 2
trigger1 = stateno = [74001,74009]
trigger2 = stateno = [100101,100107]
id = 910001
pos = 0,0
postype = P1
stateno = 910001
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1
SuperMoveTime = 99999999999
PauseMoveTime = 99999999999

[State 0, VarSet]
type = VarSet
trigger1 = stateno = [10000,10015]
trigger2 = stateno = 74001
fvar(36) = 0

[State -3, - Helper]
type = Helper
triggerall = (NumHelper(3568) = 0)
trigger1 = stateno = 10000
trigger2 = stateno = 10001
trigger3 = stateno = 10002
trigger4 = stateno = 10003
trigger5 = stateno = 10004
trigger6 = stateno = 10005
trigger7 = stateno = 10006
helpertype = Normal
id = 3568
postype = p1
facing = 0
stateno = 3568
pos = 0,0
keyctrl = 0
ownpal = 1
supermovetime = 1300
pausemovetime = 1300

[State -3, - Helper]
type = Helper
triggerall = (NumHelper(3569) = 0)
trigger1 = stateno = 10004
helpertype = Normal
id = 3569
postype = p1
facing = 0
stateno = 3569
pos = 0,0
keyctrl = 0
ownpal = 1
supermovetime = 1300
pausemovetime = 1300

[State -3, - Helper]
type = Helper
trigger1 = (NumHelper(3565) = 0)
trigger1 = var(14) = 1
helpertype = Normal
id = 3565
postype = p1
facing = 0
stateno = 3565
pos = 0,0
helpertype = normal
keyctrl = 0
ownpal = 0
sprpriority = 0
supermovetime = 1300
pausemovetime = 1300

[State 0, VarSet]
type = VarSet
trigger1 = Lose = 1
var(9) = 1

[State 0, VarSet]
type = VarSet
trigger1 = var(52) = 7
var(48) = 6
[State 0, VarSet]
type = VarSet
trigger1 = var(52) = 6
var(48) = 5
[State 0, VarSet]
type = VarSet
trigger1 = var(52) <= 5
var(48) = var(52)

[State 3200, NotHitBy]
type = NotHitBy
triggerall = !(NumHelper(13502) = 0)
trigger1 = var(1) = 6
time = 1
value2 = SCA   

;見極め上
[State -1, Run Fwd]
type = ChangeState
value = 76000
triggerall = var(1) = 7
triggerall = alive = 1
triggerall = roundstate = 2
triggerall = enemy(0),HitDefAttr = SCA, NA
trigger1 = movetype = H

[State 0, VarSet]
type = VarSet
trigger1 = !Alive
trigger1 = P2Life > 800
var(49) = 1

[State -3, - Helper]
type = Helper
trigger1 = (NumHelper(24200) = 0)
trigger1 = var(27)!=0
helpertype = Normal
id = 24200
postype = p1
facing = 0
stateno = 24200
pos = 0,0
helpertype = normal
keyctrl = 0
ownpal = 0
sprpriority = 0
supermovetime = 1300
pausemovetime = 1300

[State 180, var]
type = varset
trigger1 = !alive
var(25)=1

[State 180, var]
type = varset
trigger1 = ctrl=1
trigger2 = roundstate=0
var(27)=0

[State 0, アニメ変更]
type = ChangeAnim
trigger1 = roundstate = 0
value = 0+(var(1)*(10000))+(var(10)+var(11))

[state -2 , サバイバルゲージ回復]
type = Varset
trigger1 = time = 0
trigger1 = roundstate = 0
trigger1 = var(33) < 700
var(33) = var(33)+300

[state -2 , サバイバルゲージ回復]
type = Varset
trigger1 = time = 0
trigger1 = roundstate = 0
trigger1 = var(33) >= 700
var(33) = 1000

[State 4500, 9]
type = Varset
trigger1 = roundstate = 0
trigger1 = var(31) = 1
var(1) = 0

[State 4500, 9]
type = Varset
trigger1 = roundstate = 0
trigger1 = var(31) = 1
var(10) = 0

[State 4500, 9]
type = Varset
trigger1 = roundstate = 0
trigger1 = var(31) = 1
var(11) = 0

[State -3, - Helper]
type = Helper
triggerall = (NumHelper(10020) = 0)
triggerall = var(10) = 1
trigger1 = roundstate = 0
trigger2 = ctrl = 1
helpertype = Normal
id = 10020
postype = p1
facing = 0
stateno = 10020
pos = 0,0
helpertype = normal
keyctrl = 0
ownpal = 0
sprpriority = 0
supermovetime = 1300
pausemovetime = 1300

[State 3200, NotHitBy]
type = NotHitBy
trigger1 = var(14) = 1
time = 1
value2 = SCA   

[State -2, varset]
Type = varset
trigger1 = ctrl = 1
var(14) = 0

[State -2, varset]
Type = varset
trigger1 = ctrl = 1
var(31) = 0

[State -2, varset]
Type = varset
trigger1 = ctrl = 1
fvar(23) = 0

[State -2, Intro]
type = AssertSpecial
trigger1 = var(31) != 0
flag = NoFG

;[State 720, player push]
;Type = PlayerPush
;Trigger1 = var(14) = 1
;Trigger1 = var(1) = 1
;Value = 0

[State -2, Intro];身勝手
type = AssertSpecial
triggerall = roundstate = 2
trigger1 = stateno = 10006
trigger2 = stateno = [44003,44008]
trigger3 = stateno = 44002 && time > 0
trigger4 = stateno = [64000,64014]
trigger5 = stateno = [74001,74009]
trigger6 = stateno = [84001,84010]
trigger7 = stateno = [94001,94013]
trigger8 = stateno = 84011 && time < 380
trigger9 = stateno = 4002 && time > 10 || stateno = 4003
trigger10 = stateno = [34003,34004]
trigger11 = stateno = 54003 && time > 39
trigger12 = stateno = [54004,54011]
trigger13 = stateno = 74010 && time < 380
flag = NoFG
Flag2 = NoBG
ignorehitpause = 1

[State 720, player push]
Type = PlayerPush
Trigger1 = var(14) = 1
Trigger1 = var(1) = 2
Value = 0

[State 1500, Angle Draw]
Type = AngleDraw
trigger1 = ctrl = 1
value = 0
Scale = 1, 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = ctrl = 1
id = 64002

[State 4500, dust];スパーク
type = explod
triggerall = alive
Triggerall = var(1) = 2 || var(1) = 3
triggerall = numexplod(10003)=0
trigger1 = ctrl = 1
trigger2 = roundstate = 0
trigger2 = stateno != 190
trigger2 = stateno != 192
anim = 13610
pos = 0,-30
sprpriority = 5
bindtime = -1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
RemoveTime = -1
scale = 1.0,1.0
;supermove = 1
id=10003
[State 4500, dust];スパーク
type = explod
triggerall = alive
Triggerall = var(1) = 2 || var(1) = 3
triggerall = numexplod(10003)=1
trigger1 = ctrl = 1
trigger2 = roundstate = 0
trigger2 = stateno != 190
trigger2 = stateno != 192
anim = 13612
pos = 0,0
sprpriority = 5
bindtime = -1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
RemoveTime = -1
scale = 1.0,0.8
;supermove = 1
id=10003

[State 4500, dust];スパーク
type = explod
triggerall = alive
Triggerall = var(1) = 2 || var(1) = 3
triggerall = numexplod(10004)=0
trigger1 = stateno = [2000,2150]
trigger2 = stateno = [3000,3050]
trigger3 = stateno = [3500,3550]
trigger4 = stateno = [10000,10015]
trigger5 = stateno = 24000
trigger6 = stateno = 34000
anim = 13610
pos = 0,-30
sprpriority = 5
bindtime = -1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
RemoveTime = -1
scale = 1.0,1.0
supermove = 1
id=10004
[State 4500, dust];スパーク
type = explod
triggerall = alive
Triggerall = var(1) = 2 || var(1) = 3
triggerall = numexplod(10004)=1
trigger1 = stateno = [2000,2150]
trigger2 = stateno = [3000,3050]
trigger3 = stateno = [3500,3550]
trigger4 = stateno = [10000,10015]
trigger5 = stateno = 24000
trigger6 = stateno = 34000
anim = 13612
pos = 0,0
sprpriority = 5
bindtime = -1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
RemoveTime = -1
scale = 1.0,0.8
supermove = 1
id=10004

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = movetype = H
id = 10003
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno = [2000,2150]
trigger2 = stateno = [3000,3050]
trigger3 = stateno = [3500,3550]
trigger4 = stateno = [10000,10015]
trigger5 = stateno = 24000
trigger6 = stateno = 34000
trigger7 = stateno = [10200,10212]
trigger8 = stateno = 193
id = 10003
ignorehitpause = 1
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = ctrl = 1
id = 10004
ignorehitpause = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = ctrl = 1
id = 1930

[State 0, StopSnd]
type = StopSnd
trigger1 = ctrl = 1
channel = 17

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = ctrl = 1
id = 10004

[State 4500, 7]
type = poweradd
trigger1 = MoveType = H
trigger1 = time = 0
value = 10+(var(39)*50)

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = ctrl = 1
id = 840430

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = ctrl = 1
id = 840431

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = ctrl = 1
trigger2 = roundstate != 2
trigger3 = stateno = 84011 && time > 300
ID=64002

;---------------------------------
;界王拳関連
[State -2, red]
type = PalFX
triggerall = alive
trigger1 = var(10) = 1
trigger2 = stateno=56005 && time >= 6
time = 1
add = ifelse(var(12)=1,120,100),0,0
ignorehitpause = 1

[State 4500, 5]
type = varadd
trigger1 = RoundState = 2
trigger1 = var(12)=1
trigger1 = var(34)>=0
;trigger1 = gametime % 3 = 0
var(34) = -1

[State 4500, dust]
type = explod
triggerall = alive
triggerall = Numexplod(1993) = 0
triggerall = (NumHelper(44300) = 0)
trigger1 = var(10) = 1
trigger1 = var(32) != 1
trigger2 = stateno=36005 && AnimElem = 2
anim = 1993
pos = 0,0
sprpriority = -5
bindtime = -1
ownpal = 1
id=1993
RemoveTime = -1
SuperMoveTime =-1
scale = ifelse(var(12)=1,0.8,0.7),ifelse(var(12)=1,0.8,0.7)

[State 4500, dust]
type = explod
triggerall = alive
triggerall = Numexplod(1970) = 0
triggerall = (NumHelper(44300) = 0)
trigger1 = var(10) = 1
trigger1 = var(32) != 1
trigger2 = stateno=36005 && AnimElem = 2
anim = 1990
pos = 0,0
sprpriority = -6
bindtime = -1
ownpal = 1
id=1970
RemoveTime = -1
SuperMoveTime =-1
scale = ifelse(var(12)=1,0.8,0.7),ifelse(var(12)=1,0.8,0.7)

[State 4500, dust]
type = explod
triggerall = alive
triggerall = Numexplod(19073) = 0
triggerall = (NumHelper(44300) = 0)
trigger1 = var(10) = 1
trigger1 = var(32) != 1
trigger2 = stateno=36005 && AnimElem = 2
anim = 1992
pos = 0,0
sprpriority = 10
bindtime = -1
ownpal = 1
id=19073
RemoveTime = -1
SuperMoveTime =-1
scale = ifelse(var(12)=1,1.1,1),ifelse(var(12)=1,1.1,1)

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno = 10014
trigger2 = stateno = 64000
trigger3 = stateno = 10015
trigger4 = stateno = 360
trigger5 = stateno = 361
trigger6 = anim = 1103
trigger7 = stateno = 1600 && time >=14 && time <=19
trigger8 = stateno = 1650 && time >=14 && time <=19
trigger9 = stateno = 9050
trigger10 = stateno = 9051
trigger11 = stateno = 181 && time >=22
trigger12 = stateno = 9100 && time >=5
trigger13 = stateno = 9101
trigger14 = stateno = 9102 && time <=2
trigger15 = stateno = 9150 && time >=5
trigger16 = stateno = 9151
trigger17 = stateno = 9152 && time <=2
trigger18 = stateno = 3000
trigger19 = stateno = 3050
trigger20 = stateno = 3051
trigger21 = stateno = 3052
trigger22 = stateno = 3100
trigger23 = stateno = 3150
trigger24 = stateno = 8250
trigger25 = anim = 1104
trigger26 = stateno = 66000 && time >18
trigger27 = !alive
trigger28 = !alive
trigger29 = anim = 101+(var(1)*(10000))
trigger30 = statetype = L
trigger31 = fvar(20) = 5080+(var(1)*(10000))
trigger32 = fvar(20) = 5110+(var(1)*(10000))
trigger33 = fvar(20) = 7312+(var(1)*(10000))
trigger34 = stateno = 3500 || (stateno = 3550 && time < 137)
trigger35 = stateno = 8400 && time = 21
id = 1993

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno = 10014
trigger2 = stateno = 64000
trigger3 = stateno = 10015
trigger4 = stateno = 360
trigger5 = stateno = 361
trigger6 = anim = 1103
trigger7 = stateno = 1600 && time >=14 && time <=19
trigger8 = stateno = 1650 && time >=14 && time <=19
trigger9 = stateno = 9050
trigger10 = stateno = 9051
trigger11 = stateno = 181 && time >=22
trigger12 = stateno = 9100 && time >=5
trigger13 = stateno = 9101
trigger14 = stateno = 9102 && time <=2
trigger15 = stateno = 9150 && time >=5
trigger16 = stateno = 9151
trigger17 = stateno = 9152 && time <=2
trigger18 = stateno = 3000
trigger19 = stateno = 3050
trigger20 = stateno = 3051
trigger21 = stateno = 3052
trigger22 = stateno = 3100
trigger23 = stateno = 3150
trigger24 = stateno = 8250
trigger25 = anim = 1104
trigger26 = stateno = 66000 && time >18
trigger27 = !alive
trigger28 = !alive
trigger29 = anim = 101+(var(1)*(10000))
trigger30 = statetype = L
trigger31 = fvar(20) = 5080+(var(1)*(10000))
trigger32 = fvar(20) = 5110+(var(1)*(10000))
trigger33 = fvar(20) = 7312+(var(1)*(10000))
trigger34 = stateno = 3500 || (stateno = 3550 && time < 137)
trigger35 = stateno = 8400 && time = 21
id = 1970

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno = 10014
trigger2 = stateno = 64000
trigger3 = stateno = 10015
trigger4 = stateno = 360
trigger5 = stateno = 361
trigger6 = anim = 1103
trigger7 = stateno = 1600 && time >=14 && time <=19
trigger8 = stateno = 1650 && time >=14 && time <=19
trigger9 = stateno = 9050
trigger10 = stateno = 9051
trigger11 = stateno = 181 && time >=22
trigger12 = stateno = 9100 && time >=5
trigger13 = stateno = 9101
trigger14 = stateno = 9102 && time <=2
trigger15 = stateno = 9150 && time >=5
trigger16 = stateno = 9151
trigger17 = stateno = 9152 && time <=2
trigger18 = stateno = 3000
trigger19 = stateno = 3050
trigger20 = stateno = 3051
trigger21 = stateno = 3052
trigger22 = stateno = 3100
trigger23 = stateno = 3150
trigger24 = stateno = 8250
trigger25 = anim = 1104
trigger26 = stateno = 66000 && time >18
trigger27 = !alive
trigger28 = !alive
trigger29 = anim = 101+(var(1)*(10000))
trigger30 = statetype = L
trigger31 = fvar(20) = 5080+(var(1)*(10000))
trigger32 = fvar(20) = 5110+(var(1)*(10000))
trigger33 = fvar(20) = 7312+(var(1)*(10000))
trigger34 = stateno = 3500 || (stateno = 3550 && time < 137)
trigger35 = stateno = 8400 && time = 21
id = 19073

[State 4500, dust]
type = explod
triggerall = alive
trigger1 = var(10) = 1
trigger1 = var(32) != 1
trigger1 = Numexplod(15003) = 0
trigger1 = anim = 101+(var(1)*(10000))
PosType = p1
anim = 1994
id = 15003
pos = 30,-30
sprpriority = -7
bindtime = -1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
RemoveTime = -1
scale = 1.1,0.9
supermovetime = -1
pausemovetime = 1300

[State 4500, dust]
type = explod
triggerall = alive
trigger1 = var(10) = 1
trigger1 = var(32) != 1
trigger1 = Numexplod(1994) = 0
trigger1 = anim = 101+(var(1)*(10000))
PosType = p1
anim = 1976
id = 1994
pos = 0,30
sprpriority = 20
bindtime = -1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
RemoveTime = -1
scale = 0.9,0.9
supermovetime = -1
pausemovetime = 1300


[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = anim != 101+(var(1)*(10000))
trigger1 = stateno != 1010
trigger1 = stateno != 1011
id = 1994
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = anim != 101+(var(1)*(10000))
trigger1 = stateno != 1010
trigger1 = stateno != 1011
id = 15003

[State 4500, dust]
type = explod
triggerall = alive
triggerall = Numexplod(1996) = 0
triggerall = var(10) = 1
triggerall = var(32) != 1
trigger1 = statetype = L
trigger2 = fvar(20) = 5080+(var(1)*(10000))
trigger3 = fvar(20) = 5110+(var(1)*(10000))
trigger4 = fvar(20) = 7312+(var(1)*(10000))
anim = 1990
pos = 0,20
sprpriority = -5
bindtime = -1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
id=1996
RemoveTime = -1
scale = 1.0,0.5

[State 4500, dust]
type = explod
triggerall = alive
triggerall = Numexplod(1995) = 0
triggerall = var(10) = 1
triggerall = var(32) != 1
trigger1 = statetype = L
trigger2 = fvar(20) = 5080+(var(1)*(10000))
trigger3 = fvar(20) = 5110+(var(1)*(10000))
trigger4 = fvar(20) = 7312+(var(1)*(10000))
anim = 1992
pos = 0,20
sprpriority = 5
bindtime = -1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
id=1995
RemoveTime = -1
scale = 1.1,0.65

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = statetype != L
trigger1 = fvar(20) != 5080+(var(1)*(10000))
trigger1 = fvar(20) != 5110+(var(1)*(10000))
trigger1 = fvar(20) != 7312+(var(1)*(10000))
trigger2 = anim = 84011 && time > 380
trigger3 = var(29) = 3
id = 1995
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = statetype != L
trigger1 = fvar(20) != 5080+(var(1)*(10000))
trigger1 = fvar(20) != 5110+(var(1)*(10000))
trigger1 = fvar(20) != 7312+(var(1)*(10000))
trigger2 = anim = 84011 && time > 380
trigger3 = var(29) = 3
id = 1996

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno = 66001
trigger2 = stateno = 66002
trigger3 = stateno = 66003
trigger4 = stateno = 66006 && time >=5
trigger5 = stateno = [2000,2150]
trigger6 = var(10) != 1
id = 1993
IgnoreHitPause = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno = 66001
trigger2 = stateno = 66002
trigger3 = stateno = 66003
trigger4 = stateno = 66006 && time >=5
trigger5 = stateno = [2000,2150]
trigger6 = var(10) != 1
id = 1970
IgnoreHitPause = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno = 66001
trigger2 = stateno = 66002
trigger3 = stateno = 66003
trigger4 = stateno = 66006 && time >=5
trigger5 = stateno = [2000,2150]
trigger6 = var(10) != 1
id = 19073
IgnoreHitPause = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = ctrl=1
ID=250012

[state -2 , 特殊ゲージ・最低値]
type = VarSet
trigger1 = ctrl = 1
var(32) = 0

[State 4500, dust]
type = explod
triggerall = alive
triggerall = Numexplod(11993) = 0
triggerall = (NumHelper(44300) = 0)
trigger1 = var(10) = 1
trigger1 = stateno = [2000,2150]
anim = 1993
pos = 0,0
sprpriority = -5
bindtime = -1
ownpal = 1
id=11993
RemoveTime = -1
scale = 0.8,0.8
supermoveTime = -1
[State 4500, dust]
type = explod
triggerall = alive
triggerall = Numexplod(11970) = 0
triggerall = (NumHelper(44300) = 0)
trigger1 = var(10) = 1
trigger1 = stateno = [2000,2150]
anim = 1990
pos = 0,0
sprpriority = -6
bindtime = -1
ownpal = 1
id=11970
RemoveTime = -1
scale = 0.7,.7
supermoveTime = -1
[State 4500, dust]
type = explod
triggerall = alive
triggerall = Numexplod(119073) = 0
triggerall = (NumHelper(44300) = 0)
trigger1 = var(10) = 1
trigger1 = stateno = [2000,2150]
anim = 1992
pos = 0,0
sprpriority = 10
bindtime = -1
ownpal = 1
id=119073
RemoveTime = -1
scale = 1,1
supermoveTime = -1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != [2000,2150]
trigger2 = var(10) != 1
id = 11993
IgnoreHitPause = 1
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != [2000,2150]
trigger2 = var(10) != 1
id = 11970
IgnoreHitPause = 1
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != [2000,2150]
trigger2 = var(10) != 1
id = 119073
IgnoreHitPause = 1

;-------------------------------
;1ヒット目根性値
[State -2, VarSet];カウントリセット
type = VarSet
trigger1 = MoveType != H
trigger2 = StateNo = [120, 159]
var(22) = 0
ignorehitpause = 1

[State -2, VarSet];ヒットカウント
type = VarSet
trigger1 = MoveType = H
trigger1 = StateNo != [120, 159]
var(22) = GetHitVar(HitCount)
ignorehitpause = 1
 
[State -2, LifeAdd];回復
type = LifeAdd
triggerall = Alive
trigger1 = var(22) = 1
value = GetHitVar(Damage) * 0.1
absolute = 1
persistent = 0
ignorehitpause = 1
;---------------------------------

[State 2200,オーラ上];身勝手
type = Explod
trigger1 = Numexplod(84042) = 0
trigger1 = var(1) = 6
trigger1 = var(14) = 0 || roundstate = 0 || stateno = 74011 || stateno = 84006 || stateno = 84009 || stateno = 1317 || (stateno = 84011 && animelem >= 6) || var(29) = 2 
id = 84042
anim = 84042
pos = 0, 100
scale = .7,1
postype = P1
bindtime = -1
removetime = -1
supermovetime = 120000
pausemovetime = 120000
sprpriority = -1;表示優先度
ownpal = 1
removeongethit = 1
[State 2200,オーラ上]
type = Explod
trigger1 = Numexplod(84043) = 0
trigger1 = var(1) = 6
trigger1 = var(14) = 0 || roundstate = 0 || stateno = 74011 || stateno = 84006 || stateno = 84009 || stateno = 1317 || (stateno = 84011 && animelem >= 6) || var(29) = 2
id = 84043
anim = 84042
pos = 0, 100
scale = .7,1
postype = P1
bindtime = -1
removetime = -1
supermovetime = 120000
pausemovetime = 120000
sprpriority = 5;表示優先度
ownpal = 1
removeongethit = 1

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = stateno = [84002,84011]
ID = 84042
sprpriority = 9

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = stateno = [84002,84011]
ID = 84043
sprpriority = 15

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno = 10014
trigger2 = stateno = 64000
trigger3 = stateno = 10015
trigger4 = stateno = 360
trigger5 = stateno = 361
trigger6 = anim = 1103
trigger7 = stateno = 1600 && time >=14 && time <=19
trigger8 = stateno = 1650 && time >=14 && time <=19
trigger9 = stateno = 9050
trigger10 = stateno = 9051
trigger11 = stateno = 181 && time >=22
trigger12 = stateno = 9100 && time >=5
trigger13 = stateno = 9101
trigger14 = stateno = 9102 && time <=2
trigger15 = stateno = 9150 && time >=5
trigger16 = stateno = 9151
trigger17 = stateno = 9152 && time <=2
trigger18 = stateno = 3000
trigger19 = stateno = 3050
trigger20 = stateno = 3051
trigger21 = stateno = 3052
trigger22 = stateno = 3100
trigger23 = stateno = 3150
trigger24 = stateno = 8250
trigger25 = anim = 1104
trigger26 = stateno = 66000 && time >18
trigger27 = !alive
trigger28 = !alive
trigger29 = anim = 101+(var(1)*(10000))
trigger30 = statetype = L
trigger31 = fvar(20) = 5080+(var(1)*(10000))
trigger32 = fvar(20) = 5110+(var(1)*(10000))
trigger33 = fvar(20) = 7312+(var(1)*(10000))
trigger34 = stateno = 1010 && time > 15
trigger35 = stateno = 1011
trigger36 = stateno = 84005
trigger37 = stateno = 84008
trigger38 = stateno = 84009 && time > 48
trigger39 = stateno = 76000
trigger40 = stateno = [94001,94010]
trigger41 = var(29) = 3
trigger42 = anim = 84011 && time > 380
id = 84042

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno = 10014
trigger2 = stateno = 64000
trigger3 = stateno = 10015
trigger4 = stateno = 360
trigger5 = stateno = 361
trigger6 = anim = 1103
trigger7 = stateno = 1600 && time >=14 && time <=19
trigger8 = stateno = 1650 && time >=14 && time <=19
trigger9 = stateno = 9050
trigger10 = stateno = 9051
trigger11 = stateno = 181 && time >=22
trigger12 = stateno = 9100 && time >=5
trigger13 = stateno = 9101
trigger14 = stateno = 9102 && time <=2
trigger15 = stateno = 9150 && time >=5
trigger16 = stateno = 9151
trigger17 = stateno = 9152 && time <=2
trigger18 = stateno = 3000
trigger19 = stateno = 3050
trigger20 = stateno = 3051
trigger21 = stateno = 3052
trigger22 = stateno = 3100
trigger23 = stateno = 3150
trigger24 = stateno = 8250
trigger25 = anim = 1104
trigger26 = stateno = 66000 && time >18
trigger27 = !alive
trigger28 = !alive
trigger29 = anim = 101+(var(1)*(10000))
trigger30 = statetype = L
trigger31 = fvar(20) = 5080+(var(1)*(10000))
trigger32 = fvar(20) = 5110+(var(1)*(10000))
trigger33 = fvar(20) = 7312+(var(1)*(10000))
trigger34 = stateno = 1010 && time > 15
trigger35 = stateno = 1011
trigger36 = stateno = 84005
trigger37 = stateno = 84008
trigger38 = stateno = 84009 && time > 48
trigger39 = stateno = 76000
trigger40 = stateno = [94001,94010]
trigger41 = var(29) = 3
trigger42 = anim = 84011 && time > 380
id = 84043

[State 4500, dust]
type = explod
triggerall = var(29) != 3
triggerall = alive
triggerall = var(1) = 6
triggerall = Numexplod(15003) = 0
trigger1 = anim = 101+(var(1)*(10000))
trigger2 = stateno = 1010 && time > 15
trigger3 = stateno = 1011
PosType = p1
anim = 84043
id = 15003
pos = 0,10
sprpriority = -7
bindtime = -1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
RemoveTime = -1
scale = 1.1,0.9
supermovetime = 1200
pausemovetime = 1200

[State 4500, dust]
type = explod
triggerall = var(29) != 3
triggerall = alive
triggerall = var(1) = 6
triggerall = Numexplod(1994) = 0
trigger1 = anim = 101+(var(1)*(10000))
trigger2 = stateno = 1010 && time > 15
trigger3 = stateno = 1011
PosType = p1
anim = 84044
id = 1994
pos = 0,10
sprpriority = 20
bindtime = -1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
RemoveTime = -1
scale = 0.9,0.9
supermovetime = 1200
pausemovetime = 1200

[State 4500, dust]
type = explod
triggerall = var(29) != 3
triggerall = alive
triggerall = Numexplod(1996) = 0
triggerall = var(1) = 6
triggerall = var(29) != 2
trigger1 = statetype = L
trigger2 = fvar(20) = 5080+(var(1)*(10000))
trigger3 = fvar(20) = 5110+(var(1)*(10000))
trigger4 = fvar(20) = 7312+(var(1)*(10000))
anim = 84042
pos = 0,60
sprpriority = -5
bindtime = -1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
id=1996
RemoveTime = -1
scale = 1.4,0.5

[State 4500, dust]
type = explod
triggerall = var(29) != 3
triggerall = alive
triggerall = Numexplod(1995) = 0
triggerall = var(1) = 6
triggerall = var(29) != 2
trigger1 = statetype = L
trigger2 = fvar(20) = 5080+(var(1)*(10000))
trigger3 = fvar(20) = 5110+(var(1)*(10000))
trigger4 = fvar(20) = 7312+(var(1)*(10000))
anim = 84042
pos = 0,60
sprpriority = 5
bindtime = -1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
id=1995
RemoveTime = -1
scale = 1.4,0.5

;------------------------------
;オーラ系
[State -2];超必殺でスパキン強制解除
type = varset
triggerall = var(12) = 1
trigger1 = stateno = 4000
trigger2 = stateno = 14000
trigger3 = stateno = 24000
trigger4 = stateno = 34000
trigger5 = stateno = 44000
trigger6 = stateno = 54000
trigger7 = stateno = 64000
var(34) = 0

[State -2];超必殺でスパキン強制解除
type = Varset
trigger1 = var(11) = 1
trigger2 = roundstate != 2
trigger3 = stateno = 4000
trigger4 = stateno = 14000
trigger5 = stateno = 24000
trigger6 = stateno = 34000
trigger7 = stateno = 44000
trigger8 = stateno = 54000
trigger9 = stateno = 64000
var(12) = 0


[State 4500, dust]
type = explod
triggerall = alive
trigger1 = Numexplod(15000) = 0
trigger1 = var(12) = 1
trigger1 = var(1) <= 3
anim = 1937+(var(1)*(10))
pos = 0,5
sprpriority = -5
bindtime = -1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
id=15000
RemoveTime = -1
scale = ifelse(var(1)=3,1.4,1.05),ifelse(var(1)=3,1.2,1.05)

[State 4500, dust]
type = explod
triggerall = alive
trigger1 = Numexplod(15000) = 1
trigger1 = var(12) = 1
trigger1 = var(1) <= 3
anim = 1934+(var(1)*(10))
pos = 0,5
sprpriority = 5
bindtime = -1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
id=15000
RemoveTime = -1
scale = ifelse(var(1)=3,1.3,0.95),ifelse(var(1)=3,1.1,0.95)

[State 4500, dust]
type = explod
triggerall = alive
trigger1 = Numexplod(15000) = 0
trigger1 = var(12) = 1
trigger1 = var(1) > 3
trigger1 = var(1) <= 5
trigger1 = var(10) = 0
anim = ifelse(var(1)=4,1997,1987)
pos = 0,5
sprpriority = -5
bindtime = -1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
id=15000
RemoveTime = -1
scale = 0.6,0.7

[State 4500, dust]
type = explod
triggerall = alive
trigger1 = Numexplod(15000) = 1
trigger1 = var(12) = 1
trigger1 = var(1) > 3
trigger1 = var(1) <= 5
trigger1 = var(10) = 0
anim = ifelse(var(1)=4,1971,1986)
pos = 0,5
sprpriority = 5
bindtime = -1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
id=15000
RemoveTime = -1
scale = 0.6,0.7

[State 4500, dust]
type = explod
triggerall = alive
trigger1 = Numexplod(15002) = 0
trigger1 = var(12) = 1
trigger1 = var(1) <= 3
trigger1 = anim = 101+(var(1)*(10000))
anim = 1938+(var(1)*(10))
pos = -20,40
sprpriority = -5
bindtime = -1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
id=15002
RemoveTime = -1
scale = 1.2,1.2

[State 4500, dust]
type = explod
triggerall = alive
trigger1 = Numexplod(15002) = 1
trigger1 = var(12) = 1
trigger1 = var(1) > 3
trigger1 = var(1) <= 5
trigger1 = var(10) = 0
trigger1 = anim = 101+(var(1)*(10000))
anim = 1938+(var(1)*(10))
pos = -70,-15
sprpriority = -5
bindtime = -1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
id=15002
RemoveTime = -1
scale = 0.95,0.95

[State 4500, dust]
type = explod
triggerall = alive
trigger1 = Numexplod(15002) = 0
trigger1 = var(12) = 1
trigger1 = var(1) > 3
trigger1 = var(1) <= 5
trigger1 = var(10) = 0
trigger1 = anim = 101+(var(1)*(10000))
anim = 1939+(var(1)*(10))
pos = -70,-15
sprpriority = 5
bindtime = -1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
id=15002
RemoveTime = -1
scale = 0.95,0.95

[State 4500, dust]
type = explod
triggerall = alive
trigger1 = Numexplod(15002) = 1
trigger1 = var(12) = 1
trigger1 = var(1) <= 3
trigger1 = anim = 101+(var(1)*(10000))
anim = 1936+(var(1)*(10))
pos = -10,35
sprpriority = 5
bindtime = -1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
id=15002
RemoveTime = -1
scale = 0.95,0.95

[State 4500, dust]
type = explod
triggerall = alive
triggerall = Numexplod(15004) = 0
triggerall = var(12) = 1
triggerall = var(1) <= 3
trigger1 = statetype = L
trigger2 = fvar(20) = 5080+(var(1)*(10000))
trigger3 = fvar(20) = 5110+(var(1)*(10000))
trigger4 = fvar(20) = 7312+(var(1)*(10000))
anim = 1930+(var(1)*(10))
pos = 0,20
sprpriority = -5
bindtime = -1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
id=15004
RemoveTime = -1
scale = 1.5,0.6

[State 4500, dust]
type = explod
triggerall = alive
triggerall = Numexplod(15004) = 1
triggerall = var(12) = 1
triggerall = var(1) <= 3
trigger1 = statetype = L
trigger2 = fvar(20) = 5080+(var(1)*(10000))
trigger3 = fvar(20) = 5110+(var(1)*(10000))
trigger4 = fvar(20) = 7312+(var(1)*(10000))
anim = 1931+(var(1)*(10))
pos = 0,20
sprpriority = 5
bindtime = -1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
id=15004
RemoveTime = -1
scale = 1.6,0.65

[State 4500, dust]
type = explod
triggerall = alive
triggerall = Numexplod(15004) = 0
triggerall = var(12) = 1
triggerall = var(1) > 3
triggerall = var(1) <= 5
triggerall = var(10) = 0
trigger1 = statetype = L
trigger2 = fvar(20) = 5080+(var(1)*(10000))
trigger3 = fvar(20) = 5110+(var(1)*(10000))
trigger4 = fvar(20) = 7312+(var(1)*(10000))
anim = ifelse(var(1)=4,1997,1987)
pos = 0,20
sprpriority = -5
bindtime = -1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
id=15004
RemoveTime = -1
scale = 1.0,0.6

[State 4500, dust]
type = explod
triggerall = alive
triggerall = Numexplod(15004) = 0
triggerall = var(12) = 1
triggerall = var(1) > 3
triggerall = var(1) <= 5
triggerall = var(10) = 0
trigger1 = statetype = L
trigger2 = fvar(20) = 5080+(var(1)*(10000))
trigger3 = fvar(20) = 5110+(var(1)*(10000))
trigger4 = fvar(20) = 7312+(var(1)*(10000))
anim = ifelse(var(1)=4,1971,1986)
pos = 0,20
sprpriority = 5
bindtime = -1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
id=15004
RemoveTime = -1
scale = 1.0,0.6

[State 3200, Aura0];スパキンオーラ
type = Explod
triggerall = Numexplod(15000) = 0
triggerall = var(1) = 6
trigger1 = var(12) = 1
anim = 1929
id=15000
sprpriority = -5
postype = p1
pos = 0,-20
bindtime = -1
removetime = -1
supermovetime = 120000
pausemovetime = 120000
scale = 0.6,0.54
ownpal = 1
;SuperMoveTime = ifelse(var(14) = 1,-1,0)

[State 3200, Aura0];スパキンオーラ
type = Explod
triggerall = Numexplod(15000) = 1
triggerall = var(1) = 6
trigger1 = var(12) = 1
anim = 1927
id=15000
sprpriority = -5
postype = p1
pos = 0,-80
bindtime = -1
removetime = -1
scale = 0.6,0.54
supermovetime = 120000
pausemovetime = 120000
ownpal = 1
;SuperMoveTime = ifelse(var(14) = 1,-1,0)

[State 3200, Aura0];スパキンオーラ
type = Explod
triggerall = Numexplod(15002) = 0
triggerall = var(1) = 6
trigger1 = var(12) = 1
anim = 1929
id=15002
sprpriority = -5
postype = p1
pos = 0,0
bindtime = -1
removetime = -1
scale = 1.2,0.40
supermovetime = 120000
pausemovetime = 120000
ownpal = 1
;SuperMoveTime = ifelse(var(14) = 1,-1,0)

[State 3200, Aura0];スパキンオーラ
type = Explod
triggerall = Numexplod(15002) = 1
triggerall = var(1) = 6
trigger1 = var(12) = 1
anim = 1927
id=15002
sprpriority = -5
postype = p1
pos = 0,-60
bindtime = -1
removetime = -1
scale = 1.2,0.40
supermovetime = 120000
pausemovetime = 120000
ownpal = 1
;SuperMoveTime = ifelse(var(14) = 1,-1,0)

[State 4500, dust]
type = explod
triggerall = alive
triggerall = Numexplod(15004) = 0
triggerall = var(12) = 1
triggerall = var(1) = 6
trigger1 = statetype = L
trigger2 = fvar(20) = 5080+(var(1)*(10000))
trigger3 = fvar(20) = 5110+(var(1)*(10000))
trigger4 = fvar(20) = 7312+(var(1)*(10000))
anim = 1929
pos = 0,20
sprpriority = -5
bindtime = -1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
id=15004
RemoveTime = -1
scale = 1.2,0.40
supermovetime = 120000
pausemovetime = 120000
ownpal = 1

[State 4500, dust]
type = explod
triggerall = alive
triggerall = Numexplod(15004) = 1
triggerall = var(12) = 1
triggerall = var(1) = 6
trigger1 = statetype = L
trigger2 = fvar(20) = 5080+(var(1)*(10000))
trigger3 = fvar(20) = 5110+(var(1)*(10000))
trigger4 = fvar(20) = 7312+(var(1)*(10000))
anim = 1929
pos = 0,35
sprpriority = -5
bindtime = -1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
id=15004
RemoveTime = -1
scale = 1.2,0.40
supermovetime = 120000
pausemovetime = 120000
ownpal = 1

[state -2, remove charge dust]
type = removeexplod
trigger1 = var(14) = 1 && stateno != 8400
trigger2 = stateno = 8400 && time <=20
trigger3 = stateno = 10000
trigger4 = stateno = 10001
trigger5 = stateno = 10002
trigger6 = stateno = 10003
trigger7 = stateno = 10010
trigger8 = stateno = 10011
trigger9 = stateno = 10012
trigger10 = stateno = 10014
trigger11 = stateno = 10015
trigger12 = stateno = 44000
trigger13 = stateno = 10015
trigger14 = stateno = 360
trigger15 = stateno = 361
trigger16 = anim = 1103
trigger17 = stateno = 1600 && time >=14 && time <=19
trigger18 = stateno = 1650 && time >=14 && time <=19
trigger19 = stateno = 9050
trigger20 = stateno = 9051
trigger21 = stateno = 181 && time >=22
trigger22 = stateno = 9100 && time >=5
trigger23 = stateno = 9101
trigger24 = stateno = 9102 && time <=2
trigger25 = stateno = 9150 && time >=5
trigger26 = stateno = 9151
trigger27 = stateno = 9152 && time <=2
trigger28 = stateno = 3000
trigger29 = stateno = 3050
trigger30 = stateno = 3051
trigger31 = stateno = 3052
trigger32 = stateno = 3100
trigger33 = stateno = 3150
trigger34 = stateno = 8250
trigger35 = anim = 1104
trigger36 = stateno = 46000 && time >18
trigger37 = stateno = 10014
trigger38 = var(11) = 1
trigger39 = var(11) = 1
trigger40 = var(12) != 1
trigger41 = !alive
trigger42 = RoundState != 2
trigger43 = anim = 101+(var(1)*(10000))
trigger44 = statetype = L
trigger45 = fvar(20) = 5080+(var(1)*(10000))
trigger46 = fvar(20) = 5110+(var(1)*(10000))
trigger47 = fvar(20) = 7312+(var(1)*(10000))
trigger48 = stateno = 10013 && time > 9
trigger49 = stateno = 800 && time > 0
id = 15000
IgnoreHitPause = 1

[state -2, remove charge dust]
type = removeexplod
trigger1 = anim != 101+(var(1)*(10000))
trigger2 = stateno = 9050
trigger3 = stateno = 9051
trigger4 = var(12) !=1
id = 15002
IgnoreHitPause = 1

[state -2, remove charge dust]
type = removeexplod
trigger1 = statetype != L
trigger1 = fvar(20) = 5080+(var(1)*(10000))
trigger1 = fvar(20) = 5110+(var(1)*(10000))
trigger1 = fvar(20) = 7312+(var(1)*(10000))
trigger2 = Numexplod(15000) != 0
trigger3 = Numexplod(1993) != 0
trigger4 = var(12) !=1
id = 15004
IgnoreHitPause = 1

[state -2, remove charge dust]
type = removeexplod
trigger1 = stateno != 9051
trigger1 = stateno != 56002
trigger1 = stateno != 56003
trigger1 = stateno != 56004
trigger2 = stateno = 56004 && AnimElem >= 5
id = 150021
IgnoreHitPause = 1

[state -2, remove charge dust]
type = removeexplod
trigger1 = stateno != 9051
trigger1 = stateno != 56002
trigger1 = stateno != 56003
trigger1 = stateno != 56004
trigger2 = stateno = 56004 && AnimElem >= 5
id = 150031
IgnoreHitPause = 1

[State 4501, StopSnd]
type = StopSnd
trigger1 = anim != 1900+(var(1)*(10000))
channel = 18

[State 0, RemoveExplod];オーラ消す
type = RemoveExplod
trigger1 = prevstateno = 3050
trigger2 = ctrl = 1
id = 3000
IgnoreHitPause = 1

[State 2200, 3];かめはめ波分岐フラグリセット
type = varSet
trigger1 = prevstateno = 3050
trigger2 = ctrl = 1
var(15) = 0

[State 2200, 3];瞬間移動フラグリセット
type = varSet
trigger1 = prevstateno = 3050
trigger2 = ctrl = 1
var(30) = 0

[State 0, VarSet];ドラゴンラッシュフラグリセット
type = VarSet
trigger1 = p2movetype != H
var(16) = 0

[State 0, VarSet];バニッシュムーブフラグリセット
type = VarSet
trigger1 = p2movetype != H
var(17) = 0

[State 0, VarSet];超ダッシュフラグリセット
type = VarSet
trigger1 = p2movetype != H
var(18) = 0

;必殺オーラ-------------------

[State 4500, dust]
type = explod
triggerall = Numexplod(16000) = 0
triggerall = var(12) = 1
trigger1 = (stateno = 3000) && time < 12 ;超かめはめ波
trigger2 = (stateno = 2000 || stateno = 2100 || stateno = 2050 || stateno = 2150) && var(10) = 0
trigger3 = stateno = 1759 ;ﾒﾃｵｱﾀｯｸ
trigger4 = stateno = 14000 || stateno = 14008 ;瞬間移動かめはめ波
trigger5 = stateno = [56000,56008]
anim = 1937+(var(1)*(10))
pos = 0,5
sprpriority = -5
bindtime = -1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
id=16000
RemoveTime = -1
SuperMoveTime =-1
scale = ifelse(var(1)=4,0.6,ifelse(var(1)=5,0.6,1.05)),ifelse(var(1)=4,0.7,ifelse(var(1)=5,0.7,1.05))

[State 4500, dust]
type = explod
triggerall = Numexplod(16001) = 0
triggerall = var(12) = 1
trigger1 = (stateno = 3000) && time < 12 ;超かめはめ波
trigger2 = (stateno = 2000 || stateno = 2100 || stateno = 2050 || stateno = 2150) && var(10) = 0
trigger3 = stateno = 1759 ;ﾒﾃｵｱﾀｯｸ
trigger4 = stateno = 14000 || stateno = 14008 ;瞬間移動かめはめ波
trigger5 = stateno = [56000,56008]
anim = ifelse(var(1)=5,1986,1934+(var(1)*(10)))
pos = 0,5
sprpriority = 5
bindtime = -1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
id=16001
RemoveTime = -1
SuperMoveTime =-1
SuperMoveTime =-1
scale = ifelse(var(1)=4,0.6,ifelse(var(1)=5,0.6,0.95)),ifelse(var(1)=4,0.7,ifelse(var(1)=5,0.7,0.95))

[State 3200, Aura0];スパキンオーラ
type = Explod
triggerall = Numexplod(16000) = 0
triggerall = var(12) = 1
triggerall = var(1) = 6
trigger1 = stateno = 3000 || stateno = 3050 ;超かめはめ波
trigger2 = stateno = 2000 || stateno = 2100 || stateno = 2050 || stateno = 2150 ;かめはめ波
trigger3 = stateno = 1759 ;ﾒﾃｵｱﾀｯｸ
trigger4 = stateno = 14000 || stateno = 14008 ;瞬間移動かめはめ波
anim = 1927
id=16000
sprpriority = -5
postype = p1
pos = 0,-80
bindtime = -1
removetime = -1
scale = 0.6,0.54
SuperMoveTime =-1
ownpal = 1

[State 3200, Aura0];スパキンオーラ
type = Explod
triggerall = Numexplod(16001) = 0
triggerall = var(12) = 1
triggerall = var(1) = 6
trigger1 = stateno = 3000 || stateno = 3050 ;超かめはめ波
trigger2 = stateno = 2000 || stateno = 2100 || stateno = 2050 || stateno = 2150 ;かめはめ波
trigger3 = stateno = 1759 ;ﾒﾃｵｱﾀｯｸ
trigger4 = stateno = 14000 || stateno = 14008 ;瞬間移動かめはめ波
anim = 1929
id=16001
sprpriority = -5
postype = p1
pos = 0,-20
bindtime = -1
removetime = -1
scale = 0.6,0.54
SuperMoveTime =-1
ownpal = 1

[State 0, RemoveExplod]
type = RemoveExplod
triggerall = stateno != 3050
trigger1 = var(12) != 1
trigger2 = var(14) != 1
trigger3 = stateno = 3011
trigger4 = stateno = 14004
trigger5 = (stateno = 3000) && time >= 12
id = 16000

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = Numexplod(16000) = 0
id = 16001

;スパーキングゲージ---------------------------------------
[State -2]
type = Helper
trigger1 = Numhelper(14000) = 0
trigger1 = var(54) > 0
stateno = 13500
ID = 14000
pos = 0,0
postype = left
helpertype = normal
name = "gauge"
keyctrl = 0
ownpal = 1

[State 4500, 5]
type = varset
trigger1 = var(34)<=0
var(12) = 2

[State 4500, 5]
type = varadd
trigger1 = RoundState = 2
trigger1 = var(12)=1
trigger1 = var(34)>=0
trigger1 = var(14)!=1
trigger1 = gametime % 2 = 0
var(34) = -1

[state -2 , 特殊ゲージ・最大値]
type = VarSet
trigger1 = RoundState = 1
var(34) = 1000

[state -2 , 特殊ゲージ・最大値]
type = VarSet
trigger1 = RoundState = 0
trigger1 = var(33) >= 1000
var(11) = 0


;サバイバルゲージ---------------------------------------
[State -2]
type = Helper
trigger1 = Numhelper(13000) = 0
trigger1 = var(54) > 0
trigger1 = var(1) < 6
stateno = 13000
ID = 13000
pos = 0,0
postype = left
helpertype = normal
name = "gauge"
keyctrl = 0
ownpal = 1

[State -2]
type = Helper
trigger1 = Numhelper(13001) = 0
trigger1 = var(54) > 0
stateno = 13001
ID = 13001
pos = 0,0
postype = left
helpertype = normal
name = "gauge3"
keyctrl = 0
ownpal = 1

[State -2]
type = Helper
trigger1 = Numhelper(13002) = 0
trigger1 = var(54) > 0
stateno = 13002
ID = 13002
pos = 0,0
postype = left
helpertype = normal
name = "gauge3"
keyctrl = 0
ownpal = 1

[State -2]
type = Helper
trigger1 = Numhelper(13003) = 0
trigger1 = var(1) >= 6
trigger1 = var(54) > 0
stateno = 13003
ID = 13003
pos = 0,0
postype = left
helpertype = normal
name = "gauge3"
keyctrl = 0
ownpal = 1

[State -2]
type = Helper
trigger1 = Numhelper(13004) = 0
trigger1 = var(54) > 0
trigger1 = var(1) >= 6
stateno = 13004
ID = 13004
pos = 0,0
postype = left
helpertype = normal
name = "gauge"
keyctrl = 0
ownpal = 1

[state -2 , サバイバルゲージ回復]
type = Varset
triggerall = RoundState = 2
trigger1 = var(33) > 1000
trigger2 = var(54) = 0
var(33) = 1000

[State 0, LifeAdd]
type = null
trigger1 = var(14) != 1
trigger1 = var(12) = 1
trigger1 = gametime % 3 = 0
trigger1 = var(39) = 4
value = 1

[State 0, LifeAdd]
type = LifeAdd
trigger1 = var(14) != 1
trigger1 = var(12) = 1
trigger1 = gametime % 3 = 0
trigger1 = var(39) = 5
value = 3

[State 0, LifeAdd]
type = LifeAdd
trigger1 = var(14) != 1
trigger1 = var(12) = 1
trigger1 = gametime % 3 = 0
trigger1 = var(39) = 6
value = 6

[State 0, LifeAdd]
type = LifeAdd
trigger1 = var(14) != 1
trigger1 = var(12) = 1
trigger1 = gametime % 3 = 0
trigger1 = var(39) >= 7
value = 10

[state -2 , 特殊ゲージ・通常]
type = Varadd
trigger1=var(20)=gametime*5
trigger1 = RoundState = 2
trigger1 = var(14) != 1
trigger1 = var(1) = 0 && var(11) = 0
trigger1 = gametime % 2 = 0
trigger1 = movetype != H
trigger1 = var(33) <= 1000
trigger1 = var(33) >= 0
var(33) = 1+ifelse(var(12)=2,0,var(12))

[state -2 , 特殊ゲージ・超サイヤ人]
type = Varadd
trigger1=var(20)=gametime*5
trigger1 = RoundState = 2
trigger1 = var(14) != 1
trigger1 = var(1) = 1 && var(11) = 0
trigger1 = gametime % 5 = 0
trigger1 = movetype != H
trigger1 = var(33) <= 1000
trigger1 = var(33) >= 0
var(33) = -fvar(14)+ifelse(var(12)=2,0,var(12))

[state -2 , 特殊ゲージ・超サイヤ人2]
type = Varadd
trigger1=var(20)=gametime*5
trigger1 = RoundState = 2
trigger1 = var(14) != 1
trigger1 = var(1) = 2 && var(11) = 0
trigger1 = gametime % 5 = 0
trigger1 = movetype != H
trigger1 = var(33) <= 1000
trigger1 = var(33) >= 0
var(33) = -fvar(15)+ifelse(var(12)=2,0,var(12))

[state -2 , 特殊ゲージ・超サイヤ人3]
type = Varadd
trigger1=var(20)=gametime*5
trigger1 = RoundState = 2
trigger1 = var(14) != 1
trigger1 = var(1) = 3 && var(11) = 0
trigger1 = gametime % 5 = 0
trigger1 = movetype != H
trigger1 = var(33) <= 1000
trigger1 = var(33) >= 0
var(33) = -fvar(16)+ifelse(var(12)=2,0,var(12))

[state -2 , 特殊ゲージ・超サイヤ人ゴッド]
type = Varadd
trigger1=var(20)=gametime*5
trigger1 = RoundState = 2
trigger1 = var(14) != 1
trigger1 = var(1) = 4 && var(11) = 0
trigger1 = gametime % 5 = 0
trigger1 = movetype != H
trigger1 = var(33) <= 1000
trigger1 = var(33) >= 0
var(33) = -fvar(17)+ifelse(var(12)=2,0,var(12))

[state -2 , 特殊ゲージ・超サイヤ人ブルー]
type = Varadd
trigger1=var(20)=gametime*5
trigger1 = RoundState = 2
trigger1 = var(14) != 1
trigger1 = var(1) = 5 && var(11) = 0 && var(10) = 0
trigger1 = gametime % 5 = 0
trigger1 = movetype != H
trigger1 = var(33) <= 1000
trigger1 = var(33) >= 0
var(33) = -fvar(18)+ifelse(var(12)=2,0,var(12))

[state -2 , 特殊ゲージ・超サイヤ人ブルー界王拳]
type = Varadd
trigger1=var(20)=gametime*5
trigger1 = RoundState = 2
trigger1 = var(14) != 1
trigger1 = var(1) = 5 && var(10) = 1
trigger1 = gametime % 5 = 0
trigger1 = movetype != H
trigger1 = var(33) <= 1000
trigger1 = var(33) >= 0
var(33) = -fvar(19)+ifelse(var(12)=2,0,var(12))

[state -2 , 特殊ゲージ・エネルギー切れ]
type = Varadd
trigger1 = RoundState = 2
trigger1 = var(1) = 0 && var(11) = 1
trigger1 = var(33) <= 1000
trigger1 = var(33) >= 0
var(33) = 1

[State 4500, 5]
type = ChangeState
triggerall = statetype != A
triggerall = stateno !=10015
triggerall = numexplod(10015)=0
triggerall = var(33) <= 0
trigger1 = ctrl = 1
value = 10015

[State 4500, 5]
type = varset
triggerall = statetype != A
triggerall = var(33) >= 1000
trigger1 = ctrl = 1
var(11) = 0

[State 230, 2]
type = stopsnd
trigger1 = RoundState = 2
channel = 8

[State 230, 2]
type = stopsnd
trigger1 = RoundState = 2
trigger1 = time = 0
channel = 1



;---------------------------------------------------
;変身パワーアップ

[State 4500, 5]
type = poweradd
trigger1 = RoundState = 2
trigger1 = var(11) != 1
trigger1 = var(39) = 0
trigger1 = var(14) != 1
value = ifelse(var(12)=1,var(12),0)*7

[State 4500, 5]
type = poweradd
trigger1 = RoundState = 2
trigger1 = var(11) != 1
trigger1 = var(39) = 1
trigger1 = var(14) != 1
value = 0+(ifelse(var(12)=1,var(12),0)*12)

[State 4500, 5]
type = poweradd
trigger1 = RoundState = 2
trigger1 = var(11) != 1
trigger1 = var(39) = 2
trigger1 = var(14) != 1
value = 0+(ifelse(var(12)=1,var(12),0)*20)

[State 4500, 5]
type = poweradd
trigger1 = RoundState = 2
trigger1 = var(11) != 1
trigger1 = var(39) = 3
trigger1 = var(14) != 1
value = 2+(ifelse(var(12)=1,var(12),0)*20)

[State 4500, 5]
type = poweradd
trigger1 = RoundState = 2
trigger1 = var(11) != 1
trigger1 = var(39) = 4
trigger1 = var(14) != 1
value = 5+(ifelse(var(12)=1,var(12),0)*25)

[State 4500, 5]
type = poweradd
trigger1 = RoundState = 2
trigger1 = var(11) != 1
trigger1 = var(39) = 5
trigger1 = var(14) != 1
value = 10+(ifelse(var(12)=1,var(12),0)*30)

[State 4500, 5]
type = poweradd
trigger1 = RoundState = 2
trigger1 = var(11) != 1
trigger1 = var(39) = 6
trigger1 = var(14) != 1
value = 100

[State 4500, 5]
type = poweradd
trigger1 = RoundState = 2
trigger1 = var(11) != 1
trigger1 = var(39) = 7
trigger1 = var(14) != 1
value = 1000

[State 4500, 5]
type = powerset
trigger1 = Partner,alive = 0
trigger1 = var(11) = 1
Value = 0

[State -2, AttackMulSet]
Type = AttackMulSet
trigger1 = var(39) = 0
trigger1 = var(11) != 1
Value = 1+ifelse(var(12)!=1,0,0.1)-fvar(13)

[State -2, AttackMulSet]
Type = AttackMulSet
trigger1 = var(39) = 1
trigger1 = var(11) != 1
Value = 1.1+ifelse(var(12)!=1,0,0.1)-fvar(13)

[State -2, AttackMulSet]
Type = AttackMulSet
trigger1 = var(39) = 2
trigger1 = var(11) != 1
Value = 1.2+ifelse(var(12)!=1,0,0.1)-fvar(13)

[State -2, AttackMulSet]
Type = AttackMulSet
trigger1 = var(39) = 3
trigger1 = var(11) != 1
Value = 1.5+ifelse(var(12)!=1,0,0.1)-fvar(13)

[State -2, AttackMulSet]
Type = AttackMulSet
trigger1 = var(39) = 4
trigger1 = var(11) != 1
Value = 2.0+ifelse(var(12)!=1,0,0.1)-fvar(13)

[State -2, AttackMulSet]
Type = AttackMulSet
trigger1 = var(39) = 5
trigger1 = var(11) != 1
Value = 2.5+ifelse(var(12)!=1,0,0.1)-fvar(13)

[State -2, AttackMulSet]
Type = AttackMulSet
trigger1 = var(39) = 6
trigger1 = var(11) != 1
Value = 5.0+ifelse(var(12)!=1,0,0.6)-fvar(13)

[State -2, AttackMulSet]
Type = AttackMulSet
trigger1 = var(39) = 7
trigger1 = var(11) != 1
Value = 6.0+ifelse(var(12)!=1,0,0.6)-fvar(13)+fvar(39)

[State -2, AttackMulSet]
Type = AttackMulSet
trigger1 = var(11) = 1
Value = 0.5-fvar(13)

[State -2, VarSet]
type = VarSet
trigger1 = var(39) = 0
trigger1 = var(11) != 1
fvar(30) = 1
ignorehitpause = 1

[State -2, VarSet]
type = VarSet
trigger1 = var(39) = 1
trigger1 = var(11) != 1
fvar(30) = 0.8
ignorehitpause = 1

[State -2, VarSet]
type = VarSet
trigger1 = var(39) = 2
trigger1 = var(11) != 1
fvar(30) = 0.7
ignorehitpause = 1

[State -2, VarSet]
type = VarSet
trigger1 = var(39) = 3
trigger1 = var(11) != 1
fvar(30) = 0.6
ignorehitpause = 1

[State -2, VarSet]
type = VarSet
trigger1 = var(39) = 4
trigger1 = var(11) != 1
fvar(30) = 0.5
ignorehitpause = 1

[State -2, VarSet]
type = VarSet
trigger1 = var(39) = 5
trigger1 = var(11) != 1
fvar(30) = 0.4
ignorehitpause = 1

[State -2, VarSet]
type = VarSet
trigger1 = var(39) = 6
trigger1 = var(11) != 1
fvar(30) = 0.3
ignorehitpause = 1

[State -2, VarSet]
type = VarSet
trigger1 = var(39) = 7
trigger1 = var(11) != 1
fvar(30) = 0.2
ignorehitpause = 1

[State -2, VarSet]
type = VarSet
trigger1 = fvar(30) < 0.01
fvar(30) = 0.01
ignorehitpause = 1


[State -2, VarSet]
type = VarSet
trigger1 = var(11) = 1
fvar(30) = 2.0
ignorehitpause = 1

[State -2, 0]
type = DefenceMulSet
trigger1 = 1
Value = fvar(30)

[State 3200, NotHitBy]
type = NotHitBy
triggerall = var(39) = 7
trigger1 = MoveType = H
trigger2 = statetype = L
value2 = ,AP

[state -2 , 極ゲージ]
type = Varadd
trigger1 = RoundState = 2
trigger1 = var(1) >= 6
trigger1 = var(36) <= 1000
trigger1 = var(36) >= 0
trigger1 = gametime % 6 = 0
var(36) = 1+(fvar(4))

[state -2 , 自動パワー上昇ゲージ]
type = Varadd
trigger1 = RoundState = 2
trigger1 = var(38) <= 1000
trigger1 = var(38) >= 0
trigger1 = gametime % 6 = 0
trigger1 = var(39) >= 7
var(38) = 1

[State 0, VarAdd]
type = VarAdd
trigger1 = RoundState = 2
trigger1 = var(38) <= 1000
trigger1 = var(39) >= 7
fvar(39) = (var(38)*0.000005)


[State 3200, NotHitBy]
type = NotHitBy
triggerall = var(39) = 4
trigger1 = stateno = [1000,1700]
trigger2 = stateno = [2000,2150]
trigger3 = stateno = [3000,3600]
trigger4 = stateno = [8000,8300]
time = 1
value2 = SCA
ignorehitpause = 1

[State 3200, NotHitBy]
type = NotHitBy
triggerall = var(39) = 5
trigger1 = MoveType = A
value2 = SCA

[State 3200, NotHitBy]
type = NotHitBy
triggerall = var(39) = 6
trigger1 = MoveType = A
trigger2 = stateno = 1600
trigger3 = stateno = 1650
trigger4 = stateno = 9050
trigger5 = stateno = 9052
value2 = SCA

[State 3200, NotHitBy]
type = NotHitBy
triggerall = var(39) = 7
trigger1 = MoveType = A
trigger2 = stateno = 1600
trigger3 = stateno = 1650
trigger4 = stateno = 9050
trigger5 = stateno = 9052
trigger6 = ctrl = 0
trigger7 = (NumHelper(3565) != 0)
trigger8 = stateno = 950
trigger9 = stateno = 1317
trigger10 = var(14) = 1
value2 = SCA

[State 0, LifeAdd]
type = LifeAdd
triggerall = var(39) = 6
trigger1 = RoundState = 2
trigger1 = gametime % 6 = 0
trigger1 = var(1) <= 5
value = 3

[State 0, LifeAdd]
type = LifeAdd
triggerall = var(39) = 7
trigger1 = RoundState = 2
trigger1 = gametime % 6 = 0
trigger1 = var(1) <= 5
value = 6

[State 0, LifeAdd]
type = LifeAdd
trigger1 = RoundState = 2
trigger1 = gametime % 6 = 0
trigger1 = var(39) = 7
trigger1 = var(1) >= 6
value = 3



;---------------------------------
;1ヒット目根性値
[State -2, VarSet];カウントリセット
type = VarSet
trigger1 = MoveType != H
trigger2 = StateNo = [120, 159]
var(22) = 0
ignorehitpause = 1

[State -2, VarSet];ヒットカウント
type = VarSet
trigger1 = MoveType = H
trigger1 = StateNo != [120, 159]
var(22) = GetHitVar(HitCount)
ignorehitpause = 1
 
[State -2, LifeAdd];回復
type = LifeAdd
triggerall = Alive
triggerall = var(22) = 1
trigger1 = var(1) != 0
trigger2 = var(11) = 1
value = GetHitVar(Damage) * (1.0 - fvar(30))
absolute = 1
persistent = 0
ignorehitpause = 1

;---------------------------------------------------

[State -2, DEBUG]
trigger1 = 1
type = DisplayToClipboard
ignorehitpause = 1
text = "choujin world\n http://choujin.50webs.com"


[State 1800, remove slashdown1]
type = Removeexplod
trigger1 = stateno != 1300
ID = 1800

[State 1800, remove slashdown2]
type = Removeexplod
trigger1 = stateno != 1350
ID = 1850

[state -2, remove charge dust]
type = removeexplod
trigger1 = stateno != 1900
id = 4040

[state -2, remove charge dust]
type = removeexplod
trigger1 = stateno != 800
id = 800

[state -2, remove charge dust]
type = removeexplod
trigger1 = stateno != 2100
id = 2100

[State 1001, dm spark]
type = RemoveExplod
trigger1 = stateno != 1001
trigger1 = stateno != 1051
ID = 1005

[State 1001, dm spark]
type = RemoveExplod
trigger1 = stateno != 1001
trigger1 = stateno != 1051
ID = 1006

[State 1001, dm spark]
type = RemoveExplod
trigger1 = stateno != 1001
trigger1 = stateno != 1051
ID = 1007

[state -2, stop charge voice]
type = stopsnd
trigger1 = stateno != 1900
channel = 2

[state -2, stop charge sound]
type = stopsnd
trigger1 = stateno != 1900
channel = 3

[state -2, stop voice]
type = stopsnd
trigger1 = stateno != 192
channel = 5




;---------------------------------------------------------------------------

[State -2]
type=selfstate
trigger1=!ishelper
trigger1=var(20)!=gametime*5
trigger1=var(39) = 7
trigger1=fvar(28) = 1
value=1600

; 必須スプライトの差し替え
[State -2]
type = AssertSpecial
trigger1=var(20)!=gametime*5
trigger1=var(1)>=1
trigger1=fvar(38)=0
flag = invisible
flag2 = noshadow
persistent = 1
time=1
ignorehitpause = 1
pausemovetime = 999
pausemove = 999
supermovetime = 999

[State -2]
type = helper
trigger1=var(20)!=gametime*5
trigger1=var(1)>=1
helpertype = normal
name = "required_sprite"
ID=500
pos = 0,0
postype = p1
stateno = 9001
keyctrl =0
ownpal = 0
ignorehitpause = 1

[State -2, 1]
type = Varset
trigger1=var(20)=gametime*5
trigger1=var(1)>=1
trigger2 = fvar(21) >= 42
fvar(21) = 0

[State -2, 1]
type = Varset
trigger1=var(20)=gametime*5
trigger1=var(1)>=1
fvar(22) = 0

[state 9000,0]
type = varset
trigger1=var(20)!=gametime*5
trigger1=var(1)>=1
trigger1 = Pos y != 0
var(21) = 1

[state 9000,0]
type = varset
trigger1=var(1)>=1
trigger1=var(21) = 1
trigger1 = Pos y = 0
trigger1= time >= 4
var(21) = 2

[state 9000,0]
type = varset
trigger1=var(1)>=1
trigger1=var(20)=gametime*5
var(21) = 0

[state 9000,0]
type = varset
trigger1=var(1)>=1
trigger1=var(20)=gametime*5
fvar(20) = 0

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = var(1)!=2
trigger1 = var(1)!=3
id=10003

[State 0, VarSet]
type = VarSet
trigger1 = ctrl=1
var(19)=0

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = ctrl = 1
id = 150121

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = ctrl = 1
id = 150131

[state -2, ステージ端検出(右)]
type       = Helper
trigger1   = !NumHelper(114516)
helpertype = normal
name       = "right"
stateno    = 114516
ID         = 114516
postype    = right
pos        = 0,0
facing     = 1
keyctrl    = 0
persistent = 0
pausemovetime = 2147483647
supermovetime = 2147483647
[state -2, ステージ端検出(左)]
type       = Helper
trigger1   = !NumHelper(114517)
helpertype = normal
name       = "left"
stateno    = 114517
ID         = 114517
postype    = left
pos        = 0,0
facing     = 1
keyctrl    = 0
persistent = 0
pausemovetime = 2147483647
supermovetime = 2147483647

[State -3, 前方端までの距離]
type     = Varset
Trigger1 = NumHelper(114516+(facing=-1))
var(50)  = floor(facing*(helper(114516+(facing=-1)),pos x-pos x))



;ランク---------------------------------------------
[State 0, VarSet];通常
type = VarSet
trigger1 = enemy(0),Name = "Songoku"
var(38) = enemy(0),var(1)

[State 0, VarSet];通常
type = VarSet
trigger1 = enemy(1),Name = "Songoku"
var(38) = enemy(1),var(1)

[State 0, VarSet];通常
type = VarSet
trigger1 = var(1) = 0
var(39) = var(40)

[State 0, VarSet];超サイヤ人
type = VarSet
trigger1 = var(1) = 1
var(39) = var(41)

[State 0, VarSet];超サイヤ人２
type = VarSet
trigger1 = var(1) = 2
var(39) = var(42)

[State 0, VarSet];超サイヤ人3
type = VarSet
trigger1 = var(1) = 3
var(39) = var(43)

[State 0, VarSet];超サイヤ人ゴッド
type = VarSet
trigger1 = var(1) = 4
var(39) = var(44)

[State 0, VarSet];超サイヤ人ブルー
type = VarSet
trigger1 = var(1) = 5
trigger1 = var(10) != 1
var(39) = var(45)

[State 0, VarSet];超サイヤ人ブルー界王拳
type = VarSet
trigger1 = var(1) = 5
trigger1 = var(10) = 1
var(39) = var(46)

[State 0, VarSet];身勝手の極意”兆”
type = VarSet
trigger1 = var(1) = 6
var(39) = var(51)

;必殺用ヘルパ
[State -3, - Helper]
type = Helper
trigger1 = (NumHelper(555510) = 0)
trigger1 = var(39) = 0
helpertype = Normal
id = 555510
postype = p1
facing = 0
stateno = 555510
pos = 0,0
keyctrl = 0
ownpal = 1
supermovetime = 1300
pausemovetime = 1300
[State -3, - Helper]
type = Helper
trigger1 = (NumHelper(555511) = 0)
trigger1 = var(39) = 1
helpertype = Normal
id = 555511
postype = p1
facing = 0
stateno = 555511
pos = 0,0
keyctrl = 0
ownpal = 1
supermovetime = 1300
pausemovetime = 1300
[State -3, - Helper]
type = Helper
trigger1 = (NumHelper(555512) = 0)
trigger1 = var(39) = 2
helpertype = Normal
id = 555512
postype = p1
facing = 0
stateno = 555512
pos = 0,0
keyctrl = 0
ownpal = 1
supermovetime = 1300
pausemovetime = 1300
[State -3, - Helper]
type = Helper
trigger1 = (NumHelper(555513) = 0)
trigger1 = var(39) = 3
helpertype = Normal
id = 555513
postype = p1
facing = 0
stateno = 555513
pos = 0,0
keyctrl = 0
ownpal = 1
supermovetime = 1300
pausemovetime = 1300
[State -3, - Helper]
type = Helper
trigger1 = (NumHelper(555514) = 0)
trigger1 = var(39) = 4
helpertype = Normal
id = 555514
postype = p1
facing = 0
stateno = 555514
pos = 0,0
keyctrl = 0
ownpal = 1
supermovetime = 1300
pausemovetime = 1300
[State -3, - Helper]
type = Helper
trigger1 = (NumHelper(555515) = 0)
trigger1 = var(39) = 5
helpertype = Normal
id = 555515
postype = p1
facing = 0
stateno = 555515
pos = 0,0
keyctrl = 0
ownpal = 1
supermovetime = 1300
pausemovetime = 1300
[State -3, - Helper]
type = Helper
trigger1 = (NumHelper(555516) = 0)
trigger1 = var(39) = 6
helpertype = Normal
id = 555516
postype = p1
facing = 0
stateno = 555516
pos = 0,0
keyctrl = 0
ownpal = 1
supermovetime = 1300
pausemovetime = 1300
[State -3, - Helper]
type = Helper
trigger1 = (NumHelper(555517) = 0)
trigger1 = var(39) = 7
helpertype = Normal
id = 555517
postype = p1
facing = 0
stateno = 555517
pos = 0,0
keyctrl = 0
ownpal = 1
supermovetime = 1300
pausemovetime = 1300

[State 930, dust]
type = Explod
triggerALL = !NumExplod(3574) 
trigger1 = roundstate != 2
anim = 3574
postype = p1
pos = 0,0
bindtime = -1
sprpriority = 2
ownpal = 1
ID = 3574

[State 930, dust]
type = Explod
triggerALL = !NumExplod(3575) 
trigger1 = roundstate != 2
anim = 3575
postype = p1
pos = 0,0
bindtime = -1
sprpriority = 2
ownpal = 1
ID = 3575

; ;--------------------------Finish Hit Explod
[Statedef 9000]
type = S
movetype = I
physics = N
anim = 3110

[State 9000, 1]
type = Explod
triggerall = (NumExplod(9000) < 1)
trigger1 = Time = 0
persistent = 0
anim = 4000
ID = 9000
postype = left
pos = 0, 0
velocity = 0, 0
accel = 0, 0
removetime = 24
sprpriority = -4
bindtime = -1
ontop = 1
ownpal = 1
supermovetime = 1000
pausemovetime = 1000
ignorehitpause = 1
;---------------------------------------------------------------------------
; States that are executed when in self's state file (use statedef -3)
;---------------------------------------------------------------------------


[Statedef -3]

[state -3];監視
type=varset
triggerall=!ishelper
trigger1=1
var(20)=gametime*5
ignorehitpause=1


[State -3, - Helper]
type = Helper
triggerall = (WinKO) && (NumHelper(9000) = 0)
trigger1 = StateNo = 3100 && (Time >= 0) && AnimElem = 16, >= 1 && AnimElem = 33, <= 1
;trigger2 = projhittime(2200) = 1
;trigger3 = projhittime(2300) = 1
helpertype = Normal
name = "Finish Effect"
id = 9000
pos = 0, 0
postype = p1
facing = 0
stateno = 9000
keyctrl = 0
ownpal = 1
supermovetime = 1000
pausemovetime = 1000
ignorehitpause = 1

[State -3, Corner]
type = Velset
trigger1 = FrontEdgeDist < 10 && vel x > 0.1
x = 0.1

[State 52, bounce Sound]
type = PlaySnd
trigger1 = Time = 1
trigger1 = stateno = 5100
value = 7, 2

[State 52, fall Sound]
type = PlaySnd
trigger1 = Time = 1
trigger1 = stateno = 5110
value = 7, 0

[State 52, Landing Sound]
type = PlaySnd
trigger1 = Time = 1
trigger1 = stateno = 106
value = 0, 2; 着地音

[State 350, recover]
type = PlaySnd
triggerall = Time = 1
triggerall = var(1) < 6
trigger1 = stateno = 5210
trigger2 = stateno = 5201
value = 2100,6
volume = -20

[State -3, Jumping Sound]
type = PlaySnd
triggerall = Time = 1
trigger1 = stateno = 40
value = 2100,1

[State -3, Double Jump Sound]
type = PlaySnd
triggerall = Time = 1
trigger1 = stateno = 45
value = 3000,8

[State -3, Backstep Sound]
type = PlaySnd
triggerall = Time = 1
trigger1 = stateno = 105
value = 3000,8;0,4

[State -2, backstep afterimage]
type = AfterImage
triggerall = Time = 1
trigger1 = stateno = 105
trigger2 = stateno = 700
time = 10
trans = add1
timegap = 1
framegap = 2
length = 8
palbright = 12,12,12
palcontrast = 225,225,225
palpostbright = 0,0,0
paladd = 0,0,0
palmul = 1,1,1

[State -2, sethitvoice]
type = VarRandom
triggerall = Time = 1
trigger1 = stateno = 5000
trigger2 = stateno = 5010
trigger3 = stateno = 5020
v = 4
range = 0,14

[State -2, hitvoice1]
type = PlaySnd
triggerall = var(1) < 6
triggerall = Time = 1
triggerall = Var(4) = [0,2]
triggerall = alive = 1
trigger1 = stateno = 5000
trigger2 = stateno = 5010
trigger3 = stateno = 5020
value = 5000,0

[State -2, hitvoice2]
type = PlaySnd
triggerall = var(1) < 6
triggerall = Time = 1
triggerall = Var(4) = [3,5]
triggerall = alive = 1
trigger1 = stateno = 5000
trigger2 = stateno = 5010
trigger3 = stateno = 5020
value = 5000,1

[State -2, hitvoice3]
type = PlaySnd
triggerall = var(1) < 6
triggerall = Time = 1
triggerall = Var(4) = [6,8]
triggerall = alive = 1
trigger1 = stateno = 5000
trigger2 = stateno = 5010
trigger3 = stateno = 5020
value = 5000,2

[State -2, hitvoice4]
type = PlaySnd
triggerall = var(1) < 6
triggerall = Time = 1
triggerall = Var(4) = [9,11]
triggerall = alive = 1
trigger1 = stateno = 5000
trigger2 = stateno = 5010
trigger3 = stateno = 5020
value = 5000,3




[State -2, Special KO]
type = Helper
triggerall = matchover = 0
triggerall = NumHelper(6969) = 0
trigger1 = alive = 0
helpertype = normal
name = "KO"
id = 6969
postype = p1
pos = 0,0
stateno = 999
keyctrl = 0
ownpal = 1
facep2 = 0
ignorehitpause = 1

[State 5000, 1]
type = ChangeAnim
trigger1 = stateno = 5020
trigger1 = time >= 0
trigger1 = NumHelper(6969) = 1
value = 25030
ignorehitpause = 1

;--------------------------------------------
;state -3


[State -3, jumpdust1];ジャンプホコリ1
type = explod
trigger1 = StateNo = 40 && Time = 1
postype = p1
pos = -4,0
spacing = 1
anim = 4010; 土煙小
ownpal = 1
scale = .5, .5
supermove = 1
pausemovetime = 999
supermovetime = 999

[State -3, jumpdust2];ジャンプホコリ2
type = explod
trigger1 = StateNo = 40 && Time = 1
postype = p1
pos = 4,0
facing = -1
spacing = 1
anim = 4010; 土煙小
ownpal = 1
scale = .5, .5
supermove = 1
pausemovetime = 999
supermovetime = 999

[State -3, landdust1];着地ホコリ1
type = explod
trigger1 = StateNo = 52 && Time = 1
postype = p1
pos = -17,0
spacing = 1
anim = 4010; 土煙小
ownpal = 1
scale = .5, .5
supermove = 1
pausemovetime = 999
supermovetime = 999

[State -3, landdust];着地ホコリ2
type = explod
trigger1 = StateNo = 52 && Time = 1
postype = p1
pos = 20,0
facing = -1
spacing = 1
anim = 4010; 土煙小
ownpal = 1
scale = .5, .5
supermove = 1
pausemovetime = 999
supermovetime = 999

[State -3, landdust1];バックステップ着地1
type = explod
trigger1 = StateNo = 106 && Time = 1
trigger2 = StateNo = 2210 && Time = 1
postype = p1
pos = -35,0
spacing = 1
anim = 4010; 土煙小
ownpal = 1
scale = .5, .5
supermove = 1
pausemovetime = 999
supermovetime = 999

[State -3, landdust];バックステップ着地2
type = explod
trigger1 = StateNo = 106 && Time = 1
trigger2 = StateNo = 2210 && Time = 1
postype = p1
pos = 8,0
facing = -1
spacing = 1
anim = 4010; 土煙小
ownpal = 1
scale = .5, .5
supermove = 1
pausemovetime = 999
supermovetime = 999


[State -2, リセット]
type = varset
triggerall = time > 0
trigger1 = enemy,movetype != H
trigger2 = enemy,ctrl
trigger3 = stateno = 3500
trigger4 = stateno = 4000
trigger5 = stateno = 14000
trigger6 = stateno = 24000
trigger7 = stateno = 34000
trigger8 = stateno = 44000
trigger9 = stateno = 54000
trigger10 = stateno = 64000
trigger11 = stateno = 74000
trigger12 = stateno = 84000
trigger13 = stateno = 94000
trigger14 = stateno = 100100
fvar(13) = 0

[State -2, 補正対象];浮かせ技
type = varadd
trigger1 = movehit = 1
trigger1 = hitdefattr = SCA,NA
trigger1 = fvar(13) < 0.7
fvar(13) = 0.05+(fvar(13)*0.45);　←ここの数字をいじると補正が強くなる

[State -2, 限界値]
type = varset
trigger1 = fvar(13) >= 0.7
fvar(13) = 0.7


;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;AI起動ヘルパー
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[StateDef 96600]
anim=9999
ctrl=0

[State 825]
type = assertspecial
trigger1 = 1
flag = invisible

[State 96600,間違いで本体が来たら立ちへ移行]
type=selfstate
trigger1=!ishelper
value=0

[State 96600,プレイヤー判定]
type=varset
Trigger1=command="up"&&root,command="up"
Trigger2=command="down"&&root,command="down"
Trigger3=command="back"&&root,command="back"
Trigger4=command="fwd"&&root,command="fwd"
Trigger5=command="a"&&root,command="a"
Trigger6=command="b"&&root,command="b"
Trigger7=command="c"&&root,command="c"
Trigger8=command="x"&&root,command="x"
Trigger9=command="y"&&root,command="y"
Trigger10=command="z"&&root,command="z"
Trigger11=command="start"&&root,command="start"
var(59)=-1

[State 96600,プレイヤー判定]
type=parentvarset
Trigger1=command="up"&&root,command="up"
Trigger2=command="down"&&root,command="down"
Trigger3=command="back"&&root,command="back"
Trigger4=command="fwd"&&root,command="fwd"
Trigger5=command="a"&&root,command="a"
Trigger6=command="b"&&root,command="b"
Trigger7=command="c"&&root,command="c"
Trigger8=command="x"&&root,command="x"
Trigger9=command="y"&&root,command="y"
Trigger10=command="z"&&root,command="z"
Trigger11=command="start"&&root,command="start"
var(59)=-1

[State 96600,立ったら消失]
Type = DestroySelf
TriggerAll=isHelper
Trigger1=root,var(59)!=0||var(59)=-1
Trigger2=command="up"&&root,command="up"
Trigger3=command="down"&&root,command="down"
Trigger4=command="back"&&root,command="back"
Trigger5=command="fwd"&&root,command="fwd"
Trigger6=command="a"&&root,command="a"
Trigger7=command="b"&&root,command="b"
Trigger8=command="c"&&root,command="c"
Trigger9=command="x"&&root,command="x"
Trigger10=command="y"&&root,command="y"
Trigger11=command="z"&&root,command="z"
Trigger12=command="start"&&root,command="start"

[State 96600,AIﾌﾗｸﾞON]
Type=varset
TriggerAll=var(59)!=-1
Trigger1=root,command="up"&&(roundstate=2&&root,ctrl)
Trigger2=root,command="down"&&(roundstate=2&&root,ctrl)
Trigger3=root,command="back"&&(roundstate=2&&root,ctrl)
Trigger4=root,command="fwd"&&(roundstate=2&&root,ctrl)
Trigger5=root,command="a"
Trigger6=root,command="b"
Trigger7=root,command="c"
Trigger8=root,command="x"
Trigger9=root,command="y"
Trigger10=root,command="z"
Trigger11=root,command="start"
var(59)=1

;---------------------------------------------------------------------------
;============================AI専用動作=========================================
;---------------------------------------------------------------------------


;---------------------------------------------------------------------------
[Statedef 88000,追撃待機]
type = S
movetype = I
physics = S
anim = 0+(var(1)*(10000)) 
sprpriority = 0

[State 88000, オートターン]
type = Turn
trigger1 = P2Dist X < 0

[State 88000, しゃがみ状態]
type = ChangeAnim
trigger1 = time = 0
trigger1 = prevstateno = 460
value = 11+(var(1)*(10000)) 

[State 88000, しゃがみ状態]
type = StateTypeSet
trigger1 = Anim = 11+(var(1)*(10000)) 
statetype = C
physics = C

[State 88000, 待機解除]
type = ChangeState
trigger1 = time > 10
value = ifelse(Anim=11+(var(1)*(10000)) ,12+(var(1)*(10000)) ,0+(var(1)*(10000)) )
ctrl = 1

;---------------------------------------------------------------------------
; 間合い調節
[Statedef 88020]
type = S
physics = S
anim = 0+(var(1)*(10000)) 
ctrl = 0
sprpriority = 0

[State 88020, オートターン]
type = Turn
trigger1 = P2Dist X < 0

[State 88020, 速度]
type = VelSet
trigger1 = P2BodyDist X = [70,80]
x = 0

[State 88020, 速度]
type = VelSet
trigger1 = P2BodyDist X > 80
x = const(velocity.walk.fwd.x)

[State 88020, 速度]
type = VelSet
trigger1 = P2BodyDist X < 70
x = const(velocity.walk.back.x)

[State 88020, アニメ変更]
type = ChangeAnim
trigger1 = vel x > 0
trigger1 = Anim != 20+(var(1)*(10000)) 
value = 20+(var(1)*(10000)) 

[State 88020, アニメ変更]
type = ChangeAnim
trigger1 = vel x < 0
trigger1 = Anim != 21+(var(1)*(10000)) 
value = 21+(var(1)*(10000)) 

[State 88020, アニメ変更]
type = ChangeAnim
trigger1 = vel x = 0
trigger1 = Anim != 0+(var(1)*(10000)) 
value = 0+(var(1)*(10000)) 

[State 88020, 待機解除]
type = ChangeState
trigger1 = time > 40
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 8043]
type = S
physics = S
anim = 40+(var(1)*(10000)) 
ctrl = 0
sprpriority = 1

[State 88040,リセット]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0

[State 88040,リセット]
type = VarSet
trigger1 = Time = 0
var(5) = 0

[State 88040, エリアル用]
type = VarSet
trigger1 = prevstateno = 260 || prevstateno = 420 || prevstateno = 280
var(5) = 1

[State 88040, 前へ]
type = VarSet
trigger1 = P2StateNo = 712
trigger1 = P2BodyDist X > 145
trigger2 = prevstateno = 260 || prevstateno = 420 || prevstateno = 280
trigger3 = P2stateno = 9161
sysvar(1) = 1

[State 88040, 後へ]
type = VarSet
trigger1 = P2StateNo = 712
trigger1 = P2BodyDist X < 60
sysvar(1) = -1

[State 88040, 6]
type = VelSet
trigger1 = AnimTime = 0
x = ifelse(sysvar(1)=0, const(velocity.jump.neu.x), ifelse(sysvar(1)=1, const(velocity.jump.fwd.x), const(velocity.jump.back.x)))
y = const(velocity.jump.y)

[State 88040, 10]
type = ChangeState
trigger1 = AnimTime = 0
value = 8044

;--------------------------------
[Statedef 8044,AIジャンプ・上昇]
type    = A
physics = A

[State 88050,リセット]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0

[State 88050,加速]
type = VelSet
trigger1 = Time = 0 && Var(5)
x = 6
y = -12

[State 88050,アニメ変更]
type = ChangeAnim
trigger1 = Time = 0
value = ifelse((vel x)=0+(var(1)*(10000)) , 41+(var(1)*(10000)) , ifelse((vel x)>0+(var(1)*(10000)) , 42+(var(1)*(10000)) , 43+(var(1)*(10000)) ))

[State 88050,残像]
type = AfterImage
triggerall = Var(10) !=0
trigger1 = Time = 0 && Var(5) && Vel X != 0
time = 10
trans = add1
timegap = 1
framegap = 2
length = 8
palbright = 12,12,12
palcontrast = 225,225,225
palpostbright = 0,0,0
paladd = 0,0,0
palmul = 1,1,1

[State 88050,line1];スピードライン１
type = Explod
triggerall = Var(5) && Vel X != 0
trigger1 = Time % 4 = 0 && Time < 30  
anim = 8203  
postype = p1
pos = 10, -60
velocity = 0, 0
accel = 0, 0
random = 20, 20
removetime = -2
ownpal = 1

[State 88050, line2];スピードライン２
type = Explod
triggerall = Var(5) && Vel X != 0
trigger1 = Time % 4 = 0 && Time < 30  
anim = 8202  
postype = p1
pos = -5, -40
velocity = 0, 0
accel = 0, 0
random = 20, 20
removetime = -2
ownpal = 1

[State 88050, line3];スピードライン３
type = Explod
triggerall = Var(5) && Vel X != 0
trigger1 = Time % 4 = 0 && Time < 30  
anim = 8201  
postype = p1
pos = -10, -60
velocity = 0, 0
accel = 0, 0
random = 20, 20
removetime = -2
ownpal = 1

[State 88050, line4];スピードライン４
type = Explod
triggerall = Var(5) && Vel X != 0
trigger1 = Time % 4 = 0 && Time > 22 && Time < 34
anim = 8200
postype = p1
pos = 5, -40
velocity = 0, 0
accel = 0, 0
random = 40, 15
removetime = -2
ownpal = 1

;---------------------------------------------------------------------------
[Statedef 9741,AI認識ヘルパー]
ctrl=0

[State 9741,間違いで本体が来たら立ちへ移行]
type=selfstate
trigger1=!ishelper
value=0

[State 9741,プレイヤー判定]
type=varset
trigger1=command="up"&&root,command="up"
trigger2=command="down"&&root,command="down"
trigger3=command="back"&&root,command="back"
trigger4=command="fwd"&&root,command="fwd"
trigger5=command="a"&&root,command="a"
trigger6=command="b"&&root,command="b"
trigger7=command="c"&&root,command="c"
trigger8=command="x"&&root,command="x"
trigger9=command="y"&&root,command="y"
trigger10=command="z"&&root,command="z"
var(59)=-1

[State 9741,立ったら消失]
Type = DestroySelf
triggerAll = isHelper
Trigger1 = root,var(59)||var(59)=-1
trigger2=command="up"&&root,command="up"
trigger3=command="down"&&root,command="down"
trigger4=command="back"&&root,command="back"
trigger5=command="fwd"&&root,command="fwd"
trigger6=command="a"&&root,command="a"
trigger7=command="b"&&root,command="b"
trigger8=command="c"&&root,command="c"
trigger9=command="x"&&root,command="x"
trigger10=command="y"&&root,command="y"
trigger11=command="z"&&root,command="z"

[State 9741,ﾌﾗｸﾞON]
type=varset
triggerall=var(59)!=-1
trigger1=root,command="up"
trigger2=root,command="down"
trigger3=root,command="back"
trigger4=root,command="fwd"
trigger5=root,command="a"
trigger6=root,command="b"
trigger7=root,command="c"
trigger8=root,command="x"
trigger9=root,command="y"
trigger10=root,command="z"
var(59)=1
